(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("mrSG"),s=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("q/0M"),a=n("zVF4"),l=n("S+S0"),u=n("x7I3"),c=s.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();h.UNAUTHENTICATED=new h(null),h.i=new h("google-credentials-uid"),h.o=new h("first-party-uid");var d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error),p=function(t,e){this.user=e,this.type="OAuth",this.h={},this.h.Authorization="Bearer "+t},m=function(){function t(){this.u=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype._=function(){},t.prototype.l=function(t){this.u=t,t(h.UNAUTHENTICATED)},t.prototype.T=function(){this.u=null},t}(),g=function(){function t(t){var e=this;this.m=null,this.currentUser=h.UNAUTHENTICATED,this.I=!1,this.R=0,this.u=null,this.forceRefresh=!1,this.m=function(){e.R++,e.currentUser=e.A(),e.I=!0,e.u&&e.u(e.currentUser)},this.R=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.m):(this.m(null),t.get().then((function(t){e.auth=t,e.m&&e.auth.addAuthTokenListener(e.m)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.R,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.R!==e)throw new f(d.ABORTED,"getToken aborted due to token change.");return n?(Ce("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new p(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype._=function(){this.forceRefresh=!0},t.prototype.l=function(t){this.u=t,this.I&&t(this.currentUser)},t.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.m),this.m=null,this.u=null},t.prototype.A=function(){var t=this.auth&&this.auth.getUid();return Ce(null===t||"string"==typeof t,"Received invalid UID: "+t),new h(t)},t}(),y=function(){function t(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=h.o}return Object.defineProperty(t.prototype,"h",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),v=function(){function t(t,e){this.P=t,this.V=e}return t.prototype.getToken=function(){return Promise.resolve(new y(this.P,this.V))},t.prototype.l=function(t){t(h.o)},t.prototype.T=function(){},t.prototype._=function(){},t}(),_=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new f(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new f(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new f(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new f(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.p=function(t){return this.seconds===t.seconds?Ie(this.nanoseconds,t.nanoseconds):Ie(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),b=function(){function t(t){this.timestamp=t}return t.v=function(e){return new t(e)},t.S=function(){return t.MIN},t.prototype.D=function(t){return this.timestamp.p(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.C=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.k=function(){return this.timestamp},t}();b.MIN=new b(new _(0,0));var w=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Te("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&Te("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.N=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.N},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.F(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.$(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.M=function(t){return this.$(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.L=function(){return this.$(this.segments,this.offset,this.length-1)},t.prototype.O=function(){return this.segments[this.offset]},t.prototype.B=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.U=function(){return 0===this.length},t.prototype.q=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.W=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.j=function(){return this.segments.slice(this.offset,this.limit())},t.F=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.prototype.K=function(){return this.j().join("/")},e.prototype.toString=function(){return this.K()},e.G=function(t){if(t.indexOf("//")>=0)throw new f(d.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(w);E.H=new E([]);var T=/^[_a-zA-Z][_a-zA-Z0-9]*$/,C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.J=function(t){return T.test(t)},e.prototype.K=function(){return this.j().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.J(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.K()},e.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},e.X=function(){return new e(["__name__"])},e.Z=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new f(d.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new f(d.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new f(d.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(w);C.H=new C([]);var S=function(){function t(t){this.path=t}return t.tt=function(e){return new t(E.G(e).M(5))},t.prototype.et=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===E.F(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.F=function(t,e){return E.F(t.path,e.path)},t.st=function(t){return t.length%2==0},t.nt=function(e){return new t(new E(e.slice()))},t}();S.EMPTY=new S(new E([]));var I=function(){function t(t,e){this.F=t,this.root=e||N.EMPTY}return t.prototype.it=function(e,n){return new t(this.F,this.root.it(e,n,this.F).rt(null,null,N.ot,null,null))},t.prototype.remove=function(e){return new t(this.F,this.root.remove(e,this.F).rt(null,null,N.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.U();){var n=this.F(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.U();){var r=this.F(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.U=function(){return this.root.U()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.ht=function(){return this.root.ht()},t.prototype.at=function(){return this.root.at()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ct=function(t){return this.root.ct(t)},t.prototype._t=function(){return new x(this.root,null,this.F,!1)},t.prototype.lt=function(t){return new x(this.root,t,this.F,!1)},t.prototype.dt=function(){return new x(this.root,null,this.F,!0)},t.prototype.ft=function(t){return new x(this.root,t,this.F,!0)},t}(),x=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.U();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.wt=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.U();)this.Et.push(t),t=t.right;else for(t=t.right;!t.U();)this.Et.push(t),t=t.left;return e},t.prototype.It=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),N=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.rt=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.U=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ct=function(t){return this.right.ct(t)||t(this.key,this.value)||this.left.ct(t)},t.prototype.min=function(){return this.left.U()?this:this.left.min()},t.prototype.ht=function(){return this.min().key},t.prototype.at=function(){return this.right.U()?this.key:this.right.at()},t.prototype.it=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.rt(null,null,null,r.left.it(t,e,n),null):0===i?r.rt(null,e,null,null,null):r.rt(null,null,null,null,r.right.it(t,e,n))).At()},t.prototype.Pt=function(){if(this.left.U())return t.EMPTY;var e=this;return e.left.Vt()||e.left.left.Vt()||(e=e.gt()),(e=e.rt(null,null,null,e.left.Pt(),null)).At()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.U()||i.left.Vt()||i.left.left.Vt()||(i=i.gt()),i=i.rt(null,null,null,i.left.remove(e,n),null);else{if(i.left.Vt()&&(i=i.pt()),i.right.U()||i.right.Vt()||i.right.left.Vt()||(i=i.yt()),0===n(e,i.key)){if(i.right.U())return t.EMPTY;r=i.right.min(),i=i.rt(r.key,r.value,null,null,i.right.Pt())}i=i.rt(null,null,null,null,i.right.remove(e,n))}return i.At()},t.prototype.Vt=function(){return this.color},t.prototype.At=function(){var t=this;return t.right.Vt()&&!t.left.Vt()&&(t=t.bt()),t.left.Vt()&&t.left.left.Vt()&&(t=t.pt()),t.left.Vt()&&t.right.Vt()&&(t=t.vt()),t},t.prototype.gt=function(){var t=this.vt();return t.right.left.Vt()&&(t=(t=(t=t.rt(null,null,null,null,t.right.pt())).bt()).vt()),t},t.prototype.yt=function(){var t=this.vt();return t.left.left.Vt()&&(t=(t=t.pt()).vt()),t},t.prototype.bt=function(){var e=this.rt(null,null,t.RED,null,this.right.left);return this.right.rt(null,null,this.color,e,null)},t.prototype.pt=function(){var e=this.rt(null,null,t.RED,this.left.right,null);return this.left.rt(null,null,this.color,null,e)},t.prototype.vt=function(){var t=this.left.rt(null,null,!this.left.color,null,null),e=this.right.rt(null,null,!this.right.color,null,null);return this.rt(null,null,!this.color,t,e)},t.prototype.St=function(){var t=this.Dt();return Math.pow(2,t)<=this.size+1},t.prototype.Dt=function(){if(this.Vt()&&this.left.Vt())throw Te("Red node has red child("+this.key+","+this.value+")");if(this.right.Vt())throw Te("Right child of ("+this.key+","+this.value+") is red");var t=this.left.Dt();if(t!==this.right.Dt())throw Te("Black depths differ");return t+(this.Vt()?0:1)},t}();N.EMPTY=null,N.RED=!0,N.ot=!1,N.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Te("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Te("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Te("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Te("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Te("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.rt=function(t,e,n,r,i){return this},t.prototype.it=function(t,e,n){return new N(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.U=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ct=function(t){return!1},t.prototype.ht=function(){return null},t.prototype.at=function(){return null},t.prototype.Vt=function(){return!1},t.prototype.St=function(){return!0},t.prototype.Dt=function(){return 0},t}());var k=function(){function t(t){this.F=t,this.data=new I(this.F)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ht()},t.prototype.last=function(){return this.data.at()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Ct=function(t,e){for(var n=this.data.lt(t[0]);n.It();){var r=n.wt();if(this.F(r.key,t[1])>=0)return;e(r.key)}},t.prototype.kt=function(t,e){var n;for(n=void 0!==e?this.data.lt(e):this.data._t();n.It();)if(!t(n.wt().key))return},t.prototype.Nt=function(t){var e=this.data.lt(t);return e.It()?e.wt().key:null},t.prototype._t=function(){return new A(this.data._t())},t.prototype.lt=function(t){return new A(this.data.lt(t))},t.prototype.add=function(t){return this.rt(this.data.remove(t).it(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.rt(this.data.remove(t)):this},t.prototype.U=function(){return this.data.U()},t.prototype.Ft=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.It();){var i=n.wt().key,s=r.wt().key;if(0!==this.F(i,s))return!1}return!0},t.prototype.j=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.rt=function(e){var n=new t(this.F);return n.data=e,n},t}(),A=function(){function t(t){this.$t=t}return t.prototype.wt=function(){return this.$t.wt().key},t.prototype.It=function(){return this.$t.It()},t}();function D(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function O(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function R(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var P=function(){function t(t){this.Mt=t}return t.fromBase64String=function(e){return new t(ge.Lt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return ge.Lt().btoa(this.Mt)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.Mt)},t.prototype.Ot=function(){return 2*this.Mt.length},t.prototype.D=function(t){return Ie(this.Mt,t.Mt)},t.prototype.isEqual=function(t){return this.Mt===t.Mt},t}();function F(t){return null==t}function M(t){return-0===t&&1/t==-1/0}function L(t){return"number"==typeof t&&Number.isInteger(t)&&!M(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function V(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function U(t){var e=$(t.mapValue.fields.__local_write_time__.timestampValue);return new _(e.seconds,e.nanos)}P.xt=new P("");var j=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function q(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?V(t)?4:10:Te("Invalid value type: "+JSON.stringify(t))}function B(t,e){var n=q(t);if(n!==q(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return U(t).isEqual(U(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=$(t.timestampValue),r=$(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Q(t.bytesValue).isEqual(Q(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return K(t.geoPointValue.latitude)===K(e.geoPointValue.latitude)&&K(t.geoPointValue.longitude)===K(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return K(t.integerValue)===K(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=K(t.doubleValue),r=K(e.doubleValue);return n===r?M(n)===M(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return xe(t.arrayValue.values||[],e.arrayValue.values||[],B);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(D(n)!==D(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!B(n[i],r[i])))return!1;return!0}(t,e);default:return Te("Unexpected value type: "+JSON.stringify(t))}}function z(t,e){return void 0!==(t.values||[]).find((function(t){return B(t,e)}))}function G(t,e){var n=q(t),r=q(e);if(n!==r)return Ie(n,r);switch(n){case 0:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=K(t.integerValue||t.doubleValue),r=K(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return H(t.timestampValue,e.timestampValue);case 4:return H(U(t),U(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Q(t),r=Q(e);return n.D(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Ie(n[i],r[i]);if(0!==s)return s}return Ie(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ie(K(t.latitude),K(e.latitude));return 0!==n?n:Ie(K(t.longitude),K(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=G(n[i],r[i]);if(s)return s}return Ie(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Ie(r[o],s[o]);if(0!==a)return a;var l=G(n[r[o]],i[s[o]]);if(0!==l)return l}return Ie(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Te("Invalid value type: "+n)}}function H(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ie(t,e);var n=$(t),r=$(e),i=Ie(n.seconds,r.seconds);return 0!==i?i:Ie(n.nanos,r.nanos)}function W(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=$(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Q(e.bytesValue).toBase64():"referenceValue"in e?S.tt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):Te("Invalid value type: "+JSON.stringify(e));var n}(t)}function $(t){if(Ce(!!t,"Cannot normalize null or undefined timestamp."),"string"==typeof t){var e=0,n=j.exec(t);if(Ce(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:K(t.seconds),nanos:K(t.nanos)}}function K(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Q(t){return"string"==typeof t?P.fromBase64String(t):P.fromUint8Array(t)}function Y(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.K()}}function Z(t){return!!t&&"integerValue"in t}function J(t){return!!t&&"arrayValue"in t}function X(t){return!!t&&"nullValue"in t}function tt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function et(t){return!!t&&"mapValue"in t}var nt=function(){function t(){}return t.prototype.Bt=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.Ut=function(t,e){return e},t.prototype.qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();nt.instance=new nt;var rt=function(){function t(t){this.elements=t}return t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.Ut=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ot(t),n=function(t){e.some((function(e){return B(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&xe(this.elements,e.elements,B)},t}(),it=function(){function t(t){this.elements=t}return t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.Ut=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ot(t),n=function(t){e=e.filter((function(e){return!B(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&xe(this.elements,e.elements,B)},t}(),st=function(){function t(t,e){this.serializer=t,this.Qt=e}return t.prototype.Bt=function(t,e){var n=this.qt(t),r=this.asNumber(n)+this.asNumber(this.Qt);return Z(n)&&Z(this.Qt)?this.serializer.Wt(r):this.serializer.jt(r)},t.prototype.Ut=function(t,e){return e},t.prototype.qt=function(t){return Z(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&B(this.Qt,e.Qt)},t.prototype.asNumber=function(t){return K(t.integerValue||t.doubleValue)},t}();function ot(t){return J(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var at=function(){function t(t){this.fields=t}return t.Kt=function(e){return new t(e)},t.Gt=function(e){var n=new k(C.F);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.zt=function(t){var e=!1;return this.fields.forEach((function(n){n.q(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),lt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ut=function(t,e){this.version=t,this.transformResults=e},ct=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ht",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Jt=function(t){return void 0!==this.updateTime?t instanceof bt&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof bt},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();ct.NONE=new ct;var ht=function(){function t(){}return t.prototype.Yt=function(t){},t.Xt=function(t){return t instanceof bt?t.version:b.MIN},t}(),dt=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Zt=r,i.type=0,i}return i.__extends(e,t),e.prototype.Ut=function(t,e){return this.Yt(t),new bt(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Yt(t),!this.Zt.Jt(t))return t;var r=ht.Xt(t);return new bt(this.key,r,this.value,{te:!0})},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Zt.isEqual(t.Zt)},e}(ht),ft=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.se=r,s.Zt=i,s.type=1,s}return i.__extends(e,t),e.prototype.Ut=function(t,e){if(this.Yt(t),!this.Zt.Jt(t))return new Et(this.key,e.version);var n=this.ne(t);return new bt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Yt(t),!this.Zt.Jt(t))return t;var r=ht.Xt(t),i=this.ne(t);return new bt(this.key,r,i,{te:!0})},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.se.isEqual(t.se)&&this.Zt.isEqual(t.Zt)},e.prototype.ne=function(t){var e;return e=t instanceof bt?t.data():yt.EMPTY,this.ie(e)},e.prototype.ie=function(t){var e=this,n=t.re();return this.se.fields.forEach((function(t){if(!t.U()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.oe()},e}(ht),pt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Zt=ct.exists(!0),r}return i.__extends(e,t),e.prototype.Ut=function(t,e){if(this.Yt(t),Ce(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.Zt.Jt(t))return new Et(this.key,e.version);var n=this.he(t),r=this.ae(t,e.transformResults),i=e.version,s=this.ue(n.data(),r);return new bt(this.key,i,s,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Yt(t),!this.Zt.Jt(t))return t;var r=this.he(t),i=this.ce(n,t,e),s=this.ue(r.data(),i);return new bt(this.key,r.version,s,{te:!0})},e.prototype.ee=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],s=t instanceof bt?t.field(i.field):void 0,o=i.transform.qt(s||null);null!=o&&(e=null==e?yt._e().set(i.field,o):e.set(i.field,o))}return e?e.oe():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&xe(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Zt.isEqual(t.Zt)},e.prototype.he=function(t){return t},e.prototype.ae=function(t,e){var n=[];Ce(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],s=i.transform,o=null;t instanceof bt&&(o=t.field(i.field)),n.push(s.Ut(o,e[r]))}return n},e.prototype.ce=function(t,e,n){for(var r=[],i=0,s=this.fieldTransforms;i<s.length;i++){var o=s[i],a=o.transform,l=null;e instanceof bt&&(l=e.field(o.field)),null===l&&n instanceof bt&&(l=n.field(o.field)),r.push(a.Bt(l,t))}return r},e.prototype.ue=function(t,e){for(var n=t.re(),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.oe()},e}(ht),mt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Zt=n,r.type=3,r}return i.__extends(e,t),e.prototype.Ut=function(t,e){return this.Yt(t),new wt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){return this.Yt(t),this.Zt.Jt(t)?new wt(this.key,b.S()):t},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Zt.isEqual(t.Zt)},e}(ht),gt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Zt=n,r.type=4,r}return i.__extends(e,t),e.prototype.Ut=function(t,e){Te("VerifyMutation should only be used in Transactions.")},e.prototype.Bt=function(t,e,n){Te("VerifyMutation should only be used in Transactions.")},e.prototype.ee=function(t){Te("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Zt.isEqual(t.Zt)},e}(ht),yt=function(){function t(t){this.proto=t}return t._e=function(){return t.EMPTY.re()},t.prototype.field=function(t){if(t.U())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!et(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.B()])||null},t.prototype.se=function(){return this.le(this.proto.mapValue)},t.prototype.le=function(t){var e=this,n=new k(C.F);return O(t.fields||{},(function(t,r){var i=new C([t]);if(10===q(r)){var s=e.le(r.mapValue).fields;s.U()?n=n.add(i):s.forEach((function(t){n=n.add(i.child(t))}))}else n=n.add(i)})),at.Kt(n)},t.prototype.isEqual=function(t){return B(this.proto,t.proto)},t.prototype.re=function(){return new vt(this)},t}();yt.EMPTY=new yt({mapValue:{}});var vt=function(){function t(t){this.de=t,this.fe=new Map}return t.prototype.set=function(t,e){return this.Te(t,e),this},t.prototype.delete=function(t){return this.Te(t,null),this},t.prototype.Te=function(t,e){for(var n=this.fe,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===q(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.B(),e)},t.prototype.oe=function(){var t=this.me(C.H,this.fe);return null!=t?new yt(t):this.de},t.prototype.me=function(t,e){var n=this,r=!1,i=this.de.field(t),s=et(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.me(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}(),_t=function(){function t(t,e){this.key=t,this.version=e}return t.Ee=function(t,e){return S.F(t.key,e.key)},t}(),bt=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).we=r,s.te=!!i.te,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return i.__extends(e,t),e.prototype.field=function(t){return this.we.field(t)},e.prototype.data=function(){return this.we},e.prototype.Ie=function(){return this.we.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.te===t.te&&this.hasCommittedMutations===t.hasCommittedMutations&&this.we.isEqual(t.we)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.we.toString()+", {hasLocalMutations: "+this.te+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.te||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.Re=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?G(r,i):Te("Trying to compare documents on fields that don't exist")},e}(_t),wt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_t),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_t),Tt=function(){function t(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Ae=null}return t.prototype.canonicalId=function(){if(null===this.Ae){var t=this.path.K();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),F(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Ae=t}return this.Ae},t.prototype.toString=function(){var t=this.path.K();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),F(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Pe=function(){return S.st(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Ct=function(){function t(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Ve=n,this.filters=r,this.limit=i,this.ge=s,this.startAt=o,this.endAt=a,this.pe=null,this.ye=null,this.startAt&&this.be(this.startAt),this.endAt&&this.be(this.endAt)}return t.ve=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.pe){var t=this.Se(),e=this.De();if(null!==t&&null===e)this.pe=t.Y()?[Lt]:[new Mt(t),Lt];else{this.pe=[];for(var n=!1,r=0,i=this.Ve;r<i.length;r++){var s=i[r];this.pe.push(s),s.field.Y()&&(n=!0)}n||this.pe.push((this.Ve.length>0?this.Ve[this.Ve.length-1].dir:Ot.ASCENDING)===Ot.ASCENDING?Lt:Vt)}}return this.pe},enumerable:!0,configurable:!0}),t.prototype.Ce=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.Ve.slice(),n,this.limit,this.ge,this.startAt,this.endAt)},t.prototype.ke=function(e){var n=this.Ve.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.ge,this.startAt,this.endAt)},t.prototype.Ne=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Fe=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.$e=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,e,this.endAt)},t.prototype.Me=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,this.startAt,e)},t.prototype.Le=function(e){return new t(e,null,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,this.startAt,this.endAt)},t.prototype.Oe=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Ve.length||1===this.Ve.length&&this.Ve[0].field.Y())},t.prototype.canonicalId=function(){return this.xe().canonicalId()+"|lt:"+this.ge},t.prototype.toString=function(){return"Query(target="+this.xe().toString()+"; limitType="+this.ge+")"},t.prototype.isEqual=function(t){return this.xe().isEqual(t.xe())&&this.ge===t.ge},t.prototype.Be=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var s=i[r],o=s.compare(t,e);if(0!==o)return o;n=n||s.field.Y()}return 0},t.prototype.matches=function(t){return this.Ue(t)&&this.qe(t)&&this.Qe(t)&&this.We(t)},t.prototype.je=function(){return!F(this.limit)&&"F"===this.ge},t.prototype.Ke=function(){return!F(this.limit)&&"L"===this.ge},t.prototype.De=function(){return this.Ve.length>0?this.Ve[0].field:null},t.prototype.Se=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof It&&n.Ge())return n.field}return null},t.prototype.ze=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof It&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Pe=function(){return this.xe().Pe()},t.prototype.He=function(){return null!==this.collectionGroup},t.prototype.xe=function(){if(!this.ye)if("F"===this.ge)this.ye=new Tt(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new Mt(r.field,r.dir===Ot.DESCENDING?Ot.ASCENDING:Ot.DESCENDING))}var i=this.endAt?new Ft(this.endAt.position,!this.endAt.before):null,s=this.startAt?new Ft(this.startAt.position,!this.startAt.before):null;this.ye=new Tt(this.path,this.collectionGroup,t,this.filters,this.limit,i,s)}return this.ye},t.prototype.Ue=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.et(this.collectionGroup)&&this.path.q(e):S.st(this.path)?this.path.isEqual(e):this.path.W(e)},t.prototype.qe=function(t){for(var e=0,n=this.Ve;e<n.length;e++){var r=n[e];if(!r.field.Y()&&null===t.field(r.field))return!1}return!0},t.prototype.Qe=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.We=function(t){return!(this.startAt&&!this.startAt.Je(this.orderBy,t)||this.endAt&&this.endAt.Je(this.orderBy,t))},t.prototype.be=function(t){},t}(),St=function(){function t(t){this.name=t}return t.G=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return Te("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t}();St.LESS_THAN=new St("<"),St.LESS_THAN_OR_EQUAL=new St("<="),St.EQUAL=new St("=="),St.GREATER_THAN=new St(">"),St.GREATER_THAN_OR_EQUAL=new St(">="),St.ARRAY_CONTAINS=new St("array-contains"),St.IN=new St("in"),St.ARRAY_CONTAINS_ANY=new St("array-contains-any");var It=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i.__extends(e,t),e.create=function(t,n,r){if(t.Y())return n===St.IN?new Nt(t,r):new xt(t,n,r);if(X(r)){if(n!==St.EQUAL)throw new f(d.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(tt(r)){if(n!==St.EQUAL)throw new f(d.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===St.ARRAY_CONTAINS?new kt(t,r):n===St.IN?new At(t,r):n===St.ARRAY_CONTAINS_ANY?new Dt(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&q(this.value)===q(e)&&this.Ye(G(e,this.value))},e.prototype.Ye=function(t){switch(this.op){case St.LESS_THAN:return t<0;case St.LESS_THAN_OR_EQUAL:return t<=0;case St.EQUAL:return 0===t;case St.GREATER_THAN:return t>0;case St.GREATER_THAN_OR_EQUAL:return t>=0;default:return Te("Unknown FieldFilter operator: "+this.op)}},e.prototype.Ge=function(){return[St.LESS_THAN,St.LESS_THAN_OR_EQUAL,St.GREATER_THAN,St.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.K()+this.op.toString()+W(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&B(this.value,t.value)},e.prototype.toString=function(){return this.field.K()+" "+this.op+" "+W(this.value)},e}((function(){})),xt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=S.tt(r.referenceValue),i}return i.__extends(e,t),e.prototype.matches=function(t){var e=S.F(t.key,this.key);return this.Ye(e)},e}(It),Nt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,St.IN,n)||this).keys=(n.arrayValue.values||[]).map((function(t){return S.tt(t.referenceValue)})),r}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(It),kt=function(t){function e(e,n){return t.call(this,e,St.ARRAY_CONTAINS,n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return J(e)&&z(e.arrayValue,this.value)},e}(It),At=function(t){function e(e,n){return t.call(this,e,St.IN,n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&z(this.value.arrayValue,e)},e}(It),Dt=function(t){function e(e,n){return t.call(this,e,St.ARRAY_CONTAINS_ANY,n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!J(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return z(e.value.arrayValue,t)}))},e}(It),Ot=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t}();Ot.ASCENDING=new Ot("asc"),Ot.DESCENDING=new Ot("desc");var Rt,Pt,Ft=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return W(t)})).join(",")},t.prototype.Je=function(t,e){for(var n=0,r=0;r<this.position.length;r++){var i=t[r],s=this.position[r];if(n=i.field.Y()?S.F(S.tt(s.referenceValue),e.key):G(s,e.field(i.field)),i.dir===Ot.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!B(this.position[e],t.position[e]))return!1;return!0},t}(),Mt=function(){function t(t,e){this.field=t,void 0===e&&(e=Ot.ASCENDING),this.dir=e,this.Xe=t.Y()}return t.prototype.compare=function(t,e){var n=this.Xe?bt.Ee(t,e):bt.Re(this.field,t,e);switch(this.dir){case Ot.ASCENDING:return n;case Ot.DESCENDING:return-1*n;default:return Te("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.K()+this.dir.toString()},t.prototype.toString=function(){return this.field.K()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Lt=new Mt(C.X(),Ot.ASCENDING),Vt=new Mt(C.X(),Ot.DESCENDING),Ut=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=b.MIN),void 0===s&&(s=b.MIN),void 0===o&&(o=P.xt),this.target=t,this.targetId=e,this.Ze=n,this.sequenceNumber=r,this.ts=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.es=function(e){return new t(this.target,this.targetId,this.Ze,e,this.ts,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ss=function(e,n){return new t(this.target,this.targetId,this.Ze,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ns=function(e){return new t(this.target,this.targetId,this.Ze,this.sequenceNumber,this.ts,e,this.resumeToken)},t}(),jt=function(t){this.count=t};function qt(t){switch(t){case d.OK:return Te("Treated status OK as error");case d.CANCELLED:case d.UNKNOWN:case d.DEADLINE_EXCEEDED:case d.RESOURCE_EXHAUSTED:case d.INTERNAL:case d.UNAVAILABLE:case d.UNAUTHENTICATED:return!1;case d.INVALID_ARGUMENT:case d.NOT_FOUND:case d.ALREADY_EXISTS:case d.PERMISSION_DENIED:case d.FAILED_PRECONDITION:case d.ABORTED:case d.OUT_OF_RANGE:case d.UNIMPLEMENTED:case d.DATA_LOSS:return!0;default:return Te("Unknown status code: "+t)}}function Bt(t){if(void 0===t)return we("GRPC error has no .code"),d.UNKNOWN;switch(t){case Rt.OK:return d.OK;case Rt.CANCELLED:return d.CANCELLED;case Rt.UNKNOWN:return d.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return d.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return d.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return d.INTERNAL;case Rt.UNAVAILABLE:return d.UNAVAILABLE;case Rt.UNAUTHENTICATED:return d.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return d.INVALID_ARGUMENT;case Rt.NOT_FOUND:return d.NOT_FOUND;case Rt.ALREADY_EXISTS:return d.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return d.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return d.FAILED_PRECONDITION;case Rt.ABORTED:return d.ABORTED;case Rt.OUT_OF_RANGE:return d.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return d.UNIMPLEMENTED;case Rt.DATA_LOSS:return d.DATA_LOSS;default:return Te("Unknown status code: "+t)}}(Pt=Rt||(Rt={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";var zt=new I(S.F);function Gt(){return zt}function Ht(){return Gt()}var Wt=new I(S.F);function $t(){return Wt}var Kt=new I(S.F);function Qt(){return Kt}var Yt=new k(S.F);function Zt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Yt,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Jt=new k(Ie);function Xt(){return Jt}var te=function(){function t(t){this.F=t?function(e,n){return t(e,n)||S.F(e.key,n.key)}:function(t,e){return S.F(t.key,e.key)},this.rs=$t(),this.os=new I(this.F)}return t.hs=function(e){return new t(e.F)},t.prototype.has=function(t){return null!=this.rs.get(t)},t.prototype.get=function(t){return this.rs.get(t)},t.prototype.first=function(){return this.os.ht()},t.prototype.last=function(){return this.os.at()},t.prototype.U=function(){return this.os.U()},t.prototype.indexOf=function(t){var e=this.rs.get(t);return e?this.os.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.os.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.os.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.rt(e.rs.it(t.key,t),e.os.it(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.rt(this.rs.remove(t),this.os.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.os._t(),r=e.os._t();n.It();){var i=n.wt().key,s=r.wt().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.rt=function(e,n){var r=new t;return r.F=this.F,r.rs=e,r.os=n,r},t}(),ee=function(){function t(){this.as=new I(S.F)}return t.prototype.track=function(t){var e=t.doc.key,n=this.as.get(e);n?0!==t.type&&3===n.type?this.as=this.as.it(e,t):3===t.type&&1!==n.type?this.as=this.as.it(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.as=this.as.it(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.as=this.as.it(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.as=this.as.remove(e):1===t.type&&2===n.type?this.as=this.as.it(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.as=this.as.it(e,{type:2,doc:t.doc}):Te("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.as=this.as.it(e,t)},t.prototype.us=function(){var t=[];return this.as.ut((function(e,n){t.push(n)})),t},t}(),ne=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.cs=n,this.docChanges=r,this._s=i,this.fromCache=s,this.ls=o,this.ds=a}return t.fs=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,te.hs(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this._s.U()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ls===t.ls&&this._s.isEqual(t._s)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.cs.isEqual(t.cs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),re=function(){function t(t,e,n,r,i){this.ts=t,this.Ts=e,this.ms=n,this.Es=r,this.ws=i}return t.Is=function(e,n){var r=new Map;return r.set(e,ie.Rs(e,n)),new t(b.MIN,r,Xt(),Gt(),Zt())},t}(),ie=function(){function t(t,e,n,r,i){this.resumeToken=t,this.As=e,this.Ps=n,this.Vs=r,this.gs=i}return t.Rs=function(e,n){return new t(P.xt,n,Zt(),Zt(),Zt())},t}(),se=function(t,e,n,r){this.ps=t,this.removedTargetIds=e,this.key=n,this.ys=r},oe=function(t,e){this.targetId=t,this.bs=e},ae=function(t,e,n,r){void 0===n&&(n=P.xt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},le=function(){function t(){this.vs=0,this.Ss=he(),this.Ds=P.xt,this.Cs=!1,this.ks=!0}return Object.defineProperty(t.prototype,"As",{get:function(){return this.Cs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ns",{get:function(){return 0!==this.vs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Fs",{get:function(){return this.ks},enumerable:!0,configurable:!0}),t.prototype.$s=function(t){t.Ot()>0&&(this.ks=!0,this.Ds=t)},t.prototype.Ms=function(){var t=Zt(),e=Zt(),n=Zt();return this.Ss.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Te("Encountered invalid change type: "+i)}})),new ie(this.Ds,this.Cs,t,e,n)},t.prototype.Ls=function(){this.ks=!1,this.Ss=he()},t.prototype.Os=function(t,e){this.ks=!0,this.Ss=this.Ss.it(t,e)},t.prototype.xs=function(t){this.ks=!0,this.Ss=this.Ss.remove(t)},t.prototype.Bs=function(){this.vs+=1},t.prototype.Us=function(){this.vs-=1},t.prototype.qs=function(){this.ks=!0,this.Cs=!0},t}(),ue=function(){function t(t){this.Qs=t,this.Ws=new Map,this.js=Gt(),this.Ks=ce(),this.Gs=new k(Ie)}return t.prototype.zs=function(t){for(var e=0,n=t.ps;e<n.length;e++){var r=n[e];t.ys instanceof bt?this.Hs(r,t.ys):t.ys instanceof wt&&this.Js(r,t.key,t.ys)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Js(s[i],t.key,t.ys)},t.prototype.Ys=function(t){var e=this;this.Xs(t,(function(n){var r=e.Zs(n);switch(t.state){case 0:e.tn(n)&&r.$s(t.resumeToken);break;case 1:r.Us(),r.Ns||r.Ls(),r.$s(t.resumeToken);break;case 2:r.Us(),r.Ns||e.removeTarget(n);break;case 3:e.tn(n)&&(r.qs(),r.$s(t.resumeToken));break;case 4:e.tn(n)&&(e.en(n),r.$s(t.resumeToken));break;default:Te("Unknown target watch change state: "+t.state)}}))},t.prototype.Xs=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ws.forEach((function(t,r){n.tn(r)&&e(r)}))},t.prototype.sn=function(t){var e=t.targetId,n=t.bs.count,r=this.nn(e);if(r){var i=r.target;if(i.Pe())if(0===n){var s=new S(i.path);this.Js(e,s,new wt(s,b.S()))}else Ce(1===n,"Single document existence filter with count: "+n);else this.in(e)!==n&&(this.en(e),this.Gs=this.Gs.add(e))}},t.prototype.rn=function(t){var e=this,n=new Map;this.Ws.forEach((function(r,i){var s=e.nn(i);if(s){if(r.As&&s.target.Pe()){var o=new S(s.target.path);null!==e.js.get(o)||e.on(i,o)||e.Js(i,o,new wt(o,t))}r.Fs&&(n.set(i,r.Ms()),r.Ls())}}));var r=Zt();this.Ks.forEach((function(t,n){var i=!0;n.kt((function(t){var n=e.nn(t);return!n||2===n.Ze||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new re(t,n,this.Gs,this.js,r);return this.js=Gt(),this.Ks=ce(),this.Gs=new k(Ie),i},t.prototype.Hs=function(t,e){if(this.tn(t)){var n=this.on(t,e.key)?2:0;this.Zs(t).Os(e.key,n),this.js=this.js.it(e.key,e),this.Ks=this.Ks.it(e.key,this.hn(e.key).add(t))}},t.prototype.Js=function(t,e,n){if(this.tn(t)){var r=this.Zs(t);this.on(t,e)?r.Os(e,1):r.xs(e),this.Ks=this.Ks.it(e,this.hn(e).delete(t)),n&&(this.js=this.js.it(e,n))}},t.prototype.removeTarget=function(t){this.Ws.delete(t)},t.prototype.in=function(t){var e=this.Zs(t).Ms();return this.Qs.an(t).size+e.Ps.size-e.gs.size},t.prototype.Bs=function(t){this.Zs(t).Bs()},t.prototype.Zs=function(t){var e=this.Ws.get(t);return e||(e=new le,this.Ws.set(t,e)),e},t.prototype.hn=function(t){var e=this.Ks.get(t);return e||(e=new k(Ie),this.Ks=this.Ks.it(t,e)),e},t.prototype.tn=function(t){var e=null!==this.nn(t);return e||be("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.nn=function(t){var e=this.Ws.get(t);return e&&e.Ns?null:this.Qs.un(t)},t.prototype.en=function(t){var e=this;this.Ws.set(t,new le),this.Qs.an(t).forEach((function(n){e.Js(t,n,null)}))},t.prototype.on=function(t,e){return this.Qs.an(t).has(e)},t}();function ce(){return new I(S.F)}function he(){return new I(S.F)}var de=function(){var t={};return t[Ot.ASCENDING.name]="ASCENDING",t[Ot.DESCENDING.name]="DESCENDING",t}(),fe=function(){var t={};return t[St.LESS_THAN.name]="LESS_THAN",t[St.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[St.GREATER_THAN.name]="GREATER_THAN",t[St.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[St.EQUAL.name]="EQUAL",t[St.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",t[St.IN.name]="IN",t[St.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",t}(),pe=function(){function t(t,e){this.cn=t,this.options=e}return t.prototype._n=function(t){var e=void 0===t.code?d.UNKNOWN:Bt(t.code);return new f(e,t.message||"")},t.prototype.ln=function(t){return this.options.dn||F(t)?t:{value:t}},t.prototype.fn=function(t){var e;return F(e="object"==typeof t?t.value:t)?null:e},t.prototype.Wt=function(t){return{integerValue:""+t}},t.prototype.jt=function(t){if(this.options.dn){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:M(t)?"-0":t}},t.prototype.Tn=function(t){return L(t)?this.Wt(t):this.jt(t)},t.prototype.k=function(t){return this.options.dn?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.v=function(t){var e=$(t);return new _(e.seconds,e.nanos)},t.prototype.mn=function(t){return this.options.dn?t.toBase64():t.toUint8Array()},t.prototype.En=function(t){return this.options.dn?(Ce(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),P.fromBase64String(t||"")):(Ce(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),P.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.k(t.k())},t.prototype.fromVersion=function(t){return Ce(!!t,"Trying to deserialize version that isn't set"),b.v(this.v(t))},t.prototype.wn=function(t,e){return this.In(e||this.cn).child("documents").child(t).K()},t.prototype.Rn=function(t){var e=E.G(t);return Ce(me(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.An=function(t){return this.wn(t.path)},t.prototype.tt=function(t){var e=this.Rn(t);return Ce(e.get(1)===this.cn.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.cn.projectId),Ce(!e.get(3)&&!this.cn.database||e.get(3)===this.cn.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.cn.database),new S(this.Pn(e))},t.prototype.Vn=function(t){return this.wn(t)},t.prototype.gn=function(t){var e=this.Rn(t);return 4===e.length?E.H:this.Pn(e)},Object.defineProperty(t.prototype,"pn",{get:function(){return new E(["projects",this.cn.projectId,"databases",this.cn.database]).K()},enumerable:!0,configurable:!0}),t.prototype.In=function(t){return new E(["projects",t.projectId,"databases",t.database])},t.prototype.Pn=function(t){return Ce(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.M(5)},t.prototype.yn=function(t,e){return{name:this.An(t),fields:e.proto.mapValue.fields}},t.prototype.bn=function(t){return{name:this.An(t.key),fields:t.Ie().mapValue.fields,updateTime:this.k(t.version.k())}},t.prototype.vn=function(t,e){var n=this.tt(t.name),r=this.fromVersion(t.updateTime),i=new yt({mapValue:{fields:t.fields}});return new bt(n,r,i,{hasCommittedMutations:!!e})},t.prototype.Sn=function(t){Ce(!!t.found,"Tried to deserialize a found document from a missing document.");var e=this.tt(t.found.name),n=this.fromVersion(t.found.updateTime),r=new yt({mapValue:{fields:t.found.fields}});return new bt(e,n,r,{})},t.prototype.Dn=function(t){Ce(!!t.missing,"Tried to deserialize a missing document from a found document."),Ce(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.tt(t.missing),n=this.fromVersion(t.readTime);return new wt(e,n)},t.prototype.Cn=function(t){return"found"in t?this.Sn(t):"missing"in t?this.Dn(t):Te("invalid batch get response: "+JSON.stringify(t))},t.prototype.kn=function(t){var e;if("targetChange"in t){var n=this.Nn(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=this.En(t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&this._n(s);e=new ae(n,r,i,o||null)}else if("documentChange"in t){var a=t.documentChange,l=this.tt(a.document.name),u=this.fromVersion(a.document.updateTime),c=new yt({mapValue:{fields:a.document.fields}}),h=new bt(l,u,c,{});e=new se(a.targetIds||[],a.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){var d=t.documentDelete,f=this.tt(d.document),p=d.readTime?this.fromVersion(d.readTime):b.S(),m=new wt(f,p);e=new se([],d.removedTargetIds||[],m.key,m)}else if("documentRemove"in t){var g=t.documentRemove,y=this.tt(g.document);e=new se([],g.removedTargetIds||[],y,null)}else{if(!("filter"in t))return Te("Unknown change type "+JSON.stringify(t));var v=t.filter,_=new jt(v.count||0);e=new oe(v.targetId,_)}return e},t.prototype.Nn=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Te("Got unexpected TargetChange.state: "+t)},t.prototype.Fn=function(t){if(!("targetChange"in t))return b.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?b.MIN:e.readTime?this.fromVersion(e.readTime):b.MIN},t.prototype.$n=function(t){var e,n=this;if(t instanceof dt)e={update:this.yn(t.key,t.value)};else if(t instanceof mt)e={delete:this.An(t.key)};else if(t instanceof ft)e={update:this.yn(t.key,t.data),updateMask:this.Mn(t.se)};else if(t instanceof pt)e={transform:{document:this.An(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Ln(t)}))}};else{if(!(t instanceof gt))return Te("Unknown mutation type "+t.type);e={verify:this.An(t.key)}}return t.Zt.Ht||(e.currentDocument=this.On(t.Zt)),e},t.prototype.xn=function(t){var e=this,n=t.currentDocument?this.Bn(t.currentDocument):ct.NONE;if(t.update){var r=this.tt(t.update.name),i=new yt({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=this.Un(t.updateMask);return new ft(r,i,s,n)}return new dt(r,i,n)}if(t.delete){var o=this.tt(t.delete);return new mt(o,n)}if(t.transform){var a=this.tt(t.transform.document),l=t.transform.fieldTransforms.map((function(t){return e.qn(t)}));return Ce(!0===n.exists,'Transforms only support precondition "exists == true"'),new pt(a,l)}if(t.verify){var u=this.tt(t.verify);return new gt(u,n)}return Te("unknown mutation proto: "+JSON.stringify(t))},t.prototype.On=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Te("Unknown precondition")},t.prototype.Bn=function(t){return void 0!==t.updateTime?ct.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ct.exists(t.exists):ct.NONE},t.prototype.Qn=function(t,e){var n=this.fromVersion(t.updateTime?t.updateTime:e);n.isEqual(b.MIN)&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new ut(n,r)},t.prototype.Wn=function(t,e){var n=this;return t&&t.length>0?(Ce(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.Qn(t,e)}))):[]},t.prototype.Ln=function(t){var e=t.transform;if(e instanceof nt)return{fieldPath:t.field.K(),setToServerValue:"REQUEST_TIME"};if(e instanceof rt)return{fieldPath:t.field.K(),appendMissingElements:{values:e.elements}};if(e instanceof it)return{fieldPath:t.field.K(),removeAllFromArray:{values:e.elements}};if(e instanceof st)return{fieldPath:t.field.K(),increment:e.Qt};throw Te("Unknown transform: "+t.transform)},t.prototype.qn=function(t){var e=null;"setToServerValue"in t?(Ce("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),e=nt.instance):"appendMissingElements"in t?e=new rt(t.appendMissingElements.values||[]):"removeAllFromArray"in t?e=new it(t.removeAllFromArray.values||[]):"increment"in t?e=new st(this,t.increment):Te("Unknown transform proto: "+JSON.stringify(t));var n=C.Z(t.fieldPath);return new lt(n,e)},t.prototype.jn=function(t){return{documents:[this.Vn(t.path)]}},t.prototype.Kn=function(t){var e=t.documents.length;return Ce(1===e,"DocumentsTarget contained other than 1 document: "+e),Ct.ve(this.gn(t.documents[0])).xe()},t.prototype.Gn=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Vn(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Vn(n.L()),e.structuredQuery.from=[{collectionId:n.B()}]);var r=this.zn(t.filters);r&&(e.structuredQuery.where=r);var i=this.Hn(t.orderBy);i&&(e.structuredQuery.orderBy=i);var s=this.ln(t.limit);return null!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt=this.Jn(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Jn(t.endAt)),e},t.prototype.Yn=function(t){var e=this.gn(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(1===r,"StructuredQuery.from with more than one collection is not supported.");var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=this.Xn(n.where));var a=[];n.orderBy&&(a=this.Zn(n.orderBy));var l=null;n.limit&&(l=this.fn(n.limit));var u=null;n.startAt&&(u=this.ti(n.startAt));var c=null;return n.endAt&&(c=this.ti(n.endAt)),new Ct(e,i,a,o,l,"F",u,c).xe()},t.prototype.ei=function(t){var e=this.si(t.Ze);return null==e?null:{"goog-listen-tags":e}},t.prototype.si=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Te("Unrecognized query purpose: "+t)}},t.prototype.xe=function(t){var e,n=t.target;return(e=n.Pe()?{documents:this.jn(n)}:{query:this.Gn(n)}).targetId=t.targetId,t.resumeToken.Ot()>0&&(e.resumeToken=this.mn(t.resumeToken)),e},t.prototype.zn=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof It?e.ni(t):Te("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.Xn=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.ii(t)]:void 0!==t.fieldFilter?[this.ri(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.Xn(t)})).reduce((function(t,e){return t.concat(e)})):Te("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.Hn=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.oi(t)}))},t.prototype.Zn=function(t){var e=this;return t.map((function(t){return e.hi(t)}))},t.prototype.Jn=function(t){return{before:t.before,values:t.position}},t.prototype.ti=function(t){return new Ft(t.values||[],!!t.before)},t.prototype.ai=function(t){return de[t.name]},t.prototype.ui=function(t){switch(t){case"ASCENDING":return Ot.ASCENDING;case"DESCENDING":return Ot.DESCENDING;default:return}},t.prototype.ci=function(t){return fe[t.name]},t.prototype._i=function(t){switch(t){case"EQUAL":return St.EQUAL;case"GREATER_THAN":return St.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return St.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return St.LESS_THAN;case"LESS_THAN_OR_EQUAL":return St.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return St.ARRAY_CONTAINS;case"IN":return St.IN;case"ARRAY_CONTAINS_ANY":return St.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return Te("Unspecified operator");default:return Te("Unknown operator")}},t.prototype.li=function(t){return{fieldPath:t.K()}},t.prototype.di=function(t){return C.Z(t.fieldPath)},t.prototype.oi=function(t){return{field:this.li(t.field),direction:this.ai(t.dir)}},t.prototype.hi=function(t){return new Mt(this.di(t.field),this.ui(t.direction))},t.prototype.ri=function(t){return It.create(this.di(t.fieldFilter.field),this._i(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.ni=function(t){if(t.op===St.EQUAL){if(tt(t.value))return{unaryFilter:{field:this.li(t.field),op:"IS_NAN"}};if(X(t.value))return{unaryFilter:{field:this.li(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.li(t.field),op:this.ci(t.op),value:t.value}}},t.prototype.ii=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.di(t.unaryFilter.field);return It.create(e,St.EQUAL,{doubleValue:NaN});case"IS_NULL":var n=this.di(t.unaryFilter.field);return It.create(n,St.EQUAL,{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te("Unspecified filter");default:return Te("Unknown filter")}},t.prototype.Mn=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.K())})),{fieldPaths:e}},t.prototype.Un=function(t){var e=(t.fieldPaths||[]).map((function(t){return C.Z(t)}));return at.Gt(e)},t}();function me(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var ge=function(){function t(){}return t.fi=function(e){t.platform&&Te("Platform already defined"),t.platform=e},t.Lt=function(){return t.platform||Te("Platform not set"),t.platform},t}(),ye=new o.Logger("@firebase/firestore");function ve(){return ye.logLevel}function _e(t){ye.logLevel=t}function be(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ye.logLevel<=o.LogLevel.DEBUG){var r=e.map(Ee);ye.debug.apply(ye,i.__spreadArrays(["Firestore ("+c+"): "+t],r))}}function we(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ye.logLevel<=o.LogLevel.ERROR){var r=e.map(Ee);ye.error.apply(ye,i.__spreadArrays(["Firestore ("+c+"): "+t],r))}}function Ee(t){if("string"==typeof t)return t;var e=ge.Lt();try{return e.Ti(t)}catch(e){return t}}function Te(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw we(e),new Error(e)}function Ce(t,e){t||Te(e)}var Se=function(){function t(){}return t.mi=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},t}();function Ie(t,e){return t<e?-1:t>e?1:0}function xe(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ne(t){return t+"\0"}var ke=function(t,e,n,r,i){this.cn=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Ae=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"Ei",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.D=function(t){return Ie(this.projectId,t.projectId)||Ie(this.database,t.database)},t}(),De=function(){function t(t){this.wi=t,this.Ii={}}return t.prototype.get=function(t){var e=this.wi(t),n=this.Ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(s[0].isEqual(t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.wi(t),r=this.Ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.Ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.wi(t),n=this.Ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.Ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){O(this.Ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.U=function(){return R(this.Ii)},t}(),Oe=function(){function t(t,e,n,r){this.batchId=t,this.Ri=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ut=function(t,e,n){for(var r=n.Ai,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=s.Ut(e,r[i]))}return e},t.prototype.Bt=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.Bt(e,e,this.Ri))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var l=a[o];l.key.isEqual(t)&&(e=l.Bt(e,s,this.Ri))}return e},t.prototype.Pi=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Bt(r.key,t.get(r.key));i&&(n=n.it(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Zt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&xe(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&xe(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),Re=function(){function t(t,e,n,r,i){this.batch=t,this.Vi=e,this.Ai=n,this.streamToken=r,this.gi=i}return t.from=function(e,n,r,i){Ce(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var s=Qt(),o=e.mutations,a=0;a<o.length;a++)s=s.it(o[a].key,r[a].version);return new t(e,n,r,i,s)},t}(),Pe=function(){function t(){this.pi=new k(Fe.Ee),this.yi=new k(Fe.bi)}return t.prototype.U=function(){return this.pi.U()},t.prototype.vi=function(t,e){var n=new Fe(t,e);this.pi=this.pi.add(n),this.yi=this.yi.add(n)},t.prototype.Si=function(t,e){var n=this;t.forEach((function(t){return n.vi(t,e)}))},t.prototype.Di=function(t,e){this.Ci(new Fe(t,e))},t.prototype.ki=function(t,e){var n=this;t.forEach((function(t){return n.Di(t,e)}))},t.prototype.Ni=function(t){var e=this,n=S.EMPTY,r=new Fe(n,t),i=new Fe(n,t+1),s=[];return this.yi.Ct([r,i],(function(t){e.Ci(t),s.push(t.key)})),s},t.prototype.Fi=function(){var t=this;this.pi.forEach((function(e){return t.Ci(e)}))},t.prototype.Ci=function(t){this.pi=this.pi.delete(t),this.yi=this.yi.delete(t)},t.prototype.$i=function(t){var e=S.EMPTY,n=new Fe(e,t),r=new Fe(e,t+1),i=Zt();return this.yi.Ct([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new Fe(t,0),n=this.pi.Nt(e);return null!==n&&t.isEqual(n.key)},t}(),Fe=function(){function t(t,e){this.key=t,this.Li=e}return t.Ee=function(t,e){return S.F(t.key,e.key)||Ie(t.Li,e.Li)},t.bi=function(t,e){return Ie(t.Li,e.Li)||S.F(t.key,e.key)},t}(),Me=function(){function t(t){var e=this;this.Oi=null,this.xi=null,this.result=void 0,this.error=void 0,this.Bi=!1,this.Ui=!1,t((function(t){e.Bi=!0,e.result=t,e.Oi&&e.Oi(t)}),(function(t){e.Bi=!0,e.error=t,e.xi&&e.xi(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Ui&&Te("Called next() or catch() twice for PersistencePromise"),this.Ui=!0,this.Bi?this.error?this.qi(n,this.error):this.Qi(e,this.result):new t((function(t,i){r.Oi=function(n){r.Qi(e,n).next(t,i)},r.xi=function(e){r.qi(n,e).next(t,i)}}))},t.prototype.Wi=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.ji=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Qi=function(e,n){return e?this.ji((function(){return e(n)})):t.resolve(n)},t.prototype.qi=function(e,n){return e?this.ji((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Ki=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Gi=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Ki(r)},t}(),Le=function(){function t(){this.zi=new De((function(t){return t.toString()})),this.Hi=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Ji},set:function(t){this.Ji=t},enumerable:!0,configurable:!0}),t.prototype.Yi=function(t,e){this.Xi(),this.readTime=e,this.zi.set(t.key,t)},t.prototype.Zi=function(t,e){this.Xi(),e&&(this.readTime=e),this.zi.set(t,null)},t.prototype.tr=function(t,e){this.Xi();var n=this.zi.get(e);return void 0!==n?Me.resolve(n):this.er(t,e)},t.prototype.getEntries=function(t,e){return this.sr(t,e)},t.prototype.apply=function(t){return this.Xi(),this.Hi=!0,this.nr(t)},t.prototype.Xi=function(){},t}(),Ve="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ue=function(){function t(){this.ir=[]}return t.prototype.rr=function(t){this.ir.push(t)},t.prototype.or=function(){this.ir.forEach((function(t){return t()}))},t}(),je=function(){function t(t,e,n){this.hr=t,this.ar=e,this.ur=n}return t.prototype.cr=function(t,e){var n=this;return this.ar._r(t,e).next((function(r){return n.lr(t,e,r)}))},t.prototype.lr=function(t,e,n){return this.hr.tr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Bt(e,t);return t}))},t.prototype.dr=function(t,e,n){var r=Ht();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].Bt(t,e);r=r.it(t,e)})),r},t.prototype.Tr=function(t,e){var n=this;return this.hr.getEntries(t,e).next((function(e){return n.mr(t,e)}))},t.prototype.mr=function(t,e){var n=this;return this.ar.Er(t,e).next((function(r){var i=n.dr(t,e,r),s=Gt();return i.forEach((function(t,e){e||(e=new wt(t,b.S())),s=s.it(t,e)})),s}))},t.prototype.wr=function(t,e,n){return e.Pe()?this.Ir(t,e.path):e.He()?this.Rr(t,e,n):this.Ar(t,e,n)},t.prototype.Ir=function(t,e){return this.cr(t,new S(e)).next((function(t){var e=$t();return t instanceof bt&&(e=e.it(t.key,t)),e}))},t.prototype.Rr=function(t,e,n){var r=this,i=e.collectionGroup,s=$t();return this.ur.Pr(t,i).next((function(o){return Me.forEach(o,(function(o){var a=e.Le(o.child(i));return r.Ar(t,a,n).next((function(t){t.forEach((function(t,e){s=s.it(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Ar=function(t,e,n){var r,i,s=this;return this.hr.wr(t,e,n).next((function(n){return r=n,s.ar.Vr(t,e)})).next((function(e){return s.gr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var l=a[o],u=l.key,c=r.get(u),h=l.Bt(c,c,s.Ri);r=h instanceof bt?r.it(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.gr=function(t,e,n){for(var r=Zt(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var l=a[o];l instanceof ft&&null===n.get(l.key)&&(r=r.add(l.key))}var u=n;return this.hr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof bt&&(u=u.it(t,e))})),u}))},t}(),qe=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.pr=n,this.yr=r}return t.br=function(e,n){for(var r=Zt(),i=Zt(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Be=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.vr=function(t){return n.Sr(t)},this.Dr=function(t){return e.Cr(t)})}return t.prototype.Sr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Dr&&this.Dr(t),t},t}();Be.kr=-1;var ze=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ge=function(){function t(t,e,n,r,i){this.Nr=t,this.Fr=e,this.$r=n,this.op=r,this.Mr=i,this.Lr=new ze,this.then=this.Lr.promise.then.bind(this.Lr.promise),this.catch=this.Lr.promise.catch.bind(this.Lr.promise),this.Lr.promise.catch((function(t){}))}return t.Or=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.xr=setTimeout((function(){return e.Br()}),t)},t.prototype.Ur=function(){return this.Br()},t.prototype.cancel=function(t){null!==this.xr&&(this.clearTimeout(),this.Lr.reject(new f(d.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Br=function(){var t=this;this.Nr.qr((function(){return null!==t.xr?(t.clearTimeout(),t.op().then((function(e){return t.Lr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.xr&&(this.Mr(this),clearTimeout(this.xr),this.xr=null)},t}(),He=function(){function t(){this.Qr=Promise.resolve(),this.Wr=!1,this.jr=[],this.Kr=null,this.Gr=!1,this.zr=[]}return Object.defineProperty(t.prototype,"Hr",{get:function(){return this.Wr},enumerable:!0,configurable:!0}),t.prototype.qr=function(t){this.enqueue(t)},t.prototype.Jr=function(t){this.Yr(),this.Xr(t)},t.prototype.Zr=function(t){return this.Yr(),this.Xr(t)},t.prototype.to=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Yr(),this.Wr?[3,2]:(this.Wr=!0,[4,this.Zr(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.Yr(),this.Wr?new Promise((function(t){})):this.Xr(t)},t.prototype.Xr=function(t){var e=this,n=this.Qr.then((function(){return e.Gr=!0,t().catch((function(t){throw e.Kr=t,e.Gr=!1,we("INTERNAL UNHANDLED ERROR: ",t.stack||t.message||""),t})).then((function(t){return e.Gr=!1,t}))}));return this.Qr=n,n},t.prototype.eo=function(t,e,n){var r=this;this.Yr(),this.zr.indexOf(t)>-1&&(e=0);var i=Ge.Or(this,t,e,n,(function(t){return r.so(t)}));return this.jr.push(i),i},t.prototype.Yr=function(){this.Kr&&Te("AsyncQueue is already failed: "+(this.Kr.stack||this.Kr.message))},t.prototype.no=function(){},t.prototype.io=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Qr];case 1:e.sent(),e.label=2;case 2:if(t!==this.Qr)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ro=function(t){for(var e=0,n=this.jr;e<n.length;e++)if(n[e].Fr===t)return!0;return!1},t.prototype.oo=function(t){var e=this;return this.io().then((function(){e.jr.sort((function(t,e){return t.$r-e.$r}));for(var n=0,r=e.jr;n<r.length;n++){var i=r[n];if(i.Ur(),"all"!==t&&i.Fr===t)break}return e.io()}))},t.prototype.ho=function(t){this.zr.push(t)},t.prototype.so=function(t){var e=this.jr.indexOf(t);this.jr.splice(e,1)},t}();function We(t,e){var n=t[1],r=e[1],i=Ie(t[0],e[0]);return 0===i?Ie(n,r):i}var $e=function(){function t(t){this.ao=t,this.buffer=new k(We),this.uo=0}return t.prototype.co=function(){return++this.uo},t.prototype._o=function(t){var e=[t,this.co()];if(this.buffer.size<this.ao)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();We(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Ke={lo:!1,do:0,fo:0,To:0},Qe=function(){function t(t,e,n){this.mo=t,this.Eo=e,this.wo=n}return t.Io=function(e){return new t(e,t.Ro,t.Ao)},t}();Qe.Po=-1,Qe.Vo=1048576,Qe.po=41943040,Qe.Ro=10,Qe.Ao=1e3,Qe.yo=new Qe(Qe.po,Qe.Ro,Qe.Ao),Qe.DISABLED=new Qe(Qe.Po,0,0);var Ye=function(){function t(t,e){this.bo=t,this.Nr=e,this.vo=!1,this.So=null}return t.prototype.start=function(t){this.bo.Do.mo!==Qe.Po&&this.Co(t)},t.prototype.stop=function(){this.So&&(this.So.cancel(),this.So=null)},Object.defineProperty(t.prototype,"ko",{get:function(){return null!==this.So},enumerable:!0,configurable:!0}),t.prototype.Co=function(t){var e=this,n=this.vo?3e5:6e4;be("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.So=this.Nr.eo("lru_garbage_collection",n,(function(){return e.So=null,e.vo=!0,t.No(e.bo).then((function(){return e.Co(t)})).catch(Xe)}))},t}(),Ze=function(){function t(t,e){this.Fo=t,this.Do=e}return t.prototype.$o=function(t,e){return this.Fo.Mo(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Lo=function(t,e){var n=this;if(0===e)return Me.resolve(Be.kr);var r=new $e(e);return this.Fo.Xs(t,(function(t){return r._o(t.sequenceNumber)})).next((function(){return n.Fo.Oo(t,(function(t){return r._o(t)}))})).next((function(){return r.maxValue}))},t.prototype.xo=function(t,e,n){return this.Fo.xo(t,e,n)},t.prototype.Bo=function(t,e){return this.Fo.Bo(t,e)},t.prototype.Uo=function(t,e){var n=this;return this.Do.mo===Qe.Po?(be("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(Ke)):this.qo(t).next((function(r){return r<n.Do.mo?(be("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.Do.mo),Ke):n.Qo(t,e)}))},t.prototype.qo=function(t){return this.Fo.qo(t)},t.prototype.Qo=function(t,e){var n,r,i,s,a,l,u,c=this,h=Date.now();return this.$o(t,this.Do.Eo).next((function(e){return e>c.Do.wo?(be("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.Do.wo+" from "+e),r=c.Do.wo):r=e,s=Date.now(),c.Lo(t,r)})).next((function(r){return n=r,a=Date.now(),c.xo(t,n,e)})).next((function(e){return i=e,l=Date.now(),c.Bo(t,n)})).next((function(t){return u=Date.now(),ve()<=o.LogLevel.DEBUG&&be("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(l-a)+"ms\n\tRemoved "+t+" documents in "+(u-l)+"ms\nTotal Duration: "+(u-h)+"ms"),Me.resolve({lo:!0,do:r,fo:i,To:t})}))},t}(),Je=function(){function t(t,e,n){this.persistence=t,this.Wo=e,this.jo=new Pe,this.Ko=new I(Ie),this.Go=new De((function(t){return t.canonicalId()})),this.zo=b.MIN,this.persistence.Jo.Ho(this.jo),this.ar=t.Yo(n),this.Xo=t.Zo(),this.th=t.eh(),this.sh=new je(this.Xo,this.ar,this.persistence.nh()),this.Wo.ih(this.sh)}return t.prototype.start=function(){return this.rh()},t.prototype.oh=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.ar,n=this.sh,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return s.ar.hh(r).next((function(o){return i=o,e=s.persistence.Yo(t),n=new je(s.Xo,e,s.persistence.nh()),e.hh(r)})).next((function(t){for(var e=[],s=[],o=Zt(),a=0,l=i;a<l.length;a++){var u=l[a];e.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++)o=o.add(h[c].key)}for(var d=0,f=t;d<f.length;d++){var p=f[d];s.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return n.Tr(r,o).next((function(t){return{ah:t,uh:e,_h:s}}))}))}))];case 1:return r=i.sent(),[2,(this.ar=e,this.sh=n,this.Wo.ih(this.sh),r)]}}))}))},t.prototype.lh=function(t){var e,n=this,r=_.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Zt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(s){return n.sh.Tr(s,i).next((function(i){e=i;for(var o=[],a=0,l=t;a<l.length;a++){var u=l[a],c=u.ee(e.get(u.key));null!=c&&o.push(new ft(u.key,c,c.se(),ct.exists(!0)))}return n.ar.dh(s,r,o,t)}))})).then((function(t){var n=t.Pi(e);return{batchId:t.batchId,zi:n}}))},t.prototype.fh=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.ar.Th(n,t).next((function(t){return t?e.sh.Tr(n,t):Me.resolve(null)}))}))},t.prototype.mh=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Xo.Eh({wh:!0});return e.ar.mh(n,t.batch,t.streamToken).next((function(){return e.Ih(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.ar.Rh(n)})).next((function(){return e.sh.Tr(n,r)}))}))},t.prototype.Ah=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.ar.Ph(n,t).next((function(t){return Ce(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.ar.Vh(n,t)})).next((function(){return e.ar.Rh(n)})).next((function(){return e.sh.Tr(n,r)}))}))},t.prototype.gh=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.ar.gh(e)}))},t.prototype.ph=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.ar.ph(e)}))},t.prototype.yh=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.ar.yh(n,t)}))},t.prototype.bh=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.th.bh(e)}))},t.prototype.vh=function(e){var n=this,r=e.ts,i=this.Ko;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(s){var o=n.Xo.Eh({wh:!0});i=n.Ko;var a=[];e.Ts.forEach((function(e,o){var l=i.get(o);if(l){a.push(n.th.Sh(s,e.gs,o).next((function(){return n.th.Dh(s,e.Ps,o)})));var u=e.resumeToken;if(u.Ot()>0){var c=l.ss(u,r).es(s.Ch);i=i.it(o,c),t.kh(l,c,e)&&a.push(n.th.Nh(s,c))}}}));var l=Gt(),u=Zt();if(e.Es.forEach((function(t,e){u=u.add(t)})),a.push(o.getEntries(s,u).next((function(t){e.Es.forEach((function(i,u){var c=t.get(i);u instanceof wt&&u.version.isEqual(b.MIN)?(o.Zi(i,r),l=l.it(i,u)):null==c||u.version.D(c.version)>0||0===u.version.D(c.version)&&c.hasPendingWrites?(o.Yi(u,r),l=l.it(i,u)):be("LocalStore","Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",u.version),e.ws.has(i)&&a.push(n.persistence.Jo.Fh(s,i))}))}))),!r.isEqual(b.MIN)){var c=n.th.bh(s).next((function(t){return n.th.$h(s,s.Ch,r)}));a.push(c)}return Me.Ki(a).next((function(){return o.apply(s)})).next((function(){return n.sh.mr(s,l)}))})).then((function(t){return n.Ko=i,t}))},t.kh=function(t,e,n){return Ce(e.resumeToken.Ot()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.Ot()||e.ts.C()-t.ts.C()>=this.Mh||n.Ps.size+n.Vs.size+n.gs.size>0},t.prototype.Lh=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],s=i.targetId;if(this.jo.Si(i.pr,s),this.jo.ki(i.yr,s),!i.fromCache){var o=this.Ko.get(s),a=o.ns(o.ts);this.Ko=this.Ko.it(s,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Me.forEach(t,(function(t){return Me.forEach(t.yr,(function(t){return e.persistence.Jo.Di(n,t)}))}))}))},t.prototype.Oh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.ar.xh(n,t)}))},t.prototype.Bh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.sh.cr(n,t)}))},t.prototype.Uh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.th.qh(n,t).next((function(i){return i?Me.resolve(r=i):e.th.Qh(n).next((function(i){return r=new Ut(t,i,0,n.Ch),e.th.Wh(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.Ko.get(n.targetId)&&(e.Ko=e.Ko.it(n.targetId,n),e.Go.set(t,n.targetId)),n}))},t.prototype.qh=function(t,e){var n=this.Go.get(e);return void 0!==n?Me.resolve(this.Ko.get(n)):this.th.qh(t,e)},t.prototype.jh=function(t,e){var n=this,r=this.Ko.get(t);return this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(i){var s=n.jo.Ni(t);return e?Me.resolve():Me.forEach(s,(function(t){return n.persistence.Jo.Di(i,t)})).next((function(){n.persistence.Jo.removeTarget(i,r)}))})).then((function(){n.Ko=n.Ko.remove(t),n.Go.delete(r.target)}))},t.prototype.Kh=function(t,e){var n=this,r=b.MIN,i=Zt();return this.persistence.runTransaction("Execute query","readonly",(function(s){return n.qh(s,t.xe()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.th.Gh(s,t.targetId).next((function(t){i=t}))})).next((function(){return n.Wo.wr(s,t,e?r:b.MIN,e?i:Zt())})).next((function(t){return{documents:t,zh:i}}))}))},t.prototype.Hh=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.th.Gh(n,t)}))},t.prototype.Jh=function(){return this.persistence.Jh()},t.prototype.Yh=function(t){this.ar.Xh(t)},t.prototype.Zh=function(t){this.persistence.Zh(t)},t.prototype.Ih=function(t,e,n){var r=this,i=e.batch,s=i.keys(),o=Me.resolve();return s.forEach((function(r){o=o.next((function(){return n.tr(t,r)})).next((function(t){var s=t,o=e.gi.get(r);Ce(null!==o,"ackVersions should contain every doc in the write."),(!s||s.version.D(o)<0)&&(s=i.Ut(r,s,e))&&n.Yi(s,e.Vi)}))})),o.next((function(){return r.ar.Vh(t,i)}))},t.prototype.No=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Uo(n,e.Ko)}))},t.prototype.ta=function(t){var e=this,n=this.Ko.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.th.un(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.ea=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Xo.ea(e,t.zo)})).then((function(e){var n=e.sa;return t.zo=e.readTime,n}))},t.prototype.rh=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Xo.na(t)}))];case 1:return t.zo=n.sent(),[2]}}))}))},t}();function Xe(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==d.FAILED_PRECONDITION||t.message!==Ve)throw t;return be("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function tn(t,e){if(0!==e.length)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+vn(e.length,"argument")+".")}function en(t,e,n){if(e.length!==n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires "+vn(n,"argument")+", but was called with "+vn(e.length,"argument")+".")}function nn(t,e,n){if(e.length<n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires at least "+vn(n,"argument")+", but was called with "+vn(e.length,"argument")+".")}function rn(t,e,n,r){if(e.length<n||e.length>r)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+vn(e.length,"argument")+".")}function sn(t,e,n,r){cn(t,e,yn(n)+" argument",r)}function on(t,e,n,r){void 0!==r&&sn(t,e,n,r)}function an(t,e,n,r){cn(t,e,n+" option",r)}function ln(t,e,n,r){void 0!==r&&an(t,e,n,r)}function un(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var s=[],o=0,a=i;o<a.length;o++){var l=a[o];if(l===r)return;s.push(dn(l))}var u=dn(r);throw new f(d.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(t,0,n,r,i)}function cn(t,e,n,r){if(!("object"===e?hn(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=dn(r);throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function hn(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function dn(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Te("Unknown wrong type: "+typeof t)}function fn(t,e,n){if(void 0===n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+yn(e)+" argument, but it was undefined.")}function pn(t,e,n){O(e,(function(e,r){if(n.indexOf(e)<0)throw new f(d.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function mn(t,e,n,r){var i=dn(r);return new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+yn(n)+" argument to be a "+e+", but it was: "+i)}function gn(t,e,n){if(n<=0)throw new f(d.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+yn(e)+" argument to be a positive number, but it was: "+n+".")}function yn(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function vn(t,e){return t+" "+e+(1===t?"":"s")}function _n(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new f(d.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function bn(){if("undefined"==typeof Uint8Array)throw new f(d.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function wn(){if(!ge.Lt().ia)throw new f(d.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}Je.Mh=3e8;var En=function(){function t(t){wn(),this.ra=t}return t.fromBase64String=function(e){en("Blob.fromBase64String",arguments,1),sn("Blob.fromBase64String","string",1,e),wn();try{return new t(P.fromBase64String(e))}catch(e){throw new f(d.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(en("Blob.fromUint8Array",arguments,1),bn(),!(e instanceof Uint8Array))throw mn("Blob.fromUint8Array","Uint8Array",1,e);return new t(P.fromUint8Array(e))},t.prototype.toBase64=function(){return en("Blob.toBase64",arguments,0),wn(),this.ra.toBase64()},t.prototype.toUint8Array=function(){return en("Blob.toUint8Array",arguments,0),bn(),this.ra.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.ra.isEqual(t.ra)},t}(),Tn=_n(En,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Cn=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new f(d.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+vn(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(sn("FieldPath","string",n,t[n]),0===t[n].length)throw new f(d.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.oa=new C(t)}return t.documentId=function(){return t.ha},t.prototype.isEqual=function(e){if(!(e instanceof t))throw mn("isEqual","FieldPath",1,e);return this.oa.isEqual(e.oa)},t}();Cn.ha=new Cn(C.X().K());var Sn=new RegExp("[~\\*/\\[\\]]"),In=function(){function t(t){this.aa=t}return t.delete=function(){return tn("FieldValue.delete",arguments),xn.instance},t.serverTimestamp=function(){return tn("FieldValue.serverTimestamp",arguments),Nn.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nn("FieldValue.arrayUnion",arguments,1),new kn(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nn("FieldValue.arrayRemove",arguments,1),new An(t)},t.increment=function(t){return sn("FieldValue.increment","number",1,t),en("FieldValue.increment",arguments,1),new Dn(t)},t.prototype.isEqual=function(t){return this===t},t}(),xn=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return i.__extends(e,t),e}(In);xn.instance=new xn;var Nn=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return i.__extends(e,t),e}(In);Nn.instance=new Nn;var kn=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayUnion")||this).ua=e,n}return i.__extends(e,t),e}(In),An=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayRemove")||this).ua=e,n}return i.__extends(e,t),e}(In),Dn=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.increment")||this).ca=e,n}return i.__extends(e,t),e}(In),On=_n(In,"Use FieldValue.<field>() instead."),Rn=function(){function t(t,e){if(en("GeoPoint",arguments,2),sn("GeoPoint","number",1,t),sn("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new f(d.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new f(d.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._a=t,this.la=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._a},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.la},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._a===t._a&&this.la===t.la},t.prototype.p=function(t){return Ie(this._a,t._a)||Ie(this.la,t.la)},t}(),Pn=/^__.*__$/,Fn=function(){function t(t,e,n){this.data=t,this.se=e,this.fieldTransforms=n}return t.prototype.da=function(t,e){var n=[];return n.push(null!==this.se?new ft(t,this.data,this.se,e):new dt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new pt(t,this.fieldTransforms)),n},t}(),Mn=function(){function t(t,e,n){this.data=t,this.se=e,this.fieldTransforms=n}return t.prototype.da=function(t,e){var n=[new ft(t,this.data,this.se,e)];return this.fieldTransforms.length>0&&n.push(new pt(t,this.fieldTransforms)),n},t}();function Ln(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te("Unexpected case for UserDataSource: "+t)}}var Vn=function(){function t(t,e,n,r,i,s){this.fa=t,this.methodName=e,this.path=n,this.Ta=r,void 0===i&&this.ma(),this.Ta=void 0!==r&&r,this.fieldTransforms=i||[],this.se=s||[]}return t.prototype.Ea=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.fa,this.methodName,n,!1,this.fieldTransforms,this.se);return r.wa(e),r},t.prototype.Ia=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.fa,this.methodName,n,!1,this.fieldTransforms,this.se);return r.ma(),r},t.prototype.Ra=function(e){return new t(this.fa,this.methodName,null,!0,this.fieldTransforms,this.se)},t.prototype.Aa=function(t){var e=null===this.path||this.path.U()?"":" (found in field "+this.path.toString()+")";return new f(d.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.se.find((function(e){return t.q(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.q(e.field)}))},t.prototype.ma=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.wa(this.path.get(t))},t.prototype.wa=function(t){if(0===t.length)throw this.Aa("Document fields must not be empty");if(Ln(this.fa)&&Pn.test(t))throw this.Aa('Document fields cannot begin and end with "__"')},t}(),Un=function(t,e){this.cn=t,this.key=e},jn=function(){function t(t,e){this.serializer=t,this.Pa=e}return t.prototype.Va=function(t,e){var n=new Vn(0,t,C.H);Bn("Data must be an object, but it was:",n,e);var r=this.ga(e,n);return new Fn(new yt(r),null,n.fieldTransforms)},t.prototype.pa=function(t,e,n){var r=new Vn(2,t,C.H);Bn("Data must be an object, but it was:",r,e);var i,s,o=this.ga(e,r);if(n){for(var a=new k(C.F),l=0,u=n;l<u.length;l++){var c=u[l],h=void 0;if(c instanceof Cn)h=c.oa;else{if("string"!=typeof c)throw Te("Expected stringOrFieldPath to be a string or a FieldPath");h=Gn(t,c)}if(!r.contains(h))throw new f(d.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=at.Kt(a),s=r.fieldTransforms.filter((function(t){return i.zt(t.field)}))}else i=at.Gt(r.se),s=r.fieldTransforms;return new Fn(new yt(o),i,s)},t.prototype.ya=function(t,e){var n=this,r=new Vn(1,t,C.H);Bn("Data must be an object, but it was:",r,e);var i=new k(C.F),s=yt._e();O(e,(function(e,o){var a=Gn(t,e),l=r.Ia(a);if((o=n.ba(o,l))instanceof xn)i=i.add(a);else{var u=n.va(o,l);null!=u&&(i=i.add(a),s.set(a,u))}}));var o=at.Kt(i);return new Mn(s.oe(),o,r.fieldTransforms)},t.prototype.Sa=function(t,e,n,r){var i=new Vn(1,t,C.H),s=[zn(t,e)],o=[n];if(r.length%2!=0)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)s.push(zn(t,r[a])),o.push(r[a+1]);for(var l=new k(C.F),u=yt._e(),c=0;c<s.length;++c){var h=s[c],p=i.Ia(h),m=this.ba(o[c],p);if(m instanceof xn)l=l.add(h);else{var g=this.va(m,p);null!=g&&(l=l.add(h),u.set(h,g))}}var y=at.Kt(l);return new Mn(u.oe(),y,i.fieldTransforms)},t.prototype.Da=function(t,e,n){void 0===n&&(n=!1);var r=new Vn(n?4:3,t,C.H);return this.va(e,r)},t.prototype.ba=function(t,e){try{return this.Pa(t)}catch(t){var n=Hn(t);throw e.Aa(n)}},t.prototype.va=function(t,e){if(qn(t=this.ba(t,e)))return Bn("Unsupported field value:",e,t),this.ga(t,e);if(t instanceof In)return this.Ca(t,e),null;if(e.path&&e.se.push(e.path),t instanceof Array){if(e.Ta&&4!==e.fa)throw e.Aa("Nested arrays are not supported");return this.ka(t,e)}return this.Na(t,e)},t.prototype.ga=function(t,e){var n=this,r={};return R(t)?e.path&&e.path.length>0&&e.se.push(e.path):O(t,(function(t,i){var s=n.va(i,e.Ea(t));null!=s&&(r[t]=s)})),{mapValue:{fields:r}}},t.prototype.ka=function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=this.va(s[i],e.Ra(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}},t.prototype.Ca=function(t,e){if(!Ln(e.fa))throw e.Aa(t.aa+"() can only be used with update() and set()");if(null===e.path)throw e.Aa(t.aa+"() is not currently supported inside arrays");if(t instanceof xn){if(2!==e.fa)throw e.Aa(1===e.fa?"FieldValue.delete() can only appear at the top level of your update data":"FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.se.push(e.path)}else if(t instanceof Nn)e.fieldTransforms.push(new lt(e.path,nt.instance));else if(t instanceof kn){var n=this.Fa(t.aa,t.ua),r=new rt(n);e.fieldTransforms.push(new lt(e.path,r))}else if(t instanceof An){var i=this.Fa(t.aa,t.ua),s=new it(i);e.fieldTransforms.push(new lt(e.path,s))}else if(t instanceof Dn){var o=this.Da("FieldValue.increment",t.ca),a=new st(this.serializer,o);e.fieldTransforms.push(new lt(e.path,a))}else Te("Unknown FieldValue type: "+t)},t.prototype.Na=function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return this.serializer.Tn(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=_.fromDate(t);return{timestampValue:this.serializer.k(n)}}if(t instanceof _){var r=new _(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:this.serializer.k(r)}}if(t instanceof Rn)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof En)return{bytesValue:this.serializer.mn(t)};if(t instanceof Un)return{referenceValue:this.serializer.wn(t.key.path,t.cn)};throw e.Aa("Unsupported field value: "+dn(t))},t.prototype.Fa=function(t,e){var n=this;return e.map((function(e,r){var i=new Vn(3,t,C.H);return n.va(e,i.Ra(r))}))},t}();function qn(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _||t instanceof Rn||t instanceof En||t instanceof Un||t instanceof In)}function Bn(t,e,n){if(!qn(n)||!hn(n)){var r=dn(n);throw e.Aa("an object"===r?t+" a custom object":t+" "+r)}}function zn(t,e){if(e instanceof Cn)return e.oa;if("string"==typeof e)return Gn(t,e);throw new f(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Gn(t,e){try{return function(t){if(t.search(Sn)>=0)throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Cn.bind.apply(Cn,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).oa}catch(e){var n=Hn(e);throw new f(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Hn(t){return t instanceof Error?t.message:t.toString()}var Wn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.$a=t,this.Fr=e,this.Ma=n,this.La=r,this.Oa=i,this.xa=0,this.Ba=null,this.Ua=Date.now(),this.reset()}return t.prototype.reset=function(){this.xa=0},t.prototype.qa=function(){this.xa=this.Oa},t.prototype.Qa=function(t){var e=this;this.cancel();var n=Math.floor(this.xa+this.Wa()),r=Math.max(0,Date.now()-this.Ua),i=Math.max(0,n-r);this.xa>0&&be("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.xa+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ba=this.$a.eo(this.Fr,i,(function(){return e.Ua=Date.now(),t()})),this.xa*=this.La,this.xa<this.Ma&&(this.xa=this.Ma),this.xa>this.Oa&&(this.xa=this.Oa)},t.prototype.cancel=function(){null!==this.Ba&&(this.Ba.cancel(),this.Ba=null)},t.prototype.Wa=function(){return(Math.random()-.5)*this.xa},t}(),$n=function(){function t(t,e,n,r,i,s){this.$a=t,this.ja=n,this.Ka=r,this.Ga=i,this.listener=s,this.state=0,this.za=0,this.Ha=null,this.stream=null,this.Ja=new Wn(t,e)}return t.prototype.Ya=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xa=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Za()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ya()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.tu=function(){this.state=0,this.Ja.reset()},t.prototype.eu=function(){var t=this;this.Xa()&&null===this.Ha&&(this.Ha=this.$a.eo(this.ja,6e4,(function(){return t.su()})))},t.prototype.nu=function(t){this.iu(),this.stream.send(t)},t.prototype.su=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Xa()?[2,this.close(0)]:[2]}))}))},t.prototype.iu=function(){this.Ha&&(this.Ha.cancel(),this.Ha=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.iu(),this.Ja.cancel(),this.za++,3!==t?this.Ja.reset():e&&e.code===d.RESOURCE_EXHAUSTED?(we(e.toString()),we("Using maximum backoff delay to prevent overloading the backend."),this.Ja.qa()):e&&e.code===d.UNAUTHENTICATED&&this.Ga._(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hu(this.za),n=this.za;this.Ga.getToken().then((function(e){t.za===n&&t.au(e)}),(function(n){e((function(){var e=new f(d.UNKNOWN,"Fetching auth token failed: "+n.message);return t.uu(e)}))}))},t.prototype.au=function(t){var e=this,n=this.hu(this.za);this.stream=this.cu(t),this.stream._u((function(){n((function(){return e.state=2,e.listener._u()}))})),this.stream.ou((function(t){n((function(){return e.uu(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Za=function(){var t=this;this.state=4,this.Ja.Qa((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.uu=function(t){return be("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hu=function(t){var e=this;return function(n){e.$a.qr((function(){return e.za===t?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Kn=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return i.__extends(e,t),e.prototype.cu=function(t){return this.Ka.lu("Listen",t)},e.prototype.onMessage=function(t){this.Ja.reset();var e=this.serializer.kn(t),n=this.serializer.Fn(t);return this.listener.du(e,n)},e.prototype.fu=function(t){var e={};e.database=this.serializer.pn,e.addTarget=this.serializer.xe(t);var n=this.serializer.ei(t);n&&(e.labels=n),this.nu(e)},e.prototype.Tu=function(t){var e={};e.database=this.serializer.pn,e.removeTarget=t,this.nu(e)},e}($n),Qn=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.mu=!1,o.lastStreamToken=P.xt,o}return i.__extends(e,t),Object.defineProperty(e.prototype,"Eu",{get:function(){return this.mu},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.mu=!1,t.prototype.start.call(this)},e.prototype.ru=function(){this.mu&&this.wu([])},e.prototype.cu=function(t){return this.Ka.lu("Write",t)},e.prototype.onMessage=function(t){if(Ce(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.En(t.streamToken),this.mu){this.Ja.reset();var e=this.serializer.Wn(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Iu(n,e)}return Ce(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.mu=!0,this.listener.Ru()},e.prototype.Au=function(){var t={};t.database=this.serializer.pn,this.nu(t)},e.prototype.wu=function(t){var e=this,n={streamToken:this.serializer.mn(this.lastStreamToken),writes:t.map((function(t){return e.serializer.$n(t)}))};this.nu(n)},e}($n),Yn=function(){function t(t,e,n,r){this.$a=t,this.Ka=e,this.credentials=n,this.serializer=r}return t.prototype.Pu=function(t){return new Qn(this.$a,this.Ka,this.credentials,this.serializer,t)},t.prototype.Vu=function(t){return new Kn(this.$a,this.Ka,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.pn,writes:t.map((function(t){return e.serializer.$n(t)}))};return this.gu("Commit",n).then((function(t){return e.serializer.Wn(t.writeResults,t.commitTime)}))},t.prototype.pu=function(t){var e=this,n={database:this.serializer.pn,documents:t.map((function(t){return e.serializer.An(t)}))};return this.yu("BatchGetDocuments",n).then((function(n){var r=Gt();n.forEach((function(t){var n=e.serializer.Cn(t);r=r.it(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);Ce(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.gu=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Ka.gu(t,e,r)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials._(),t}))},t.prototype.yu=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Ka.yu(t,e,r)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials._(),t}))},t}(),Zn=function(){function t(t){this.bu=t,this.vu=Qt(),this.mutations=[],this.Su=!1,this.Du=null,this.Cu=new Set}return t.prototype.pu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.ku(),this.mutations.length>0)throw new f(d.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.bu.pu(t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof wt||t instanceof bt?n.Nu(t):Te("Document in a transaction was a "+t.constructor.name)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.da(t,this.Zt(t))),this.Cu.add(t)},t.prototype.update=function(t,e){try{this.write(e.da(t,this.Fu(t)))}catch(t){this.Du=t}this.Cu.add(t)},t.prototype.delete=function(t){this.write([new mt(t,this.Zt(t))]),this.Cu.add(t)},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.ku(),this.Du)throw this.Du;return t=this.vu,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new gt(t,e.Zt(t)))})),[4,this.bu.commit(this.mutations)];case 1:return n.sent(),this.Su=!0,[2]}}))}))},t.prototype.Nu=function(t){var e;if(t instanceof bt)e=t.version;else{if(!(t instanceof wt))throw Te("Document in a transaction was a "+t.constructor.name);e=b.S()}var n=this.vu.get(t.key);if(null!==n){if(!e.isEqual(n))throw new f(d.ABORTED,"Document version changed between two reads.")}else this.vu=this.vu.it(t.key,e)},t.prototype.Zt=function(t){var e=this.vu.get(t);return!this.Cu.has(t)&&e?ct.updateTime(e):ct.NONE},t.prototype.Fu=function(t){var e=this.vu.get(t);if(!this.Cu.has(t)&&e){if(e.isEqual(b.S()))throw new f(d.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(e)}return ct.exists(!0)},t.prototype.write=function(t){this.ku(),this.mutations=this.mutations.concat(t)},t.prototype.ku=function(){},t}(),Jn=function(){function t(t,e){this.Nr=t,this.$u=e,this.state="Unknown",this.Mu=0,this.Lu=null,this.Ou=!0}return t.prototype.xu=function(){var t=this;0===this.Mu&&(this.Bu("Unknown"),this.Lu=this.Nr.eo("online_state_timeout",1e4,(function(){return t.Lu=null,t.Uu("Backend didn't respond within 10 seconds."),t.Bu("Offline"),Promise.resolve()})))},t.prototype.qu=function(t){"Online"===this.state?this.Bu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Qu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.Bu("Offline")))},t.prototype.set=function(t){this.Qu(),this.Mu=0,"Online"===t&&(this.Ou=!1),this.Bu(t)},t.prototype.Bu=function(t){t!==this.state&&(this.state=t,this.$u(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ou?(we(e),this.Ou=!1):be("OnlineStateTracker",e)},t.prototype.Qu=function(){null!==this.Lu&&(this.Lu.cancel(),this.Lu=null)},t}(),Xn=function(){function t(t,e,n,r,s){var o=this;this.Wu=t,this.bu=e,this.ju=[],this.Ku=new Map,this.Gu=null,this.networkEnabled=!1,this.isPrimary=!1,this.zu=s,this.zu.Hu((function(t){n.qr((function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ju()?(be("RemoteStore","Restarting streams for network reachability change."),[4,this.Yu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Xu=new Jn(n,r),this.Zu=this.bu.Vu({_u:this.tc.bind(this),ou:this.ec.bind(this),du:this.sc.bind(this)}),this.nc=this.bu.Pu({_u:this.ic.bind(this),ou:this.rc.bind(this),Ru:this.oc.bind(this),Iu:this.Iu.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.Ju()?(t=this.nc,[4,this.Wu.ph()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.hc()?this.ac():this.Xu.set("Unknown"),[4,this.uc()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.cc()];case 1:return t.sent(),this.Xu.set("Offline"),[2]}}))}))},t.prototype.cc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.nc.stop()];case 1:return t.sent(),[4,this.Zu.stop()];case 2:return t.sent(),this.ju.length>0&&(be("RemoteStore","Stopping write stream with "+this.ju.length+" pending writes"),this.ju=[]),this._c(),[2]}}))}))},t.prototype.lc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return be("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.cc()];case 1:return t.sent(),this.zu.lc(),this.Xu.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Ku.has(t.targetId)||(this.Ku.set(t.targetId,t),this.hc()?this.ac():this.Zu.Xa()&&this.dc(t))},t.prototype.fc=function(t){this.Ku.delete(t),this.Zu.Xa()&&this.Tc(t),0===this.Ku.size&&(this.Zu.Xa()?this.Zu.eu():this.Ju()&&this.Xu.set("Unknown"))},t.prototype.un=function(t){return this.Ku.get(t)||null},t.prototype.an=function(t){return this.mc.an(t)},t.prototype.dc=function(t){this.Gu.Bs(t.targetId),this.Zu.fu(t)},t.prototype.Tc=function(t){this.Gu.Bs(t),this.Zu.Tu(t)},t.prototype.ac=function(){this.Gu=new ue(this),this.Zu.start(),this.Xu.xu()},t.prototype.hc=function(){return this.Ju()&&!this.Zu.Ya()&&this.Ku.size>0},t.prototype.Ju=function(){return this.isPrimary&&this.networkEnabled},t.prototype._c=function(){this.Gu=null},t.prototype.tc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.Ku.forEach((function(e,n){t.dc(e)})),[2]}))}))},t.prototype.ec=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this._c(),this.hc()?(this.Xu.qu(t),this.ac()):this.Xu.set("Unknown"),[2]}))}))},t.prototype.sc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Xu.set("Online"),t instanceof ae&&2===t.state&&t.cause?[2,this.Ec(t)]:(t instanceof se?this.Gu.zs(t):t instanceof oe?this.Gu.sn(t):this.Gu.Ys(t),e.isEqual(b.MIN)?[3,4]:[4,this.Wu.bh()]);case 1:return n=r.sent(),e.D(n)>=0?[4,this.wc(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:r.label=4;case 4:return[2]}}))}))},t.prototype.wc=function(t){var e=this,n=this.Gu.rn(t);return n.Ts.forEach((function(n,r){if(n.resumeToken.Ot()>0){var i=e.Ku.get(r);i&&e.Ku.set(r,i.ss(n.resumeToken,t))}})),n.ms.forEach((function(t){var n=e.Ku.get(t);if(n){e.Ku.set(t,n.ss(P.xt,n.ts)),e.Tc(t);var r=new Ut(n.target,t,1,n.sequenceNumber);e.dc(r)}})),this.mc.vh(n)},t.prototype.Ec=function(t){var e=this,n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.Ku.has(t)?[2,(this.Ku.delete(t),this.Gu.removeTarget(t),this.mc.Ic(t,n))]:[2]}))}))}))})),r},t.prototype.uc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return this.Rc()?[4,this.Wu.Oh(this.ju.length>0?this.ju[this.ju.length-1].batchId:-1)]:[3,5];case 1:return null!==(t=e.sent())?[3,2]:(0===this.ju.length&&this.nc.eu(),[3,4]);case 2:return this.Ac(t),[4,this.uc()];case 3:e.sent(),e.label=4;case 4:e.label=5;case 5:return this.Pc()&&this.Vc(),[2]}}))}))},t.prototype.Rc=function(){return this.Ju()&&this.ju.length<10},t.prototype.gc=function(){return this.ju.length},t.prototype.Ac=function(t){this.ju.push(t),this.nc.Xa()&&this.nc.Eu&&this.nc.wu(t.mutations)},t.prototype.Pc=function(){return this.Ju()&&!this.nc.Ya()&&this.ju.length>0},t.prototype.Vc=function(){this.nc.start()},t.prototype.ic=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.nc.Au(),[2]}))}))},t.prototype.oc=function(){var t=this;return this.Wu.yh(this.nc.lastStreamToken).then((function(){for(var e=0,n=t.ju;e<n.length;e++)t.nc.wu(n[e].mutations)})).catch(Xe)},t.prototype.Iu=function(t,e){var n=this,r=this.ju.shift(),i=Re.from(r,t,e,this.nc.lastStreamToken);return this.mc.pc(i).then((function(){return n.uc()}))},t.prototype.rc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){return t&&this.ju.length>0?[2,(e=this.nc.Eu?this.yc(t):this.bc(t),e.then((function(){n.Pc()&&n.Vc()})))]:[2]}))}))},t.prototype.bc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return qt(t.code)?[2,(be("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.nc.lastStreamToken),this.nc.lastStreamToken=P.xt,this.Wu.yh(P.xt).catch(Xe))]:[2]}))}))},t.prototype.yc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){return qt(n=t.code)&&n!==d.ABORTED?(e=this.ju.shift(),[2,(this.nc.tu(),this.mc.vc(e.batchId,t).then((function(){return r.uc()})))]):[2]}))}))},t.prototype.Sc=function(){return new Zn(this.bu)},t.prototype.Yu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.cc()];case 1:return t.sent(),this.Xu.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.Dc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ju()?(be("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.Yu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Cc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:[4,this.cc()];case 3:e.sent(),this.Xu.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function tr(t,e){return"firestore_clients_"+t+"_"+e}function er(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function nr(t,e){return"firestore_targets_"+t+"_"+e}var rr=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.kc=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new f(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(we("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Nc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ir=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.kc=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new f(r.error.code,r.error.message)),i?new t(e,r.state,s):(we("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Nc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.kc=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Xt(),o=0;i&&o<r.activeTargetIds.length;++o)i=L(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(we("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),or=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.kc=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(we("SharedClientState","Failed to parse online state: "+e),null)},t}(),ar=function(){function t(){this.activeTargetIds=Xt()}return t.prototype.Fc=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.$c=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Nc=function(){var t={activeTargetIds:this.activeTargetIds.j(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),lr=function(){function t(e,n,r,i,s){if(this.$a=e,this.platform=n,this.persistenceKey=r,this.Mc=i,this.mc=null,this.$u=null,this.vr=null,this.Lc={},this.Oc=this.xc.bind(this),this.ko=!1,this.Bc=[],!t.Uc(this.platform))throw new f(d.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=s,this.qc=tr(this.persistenceKey,this.Mc),this.Qc=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Lc[this.Mc]=new ar,this.Wc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.jc=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Kc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Gc=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Oc)}return t.Uc=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,s,o,a,l,u,c,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.mc.Jh()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Mc&&(s=this.getItem(tr(this.persistenceKey,r)))&&(o=sr.kc(r,s))&&(this.Lc[o.clientId]=o);for(this.zc(),(a=this.storage.getItem(this.Gc))&&(l=this.Hc(a))&&this.Jc(l),u=0,c=this.Bc;u<c.length;u++)this.xc(c[u]);return this.Bc=[],this.platform.window.addEventListener("unload",(function(){return h.lc()})),this.ko=!0,[2]}}))}))},t.prototype.Cr=function(t){this.setItem(this.Qc,JSON.stringify(t))},t.prototype.Yc=function(){var t=Xt();return O(this.Lc,(function(e,n){t=t.Ft(n.activeTargetIds)})),t},t.prototype.Xc=function(t){for(var e in this.Lc)if(this.Lc.hasOwnProperty(e)&&this.Lc[e].activeTargetIds.has(t))return!0;return!1},t.prototype.Zc=function(t){this.t_(t,"pending")},t.prototype.e_=function(t,e,n){this.t_(t,e,n),this.s_(t)},t.prototype.n_=function(t){var e="not-current";if(this.Xc(t)){var n=this.storage.getItem(nr(this.persistenceKey,t));if(n){var r=ir.kc(t,n);r&&(e=r.state)}}return this.i_.Fc(t),this.zc(),e},t.prototype.r_=function(t){this.i_.$c(t),this.zc()},t.prototype.o_=function(t){return this.i_.activeTargetIds.has(t)},t.prototype.h_=function(t){this.removeItem(nr(this.persistenceKey,t))},t.prototype.a_=function(t,e,n){this.u_(t,e,n)},t.prototype.oh=function(t,e,n){var r=this;e.forEach((function(t){r.s_(t)})),this.currentUser=t,n.forEach((function(t){r.Zc(t)}))},t.prototype.c_=function(t){this.__(t)},t.prototype.lc=function(){this.ko&&(this.platform.window.removeEventListener("storage",this.Oc),this.removeItem(this.qc),this.ko=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return be("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){be("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){be("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.xc=function(t){var e=this;if(t.storageArea===this.storage){if(be("SharedClientState","EVENT",t.key,t.newValue),t.key===this.qc)return void we("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.$a.qr((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n,r,s,o,a;return i.__generator(this,(function(i){if(this.ko){if(null!==t.key)if(this.Wc.test(t.key)){if(null==t.newValue)return e=this.l_(t.key),[2,this.d_(e,null)];if(n=this.f_(t.key,t.newValue))return[2,this.d_(n.clientId,n)]}else if(this.jc.test(t.key)){if(null!==t.newValue&&(r=this.T_(t.key,t.newValue)))return[2,this.m_(r)]}else if(this.Kc.test(t.key)){if(null!==t.newValue&&(s=this.E_(t.key,t.newValue)))return[2,this.w_(s)]}else if(t.key===this.Gc){if(null!==t.newValue&&(o=this.Hc(t.newValue)))return[2,this.Jc(o)]}else t.key===this.Qc&&(a=function(t){var e=Be.kr;if(null!=t)try{var n=JSON.parse(t);Ce("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){we("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Be.kr&&this.vr(a)}else this.Bc.push(t);return[2]}))}))}))}},Object.defineProperty(t.prototype,"i_",{get:function(){return this.Lc[this.Mc]},enumerable:!0,configurable:!0}),t.prototype.zc=function(){this.setItem(this.qc,this.i_.Nc())},t.prototype.t_=function(t,e,n){var r=new rr(this.currentUser,t,e,n),i=er(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Nc())},t.prototype.s_=function(t){var e=er(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.__=function(t){this.storage.setItem(this.Gc,JSON.stringify({clientId:this.Mc,onlineState:t}))},t.prototype.u_=function(t,e,n){var r=nr(this.persistenceKey,t),i=new ir(t,e,n);this.setItem(r,i.Nc())},t.prototype.l_=function(t){var e=this.Wc.exec(t);return e?e[1]:null},t.prototype.f_=function(t,e){var n=this.l_(t);return sr.kc(n,e)},t.prototype.T_=function(t,e){var n=this.jc.exec(t),r=Number(n[1]);return rr.kc(new h(void 0!==n[2]?n[2]:null),r,e)},t.prototype.E_=function(t,e){var n=this.Kc.exec(t),r=Number(n[1]);return ir.kc(r,e)},t.prototype.Hc=function(t){return or.kc(t)},t.prototype.m_=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.mc.I_(t.batchId,t.state,t.error)]:(be("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.w_=function(t){return this.mc.R_(t.targetId,t.state,t.error)},t.prototype.d_=function(t,e){var n=this,r=this.Yc();e?this.Lc[t]=e:delete this.Lc[t];var s=this.Yc(),o=[],a=[];return s.forEach((function(t){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){return r.has(t)||o.push(t),[2]}))}))})),r.forEach((function(t){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){return s.has(t)||a.push(t),[2]}))}))})),this.mc.A_(o,a)},t.prototype.Jc=function(t){this.Lc[t.clientId]&&this.$u(t.onlineState)},t}(),ur=function(){function t(){this.P_=new ar,this.V_={},this.mc=null,this.$u=null,this.vr=null}return t.prototype.Zc=function(t){},t.prototype.e_=function(t,e,n){},t.prototype.n_=function(t){return this.P_.Fc(t),this.V_[t]||"not-current"},t.prototype.a_=function(t,e,n){this.V_[t]=e},t.prototype.r_=function(t){this.P_.$c(t)},t.prototype.o_=function(t){return this.P_.activeTargetIds.has(t)},t.prototype.h_=function(t){delete this.V_[t]},t.prototype.Yc=function(){return this.P_.activeTargetIds},t.prototype.Xc=function(t){return this.P_.activeTargetIds.has(t)},t.prototype.start=function(){return this.P_=new ar,Promise.resolve()},t.prototype.oh=function(t,e,n){},t.prototype.c_=function(t){},t.prototype.lc=function(){},t.prototype.Cr=function(t){},t}(),cr=function(){function t(t){this.g_=t}return t.prototype.next=function(){return this.g_+=2,this.g_},t.p_=function(){return new t(0)},t.y_=function(){return new t(-1)},t}(),hr=function(t){this.key=t},dr=function(t){this.key=t},fr=function(){function t(t,e){this.query=t,this.b_=e,this.v_=null,this.As=!1,this.S_=Zt(),this._s=Zt(),this.D_=new te(t.Be.bind(t))}return Object.defineProperty(t.prototype,"C_",{get:function(){return this.b_},enumerable:!0,configurable:!0}),t.prototype.k_=function(t,e){var n=this,r=e?e.N_:new ee,i=e?e.D_:this.D_,s=e?e._s:this._s,o=i,a=!1,l=this.query.je()&&i.size===this.query.limit?i.last():null,u=this.query.Ke()&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var c=i.get(t),h=e instanceof bt?e:null;h&&(h=n.query.matches(h)?h:null);var d=!!c&&n._s.has(c.key),f=!!h&&(h.te||n._s.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.F_(c,h)||(r.track({type:2,doc:h}),p=!0,(l&&n.query.Be(h,l)>0||u&&n.query.Be(h,u)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(l||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),this.query.je()||this.query.Ke())for(;o.size>this.query.limit;){var c=this.query.je()?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{D_:o,N_:r,M_:a,_s:s}},t.prototype.F_=function(t,e){return t.te&&e.hasCommittedMutations&&!e.te},t.prototype.nr=function(t,e,n){var r=this,i=this.D_;this.D_=t.D_,this._s=t._s;var s=t.N_.us();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.Be(t.doc,e.doc)})),this.L_(n);var o=e?this.O_():[],a=0===this.S_.size&&this.As?1:0,l=a!==this.v_;return this.v_=a,0!==s.length||l?{snapshot:new ne(this.query,t.D_,i,s,t._s,0===a,l,!1),x_:o}:{x_:o}},t.prototype.B_=function(t){return this.As&&"Offline"===t?(this.As=!1,this.nr({D_:this.D_,N_:new ee,_s:this._s,M_:!1},!1)):{x_:[]}},t.prototype.U_=function(t){return!this.b_.has(t)&&!!this.D_.has(t)&&!this.D_.get(t).te},t.prototype.L_=function(t){var e=this;t&&(t.Ps.forEach((function(t){return e.b_=e.b_.add(t)})),t.Vs.forEach((function(t){})),t.gs.forEach((function(t){return e.b_=e.b_.delete(t)})),this.As=t.As)},t.prototype.O_=function(){var t=this;if(!this.As)return[];var e=this.S_;this.S_=Zt(),this.D_.forEach((function(e){t.U_(e.key)&&(t.S_=t.S_.add(e.key))}));var n=[];return e.forEach((function(e){t.S_.has(e)||n.push(new dr(e))})),this.S_.forEach((function(t){e.has(t)||n.push(new hr(t))})),n},t.prototype.q_=function(t){this.b_=t.zh,this.S_=Zt();var e=this.k_(t.documents);return this.nr(e,!0)},t.prototype.Q_=function(){return ne.fs(this.query,this.D_,this._s,0===this.v_)},t}(),pr=function(){function t(t,e,n,r){this.Nr=t,this.W_=e,this.updateFunction=n,this.Lr=r,this.j_=5,this.Ja=new Wn(this.Nr,"retry_transaction")}return t.prototype.K_=function(){this.G_()},t.prototype.G_=function(){var t=this;this.Ja.Qa((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(r){return t=this.W_.Sc(),(e=this.z_(t))&&e.then((function(e){n.Nr.qr((function(){return t.commit().then((function(){n.Lr.resolve(e)})).catch((function(t){n.H_(t)}))}))})).catch((function(t){n.H_(t)})),[2]}))}))}))},t.prototype.z_=function(t){try{var e=this.updateFunction(t);return!F(e)&&e.catch&&e.then?e:(this.Lr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Lr.reject(t),null}},t.prototype.H_=function(t){var e=this;this.j_>0&&this.J_(t)?(this.j_-=1,this.Nr.qr((function(){return e.G_(),Promise.resolve()}))):this.Lr.reject(t)},t.prototype.J_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!qt(e)}return!1},t}(),mr=function(t,e,n){this.query=t,this.targetId=e,this.view=n},gr=function(t){this.key=t,this.Y_=!1},yr=function(){function t(t,e,n,r,i){this.Wu=t,this.W_=e,this.X_=n,this.currentUser=r,this.Z_=i,this.tl=null,this.el=new De((function(t){return t.canonicalId()})),this.sl=new Map,this.nl=[],this.il=new I(S.F),this.rl=new Map,this.ol=new Pe,this.hl={},this.al=new Map,this.ul=cr.y_(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"cl",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.tl=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this._l("listen()"),(r=this.el.get(t))?(this.X_.n_(e=r.targetId),n=r.view.Q_(),[3,4]):[3,1];case 1:return[4,this.Wu.Uh(t.xe())];case 2:return s=i.sent(),o=this.X_.n_(s.targetId),[4,this.ll(t,e=s.targetId,"current"===o)];case 3:n=i.sent(),this.isPrimary&&this.W_.listen(s),i.label=4;case 4:return[2,(this.tl.du([n]),e)]}}))}))},t.prototype.ll=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s,o,a,l,u;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Wu.Kh(t,!0)];case 1:return r=i.sent(),s=new fr(t,r.zh),o=s.k_(r.documents),a=ie.Rs(e,n&&"Offline"!==this.onlineState),l=s.nr(o,!0===this.isPrimary,a),u=new mr(t,e,s),[2,(this.el.set(t,u),this.sl.has(e)?this.sl.get(e).push(t):this.sl.set(e,[t]),l.snapshot)]}}))}))},t.prototype.dl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Wu.Kh(t.query,!0)];case 1:return e=r.sent(),n=t.view.q_(e),[2,(this.isPrimary&&this.fl(t.targetId,n.x_),n)]}}))}))},t.prototype.fc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this._l("unlisten()"),e=this.el.get(t),(n=this.sl.get(e.targetId)).length>1?[2,(this.sl.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.el.delete(t))]:this.isPrimary?(this.X_.r_(e.targetId),this.X_.Xc(e.targetId)?[3,2]:[4,this.Wu.jh(e.targetId,!1).then((function(){r.X_.h_(e.targetId),r.W_.fc(e.targetId),r.Tl(e.targetId)})).catch(Xe)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.Tl(e.targetId),[4,this.Wu.jh(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return this._l("write()"),[4,this.Wu.lh(t)];case 1:return n=r.sent(),this.X_.Zc(n.batchId),this.ml(n.batchId,e),[4,this.El(n.zi)];case 2:return r.sent(),[4,this.W_.uc()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new pr(t,this.W_,e,n).K_()},t.prototype.vh=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this._l("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Wu.vh(t)];case 2:return e=r.sent(),t.Ts.forEach((function(t,e){var r=n.rl.get(e);r&&(Ce(t.Ps.size+t.Vs.size+t.gs.size<=1,"Limbo resolution for single document contains multiple changes."),t.Ps.size>0?r.Y_=!0:t.Vs.size>0?Ce(r.Y_,"Received change for limbo target document without add."):t.gs.size>0&&(Ce(r.Y_,"Received remove for limbo target document without add."),r.Y_=!1))})),[4,this.El(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Xe(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.B_=function(t,e){if(this.isPrimary&&0===e||!this.isPrimary&&1===e){this._l("applyOnlineStateChange()");var n=[];this.el.forEach((function(e,r){var i=r.view.B_(t);i.snapshot&&n.push(i.snapshot)})),this.tl.wl(t),this.tl.du(n),this.onlineState=t,this.isPrimary&&this.X_.c_(t)}},t.prototype.Ic=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,a,l=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this._l("rejectListens()"),this.X_.a_(t,"rejected",e),n=this.rl.get(t),(r=n&&n.key)?(this.il=this.il.remove(r),this.rl.delete(t),this.Il(),s=(s=new I(S.F)).it(r,new wt(r,b.S())),o=Zt().add(r),a=new re(b.MIN,new Map,new k(Ie),s,o),[2,this.vh(a)]):[4,this.Wu.jh(t,!1).then((function(){return l.Tl(t,e)})).catch(Xe)];case 1:return i.sent(),[2]}}))}))},t.prototype.I_=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return this._l("applyBatchState()"),[4,this.Wu.fh(t)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.W_.uc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.Rl(t,n||null),this.Wu.Yh(t)):Te("Unknown batchState: "+e),i.label=4;case 4:return[4,this.El(r)];case 5:return i.sent(),[3,7];case 6:be("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))},t.prototype.pc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:this._l("applySuccessfulWrite()"),this.Rl(e=t.batch.batchId,null),this.Al(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Wu.mh(t)];case 2:return n=r.sent(),this.X_.e_(e,"acknowledged"),[4,this.El(n)];case 3:return r.sent(),[3,6];case 4:return[4,Xe(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.vc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this._l("rejectFailedWrite()"),this.Rl(t,e),this.Al(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Wu.Ah(t)];case 2:return n=r.sent(),this.X_.e_(t,"rejected",e),[4,this.El(n)];case 3:return r.sent(),[3,6];case 4:return[4,Xe(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Pl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return this.W_.Ju()||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.Wu.gh()];case 1:return-1===(e=r.sent())?[2,void t.resolve()]:((n=this.al.get(e)||[]).push(t),this.al.set(e,n),[2])}}))}))},t.prototype.Al=function(t){(this.al.get(t)||[]).forEach((function(t){t.resolve()})),this.al.delete(t)},t.prototype.Vl=function(t){this.al.forEach((function(e){e.forEach((function(e){e.reject(new f(d.CANCELLED,t))}))})),this.al.clear()},t.prototype.ml=function(t,e){var n=this.hl[this.currentUser.s()];n||(n=new I(Ie)),n=n.it(t,e),this.hl[this.currentUser.s()]=n},t.prototype.Rl=function(t,e){var n=this.hl[this.currentUser.s()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.hl[this.currentUser.s()]=n}},t.prototype.Tl=function(t,e){var n=this;void 0===e&&(e=null),this.X_.r_(t);for(var r=0,i=this.sl.get(t);r<i.length;r++){var s=i[r];this.el.delete(s),e&&this.tl.gl(s,e)}if(this.sl.delete(t),this.isPrimary){var o=this.ol.$i(t);this.ol.Ni(t),o.forEach((function(t){n.ol.Mi(t)||n.pl(t)}))}},t.prototype.pl=function(t){var e=this.il.get(t);null!==e&&(this.W_.fc(e),this.il=this.il.remove(t),this.rl.delete(e),this.Il())},t.prototype.fl=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof hr?(this.ol.vi(i.key,t),this.yl(i)):i instanceof dr?(be("SyncEngine","Document no longer in limbo: "+i.key),this.ol.Di(i.key,t),this.ol.Mi(i.key)||this.pl(i.key)):Te("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.yl=function(t){var e=t.key;this.il.get(e)||(be("SyncEngine","New document in limbo: "+e),this.nl.push(e),this.Il())},t.prototype.Il=function(){for(;this.nl.length>0&&this.il.size<this.Z_;){var t=this.nl.shift(),e=this.ul.next();this.rl.set(e,new gr(t)),this.il=this.il.it(t,e),this.W_.listen(new Ut(Ct.ve(t.path).xe(),e,2,Be.kr))}},t.prototype.bl=function(){return this.il},t.prototype.vl=function(){return this.nl},t.prototype.El=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],s=[],this.el.forEach((function(i,a){s.push(Promise.resolve().then((function(){var e=a.view.k_(t);return e.M_?o.Wu.Kh(a.query,!1).then((function(t){return a.view.k_(t.documents,e)})):e})).then((function(t){var i=e&&e.Ts.get(a.targetId),s=a.view.nr(t,!0===o.isPrimary,i);if(o.fl(a.targetId,s.x_),s.snapshot){o.isPrimary&&o.X_.a_(a.targetId,s.snapshot.fromCache?"not-current":"current"),n.push(s.snapshot);var l=qe.br(a.targetId,s.snapshot);r.push(l)}})))})),[4,Promise.all(s)];case 1:return i.sent(),this.tl.du(n),[4,this.Wu.Lh(r)];case 2:return i.sent(),[2]}}))}))},t.prototype._l=function(t){},t.prototype.Dc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.Vl("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.Wu.oh(t)]):[3,3];case 1:return n=r.sent(),this.X_.oh(t,n.uh,n._h),[4,this.El(n.ah)];case 2:r.sent(),r.label=3;case 3:return[4,this.W_.Dc()];case 4:return r.sent(),[2]}}))}))},t.prototype.Cc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s,o,a,l=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.W_.Cc(!0)]);case 1:return i.sent(),e=this.X_.Yc(),[4,this.Sl(e.j())];case 2:for(n=i.sent(),r=0,s=n;r<s.length;r++)this.W_.listen(s[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],a=Promise.resolve(),this.sl.forEach((function(t,e){l.X_.o_(e)?o.push(e):a=a.then((function(){return l.Tl(e),l.Wu.jh(e,!0)})),l.W_.fc(e)})),[4,a]);case 4:return i.sent(),[4,this.Sl(o)];case 5:return i.sent(),this.Dl(),[4,this.W_.Cc(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))},t.prototype.Dl=function(){var t=this;this.rl.forEach((function(e,n){t.W_.fc(n)})),this.ol.Fi(),this.rl=new Map,this.il=new I(S.F)},t.prototype.Sl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s,o,a,l,u,c,h,d,f;return i.__generator(this,(function(i){switch(i.label){case 0:e=[],n=[],r=0,s=t,i.label=1;case 1:return r<s.length?(a=void 0,(l=this.sl.get(o=s[r]))&&0!==l.length?[4,this.Wu.jh(o,!0)]:[3,8]):[3,14];case 2:return i.sent(),[4,this.Wu.Uh(l[0].xe())];case 3:a=i.sent(),u=0,c=l,i.label=4;case 4:return u<c.length?(h=this.el.get(c[u]),[4,this.dl(h)]):[3,7];case 5:(d=i.sent()).snapshot&&n.push(d.snapshot),i.label=6;case 6:return u++,[3,4];case 7:return[3,12];case 8:return[4,this.Wu.ta(o)];case 9:return f=i.sent(),[4,this.Wu.Uh(f)];case 10:return a=i.sent(),[4,this.ll(this.Cl(f),o,!1)];case 11:i.sent(),i.label=12;case 12:e.push(a),i.label=13;case 13:return r++,[3,1];case 14:return[2,(this.tl.du(n),e)]}}))}))},t.prototype.Cl=function(t){return new Ct(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},t.prototype.Jh=function(){return this.Wu.Jh()},t.prototype.R_=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s;return i.__generator(this,(function(i){switch(i.label){case 0:return this.isPrimary?(be("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.sl.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.Wu.ea()];case 3:return r=i.sent(),s=re.Is(t,"current"===e),[4,this.El(r,s)];case 4:return i.sent(),[3,8];case 5:return[4,this.Wu.jh(t,!0)];case 6:return i.sent(),this.Tl(t,n),[3,8];case 7:Te("Unexpected target state: "+e),i.label=8;case 8:return[2]}}))}))},t.prototype.A_=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o,a,l,u,c,h=this;return i.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[3,10];n=0,r=t,d.label=1;case 1:return n<r.length?[4,this.Wu.ta(r[n])]:[3,6];case 2:return s=d.sent(),[4,this.Wu.Uh(s)];case 3:return o=d.sent(),[4,this.ll(this.Cl(s),o.targetId,!1)];case 4:d.sent(),this.W_.listen(o),d.label=5;case 5:return n++,[3,1];case 6:a=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return l.sl.has(t)?[4,l.Wu.jh(t,!1).then((function(){h.W_.fc(t),h.Tl(t)})).catch(Xe)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=this,u=0,c=e,d.label=7;case 7:return u<c.length?[5,a(c[u])]:[3,10];case 8:d.sent(),d.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.Wu.Zh(!0),this.W_.enableNetwork()},t.prototype.disableNetwork=function(){return this.Wu.Zh(!1),this.W_.disableNetwork()},t.prototype.an=function(t){var e=this.rl.get(t);if(e&&e.Y_)return Zt().add(e.key);var n=Zt(),r=this.sl.get(t);if(!r)return n;for(var i=0,s=r;i<s.length;i++){var o=this.el.get(s[i]);n=n.Ft(o.view.C_)}return n},t}(),vr=function(){this.kl=null,this.targetId=0,this.Nl=[]},_r=function(){function t(t){this.mc=t,this.Fl=new De((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.$l=new Set,this.mc.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.Fl.get(e);return r||(n=!0,r=new vr,this.Fl.set(e,r)),r.Nl.push(t),t.B_(this.onlineState),r.kl&&t.Ml(r.kl)&&this.Ll(),n?this.mc.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.fc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,s;return i.__generator(this,(function(i){return n=!1,(r=this.Fl.get(e=t.query))&&(s=r.Nl.indexOf(t))>=0&&(r.Nl.splice(s,1),n=0===r.Nl.length),n?[2,(this.Fl.delete(e),this.mc.fc(e))]:[2]}))}))},t.prototype.du=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],s=this.Fl.get(i.query);if(s){for(var o=0,a=s.Nl;o<a.length;o++)a[o].Ml(i)&&(e=!0);s.kl=i}}e&&this.Ll()},t.prototype.gl=function(t,e){var n=this.Fl.get(t);if(n)for(var r=0,i=n.Nl;r<i.length;r++)i[r].onError(e);this.Fl.delete(t)},t.prototype.wl=function(t){this.onlineState=t;var e=!1;this.Fl.forEach((function(n,r){for(var i=0,s=r.Nl;i<s.length;i++)s[i].B_(t)&&(e=!0)})),e&&this.Ll()},t.prototype.Ol=function(t){this.$l.add(t),t.next()},t.prototype.xl=function(t){this.$l.delete(t)},t.prototype.Ll=function(){this.$l.forEach((function(t){t.next()}))},t}(),br=function(){function t(t,e,n){this.query=t,this.Bl=e,this.Ul=!1,this.ql=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ml=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ne(t.query,t.docs,t.cs,e,t._s,t.fromCache,t.ls,!0)}var s=!1;return this.Ul?this.Ql(t)&&(this.Bl.next(t),s=!0):this.Wl(t,this.onlineState)&&(this.jl(t),s=!0),this.ql=t,s},t.prototype.onError=function(t){this.Bl.error(t)},t.prototype.B_=function(t){this.onlineState=t;var e=!1;return this.ql&&!this.Ul&&this.Wl(this.ql,t)&&(this.jl(this.ql),e=!0),e},t.prototype.Wl=function(t,e){return!t.fromCache||!(this.options.Kl&&"Offline"!==e||t.docs.U()&&"Offline"!==e)},t.prototype.Ql=function(t){return t.docChanges.length>0||!!(t.ls||this.ql&&this.ql.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.jl=function(t){t=ne.fs(t.query,t.docs,t._s,t.fromCache),this.Ul=!0,this.Bl.next(t)},t}(),wr=function(){function t(){}return t.prototype.ih=function(t){this.Gl=t},t.prototype.wr=function(t,e,n,r){var i=this;return e.Oe()||n.isEqual(b.MIN)?this.zl(t,e):this.Gl.Tr(t,r).next((function(s){var a=i.Hl(e,s);return(e.je()||e.Ke())&&i.M_(e.ge,a,r,n)?i.zl(t,e):(ve()<=o.LogLevel.DEBUG&&be("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.Gl.wr(t,e,n).next((function(t){return a.forEach((function(e){t=t.it(e.key,e)})),t})))}))},t.prototype.Hl=function(t,e){var n=new k((function(e,n){return t.Be(e,n)}));return e.forEach((function(e,r){r instanceof bt&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.M_=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.D(r)>0)},t.prototype.zl=function(t,e){return ve()<=o.LogLevel.DEBUG&&be("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.Gl.wr(t,e,b.MIN)},t}();function Er(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cr(e)),e=Tr(t.get(n),e);return Cr(e)}function Tr(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Cr(t){return t+"\x01\x01"}function Sr(t){var e=t.length;if(Ce(e>=2,"Invalid path "+t),2===e)return Ce("\x01"===t.charAt(0)&&"\x01"===t.charAt(1),"Non-empty path "+t+" had length 2"),E.H;for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Te('Invalid encoded resource path: "'+t+'"'),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),l=void 0;0===i.length?l=a:(l=i+=a,i=""),r.push(l);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Te('Invalid encoded resource path: "'+t+'"')}s=o+2}return new E(r)}var Ir=function(){function t(e){this.db=e,12.2===t.Jl(a.getUA())&&we("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Yl=function(e,n,r){return be("SimpleDb","Opening database:",e),new Me((function(i,s){var o=window.indexedDB.open(e,n);o.onsuccess=function(e){i(new t(e.target.result))},o.onblocked=function(){s(new f(d.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var e=t.target.error;s("VersionError"===e.name?new f(d.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},o.onupgradeneeded=function(t){be("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,o.transaction,t.oldVersion,Zr).next((function(){be("SimpleDb","Database upgrade to version "+Zr+" complete")}))}})).Wi()},t.delete=function(t){return be("SimpleDb","Removing database:",t),Ar(window.indexedDB.deleteDatabase(t)).Wi()},t.Uc=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.Xl())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.Jl(e),r=0<n&&n<10,i=t.Zl(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Xl=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.td)},t.ed=function(t,e){return t.store(e)},t.Jl=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Zl=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.sd=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,s,o,a,l;return i.__generator(this,(function(u){switch(u.label){case 0:r="readonly"===t,s=0,o=function(){var t,o,l,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:++s,t=Nr.open(a.db,r?"readonly":"readwrite",e),i.label=1;case 1:return i.trys.push([1,3,,4]),o=n(t).catch((function(e){return t.abort(e),Me.reject(e)})).Wi(),l={},o.catch((function(){})),[4,t.nd];case 2:return[2,(l.value=(i.sent(),o),l)];case 3:return be("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(u=i.sent()).message,c="FirebaseError"!==u.name&&s<3),c?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(l=u.sent()))return[2,l.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),xr=function(){function t(t){this.rd=t,this.od=!1,this.hd=null}return Object.defineProperty(t.prototype,"Bi",{get:function(){return this.od},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ad",{get:function(){return this.hd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.rd=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.od=!0},t.prototype.ud=function(t){this.hd=t},t.prototype.delete=function(){return Ar(this.rd.delete())},t}(),Nr=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this._d=new ze,this.transaction.oncomplete=function(){e._d.resolve()},this.transaction.onabort=function(){t.error?e._d.reject(t.error):e._d.resolve()},this.transaction.onerror=function(t){var n=Or(t.target.error);e._d.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"nd",{get:function(){return this._d.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this._d.reject(t),this.aborted||(be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new kr(e)},t}(),kr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(be("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ar(n)},t.prototype.add=function(t){return be("SimpleDb","ADD",this.store.name,t,t),Ar(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ar(this.store.get(t)).next((function(n){return void 0===n&&(n=null),be("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return be("SimpleDb","DELETE",this.store.name,t),Ar(this.store.delete(t))},t.prototype.count=function(){return be("SimpleDb","COUNT",this.store.name),Ar(this.store.count())},t.prototype.ld=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.dd(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.fd=function(t,e){be("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Td=!1;var r=this.cursor(n);return this.dd(r,(function(t,e,n){return n.delete()}))},t.prototype.md=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.dd(r,e)},t.prototype.Ed=function(t){var e=this.cursor({});return new Me((function(n,r){e.onerror=function(t){var e=Or(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.dd=function(t,e){var n=[];return new Me((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new xr(i),o=e(i.primaryKey,i.value,s);if(o instanceof Me){var a=o.catch((function(t){return s.done(),Me.reject(t)}));n.push(a)}s.Bi?r():null===s.ad?i.continue():i.continue(s.ad)}else r()}})).next((function(){return Me.Ki(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Td?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ar(t){return new Me((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Or(t.target.error);n(e)}}))}var Dr=!1;function Or(t){var e=Ir.Jl(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new f("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Dr||(Dr=!0,setTimeout((function(){throw r}),0)),r}}return t}var Rr=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.ur=n,this.Jo=r,this.wd={}}return t.Id=function(e,n,r,i){return Ce(""!==e.uid,"UserID must not be an empty string."),new t(e.t()?e.uid:"",n,r,i)},t.prototype.Rd=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mr(t).md({index:ni.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.mh=function(t,e,n){return this.Ad(t).next((function(e){return e.lastStreamToken=n.toBase64(),Vr(t).put(e)}))},t.prototype.ph=function(t){return this.Ad(t).next((function(t){return P.fromBase64String(t.lastStreamToken)}))},t.prototype.yh=function(t,e){return this.Ad(t).next((function(n){return n.lastStreamToken=e.toBase64(),Vr(t).put(n)}))},t.prototype.dh=function(t,e,n,r){var i=this,s=Lr(t),o=Mr(t);return o.add({}).next((function(a){Ce("number"==typeof a,"Auto-generated key is not a number");for(var l=new Oe(a,e,n,r),u=i.serializer.Pd(i.userId,l),c=[],h=new k((function(t,e){return Ie(t.K(),e.K())})),d=0,f=r;d<f.length;d++){var p=f[d],m=ri.key(i.userId,p.key.path,a);h=h.add(p.key.path.L()),c.push(o.put(u)),c.push(s.put(m,ri.PLACEHOLDER))}return h.forEach((function(e){c.push(i.ur.Vd(t,e))})),t.rr((function(){i.wd[a]=l.keys()})),Me.Ki(c).next((function(){return l}))}))},t.prototype.Ph=function(t,e){var n=this;return Mr(t).get(e).next((function(t){return t?(Ce(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.gd(t)):null}))},t.prototype.Th=function(t,e){var n=this;return this.wd[e]?Me.resolve(this.wd[e]):this.Ph(t,e).next((function(t){if(t){var r=t.keys();return n.wd[e]=r,r}return null}))},t.prototype.xh=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Mr(t).md({index:ni.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ce(e.batchId>=r,"Should have found mutation after "+r),s=n.serializer.gd(e)),i.done()})).next((function(){return s}))},t.prototype.gh=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Mr(t).md({index:ni.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.hh=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mr(t).ld(ni.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.gd(t)}))}))},t.prototype._r=function(t,e){var n=this,r=ri.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Lr(t).md({range:i},(function(r,i,o){var a=r[0],l=r[2],u=Sr(r[1]);if(a===n.userId&&e.path.isEqual(u))return Mr(t).get(l).next((function(t){if(!t)throw Te("Dangling document-mutation reference found: "+r+" which points to "+l);Ce(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),s.push(n.serializer.gd(t))}));o.done()})).next((function(){return s}))},t.prototype.Er=function(t,e){var n=this,r=new k(Ie),i=[];return e.forEach((function(e){var s=ri.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Lr(t).md({range:o},(function(t,i,s){var o=t[0],a=t[2],l=Sr(t[1]);o===n.userId&&e.path.isEqual(l)?r=r.add(a):s.done()}));i.push(a)})),Me.Ki(i).next((function(){return n.pd(t,r)}))},t.prototype.Vr=function(t,e){var n=this,r=e.path,i=r.length+1,s=ri.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new k(Ie);return Lr(t).md({range:o},(function(t,e,s){var o=t[0],l=t[2],u=Sr(t[1]);o===n.userId&&r.q(u)?u.length===i&&(a=a.add(l)):s.done()})).next((function(){return n.pd(t,a)}))},t.prototype.pd=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Mr(t).get(e).next((function(t){if(null===t)throw Te("Dangling document-mutation reference found, which points to "+e);Ce(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.gd(t))})))})),Me.Ki(i).next((function(){return r}))},t.prototype.Vh=function(t,e){var n=this;return Fr(t.yd,this.userId,e).next((function(r){return t.rr((function(){n.Xh(e.batchId)})),Me.forEach(r,(function(e){return n.Jo.bd(t,e)}))}))},t.prototype.Xh=function(t){delete this.wd[t]},t.prototype.Rh=function(t){var e=this;return this.Rd(t).next((function(n){if(!n)return Me.resolve();var r=IDBKeyRange.lowerBound(ri.prefixForUser(e.userId)),i=[];return Lr(t).md({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Sr(t[1]);i.push(s)}else r.done()})).next((function(){Ce(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.K()})))}))}))},t.prototype.Mi=function(t,e){return Pr(t,this.userId,e)},t.prototype.Ad=function(t){var e=this;return Vr(t).get(this.userId).next((function(t){return t||new ei(e.userId,-1,"")}))},t}();function Pr(t,e,n){var r=ri.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Lr(t).md({range:s,Td:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Fr(t,e,n){var r=t.store(ni.store),i=t.store(ri.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,l=r.md({range:o},(function(t,e,n){return a++,n.delete()}));s.push(l.next((function(){Ce(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=ri.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return Me.Ki(s).next((function(){return u}))}function Mr(t){return bi.ed(t,ni.store)}function Lr(t){return bi.ed(t,ri.store)}function Vr(t){return bi.ed(t,ei.store)}var Ur=function(){function t(t,e){this.Jo=t,this.serializer=e}return t.prototype.Qh=function(t){var e=this;return this.vd(t).next((function(n){var r=new cr(n.highestTargetId);return n.highestTargetId=r.next(),e.Sd(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.bh=function(t){return this.vd(t).next((function(t){return b.v(new _(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Dd=function(t){return Br(t.yd)},t.prototype.$h=function(t,e,n){var r=this;return this.vd(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.k()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Sd(t,i)}))},t.prototype.Wh=function(t,e){var n=this;return this.Cd(t,e).next((function(){return n.vd(t).next((function(r){return r.targetCount+=1,n.kd(e,r),n.Sd(t,r)}))}))},t.prototype.Nh=function(t,e){return this.Cd(t,e)},t.prototype.Nd=function(t,e){var n=this;return this.Fd(t,e.targetId).next((function(){return jr(t).delete(e.targetId)})).next((function(){return n.vd(t)})).next((function(e){return Ce(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.Sd(t,e)}))},t.prototype.xo=function(t,e,n){var r=this,i=0,s=[];return jr(t).md((function(o,a){var l=r.serializer.$d(a);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(i++,s.push(r.Nd(t,l)))})).next((function(){return Me.Ki(s)})).next((function(){return i}))},t.prototype.Xs=function(t,e){var n=this;return jr(t).md((function(t,r){var i=n.serializer.$d(r);e(i)}))},t.prototype.vd=function(t){return qr(t.yd)},t.prototype.Sd=function(t,e){return(n=t,bi.ed(n,ci.store)).put(ci.key,e);var n},t.prototype.Cd=function(t,e){return jr(t).put(this.serializer.Md(e))},t.prototype.kd=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Ld=function(t){return this.vd(t).next((function(t){return t.targetCount}))},t.prototype.qh=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return jr(t).md({range:i,index:li.queryTargetsIndexName},(function(t,r,i){var o=n.serializer.$d(r);e.isEqual(o.target)&&(s=o,i.done())})).next((function(){return s}))},t.prototype.Dh=function(t,e,n){var r=this,i=[],s=zr(t);return e.forEach((function(e){var o=Er(e.path);i.push(s.put(new ui(n,o))),i.push(r.Jo.vi(t,e))})),Me.Ki(i)},t.prototype.Sh=function(t,e,n){var r=this,i=zr(t);return Me.forEach(e,(function(e){var s=Er(e.path);return Me.Ki([i.delete([n,s]),r.Jo.Di(t,e)])}))},t.prototype.Fd=function(t,e){var n=zr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Gh=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=zr(t),i=Zt();return r.md({range:n,Td:!0},(function(t,e,n){var r=Sr(t[1]),s=new S(r);i=i.add(s)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=Er(e.path),r=IDBKeyRange.bound([n],[Ne(n)],!1,!0),i=0;return zr(t).md({index:ui.documentTargetsIndex,Td:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.un=function(t,e){var n=this;return jr(t).get(e).next((function(t){return t?n.serializer.$d(t):null}))},t}();function jr(t){return bi.ed(t,li.store)}function qr(t){return Ir.ed(t,ci.store).get(ci.key).next((function(t){return Ce(null!==t,"Missing metadata row."),t}))}function Br(t){return qr(t).next((function(t){return t.highestListenSequenceNumber}))}function zr(t){return bi.ed(t,ui.store)}var Gr=function(){function t(t,e){this.serializer=t,this.ur=e}return t.prototype.Yi=function(t,e,n){return Wr(t).put($r(e),n)},t.prototype.Zi=function(t,e){var n=Wr(t),r=$r(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Od(t,r)}))},t.prototype.tr=function(t,e){var n=this;return Wr(t).get($r(e)).next((function(t){return n.xd(t)}))},t.prototype.Bd=function(t,e){var n=this;return Wr(t).get($r(e)).next((function(t){var e=n.xd(t);return e?{Ud:e,size:Kr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ht();return this.qd(t,e,(function(t,e){var i=n.xd(e);r=r.it(t,i)})).next((function(){return r}))},t.prototype.Qd=function(t,e){var n=this,r=Ht(),i=new I(S.F);return this.qd(t,e,(function(t,e){var s=n.xd(e);s?(r=r.it(t,s),i=i.it(t,Kr(e))):(r=r.it(t,null),i=i.it(t,0))})).next((function(){return{Wd:r,jd:i}}))},t.prototype.qd=function(t,e,n){if(e.U())return Me.resolve();var r=IDBKeyRange.bound(e.first().path.j(),e.last().path.j()),i=e._t(),s=i.wt();return Wr(t).md({range:r},(function(t,e,r){for(var o=S.nt(t);s&&S.F(s,o)<0;)n(s,null),s=i.wt();s&&s.isEqual(o)&&(n(s,e),s=i.It()?i.wt():null),s?r.ud(s.path.j()):r.done()})).next((function(){for(;s;)n(s,null),s=i.It()?i.wt():null}))},t.prototype.wr=function(t,e,n){var r=this,i=$t(),s=e.path.length+1,o={};if(n.isEqual(b.MIN)){var a=e.path.j();o.range=IDBKeyRange.lowerBound(a)}else{var l=e.path.j(),u=this.serializer.Kd(n);o.range=IDBKeyRange.lowerBound([l,u],!0),o.index=oi.collectionReadTimeIndex}return Wr(t).md(o,(function(t,n,o){if(t.length===s){var a=r.serializer.Gd(n);e.path.q(a.key.path)?a instanceof bt&&e.matches(a)&&(i=i.it(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.ea=function(t,e){var n=this,r=Gt(),i=this.serializer.Kd(e),s=Wr(t),o=IDBKeyRange.lowerBound(i,!0);return s.md({index:oi.readTimeIndex,range:o},(function(t,e){var s=n.serializer.Gd(e);r=r.it(s.key,s),i=e.readTime})).next((function(){return{sa:r,readTime:n.serializer.zd(i)}}))},t.prototype.na=function(t){var e=this,n=Wr(t),r=b.MIN;return n.md({index:oi.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.zd(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Eh=function(e){return new t.Hd(this,!!e&&e.wh)},t.prototype.Jd=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Hr(t).get(ai.key).next((function(t){return Ce(!!t,"Missing document cache metadata"),t}))},t.prototype.Od=function(t,e){return Hr(t).put(ai.key,e)},t.prototype.xd=function(t){if(t){var e=this.serializer.Gd(t);return e instanceof wt&&e.version.isEqual(b.S())?null:e}return null},t}();function Hr(t){return bi.ed(t,ai.store)}function Wr(t){return bi.ed(t,oi.store)}function $r(t){return t.path.j()}function Kr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Te("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}Gr.Hd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Yd=e,r.wh=n,r.Xd=new De((function(t){return t.toString()})),r}return i.__extends(e,t),e.prototype.nr=function(t){var e=this,n=[],r=0,i=new k((function(t,e){return Ie(t.K(),e.K())}));return this.zi.forEach((function(s,o){var a=e.Xd.get(s);if(o){var l=e.Yd.serializer.Zd(o,e.readTime);i=i.add(s.path.L());var u=Kr(l);r+=u-a,n.push(e.Yd.Yi(t,s,l))}else if(r-=a,e.wh){var c=e.Yd.serializer.Zd(new wt(s,b.S()),e.readTime);n.push(e.Yd.Yi(t,s,c))}else n.push(e.Yd.Zi(t,s))})),i.forEach((function(r){n.push(e.Yd.ur.Vd(t,r))})),n.push(this.Yd.updateMetadata(t,r)),Me.Ki(n)},e.prototype.er=function(t,e){var n=this;return this.Yd.Bd(t,e).next((function(t){return null===t?(n.Xd.set(e,0),null):(n.Xd.set(e,t.size),t.Ud)}))},e.prototype.sr=function(t,e){var n=this;return this.Yd.Qd(t,e).next((function(t){var e=t.Wd;return t.jd.forEach((function(t,e){n.Xd.set(t,e)})),e}))},e}(Le);var Qr=function(){function t(){this.tf=new Yr}return t.prototype.Vd=function(t,e){return this.tf.add(e),Me.resolve()},t.prototype.Pr=function(t,e){return Me.resolve(this.tf.getEntries(e))},t}(),Yr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.B(),n=t.L(),r=this.index[e]||new k(E.F),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.B(),n=t.L(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new k(E.F)).j()},t}(),Zr=10,Jr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Ce(n<r&&n>=0&&r<=Zr,"Unexpected schema upgrade from v"+n+" to v"+r+".");var s=new Nr(e);n<1&&r>=1&&(function(t){t.createObjectStore(ti.store)}(t),function(t){t.createObjectStore(ei.store,{keyPath:ei.keyPath}),t.createObjectStore(ni.store,{keyPath:ni.keyPath,autoIncrement:!0}).createIndex(ni.userMutationsIndex,ni.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ri.store)}(t),di(t),function(t){t.createObjectStore(oi.store)}(t));var o=Me.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ui.store),t.deleteObjectStore(li.store),t.deleteObjectStore(ci.store)}(t),di(t)),o=o.next((function(){return function(t){var e=t.store(ci.store),n=new ci(0,0,b.MIN.k(),0);return e.put(ci.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(ni.store).ld().next((function(n){t.deleteObjectStore(ni.store),t.createObjectStore(ni.store,{keyPath:ni.keyPath,autoIncrement:!0}).createIndex(ni.userMutationsIndex,ni.userMutationsKeyPath,{unique:!0});var r=e.store(ni.store),i=n.map((function(t){return r.put(t)}));return Me.Ki(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(fi.store,{keyPath:fi.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(ai.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(oi.store);e.createIndex(oi.readTimeIndex,oi.readTimeIndexPath,{unique:!1}),e.createIndex(oi.collectionReadTimeIndex,oi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(oi.store).md((function(t,n){e+=Kr(n)})).next((function(){var n=new ai(e);return t.store(ai.store).put(ai.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ei.store),r=t.store(ni.store);return n.ld().next((function(n){return Me.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ld(ni.userMutationsIndex,i).next((function(r){return Me.forEach(r,(function(r){Ce(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.gd(r);return Fr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(ui.store),n=t.store(oi.store);return Br(t).next((function(t){var r=[];return n.md((function(n,i){var s=new E(n),o=function(t){return[0,Er(t)]}(s);r.push(e.get(o).next((function(n){return n?Me.resolve():function(n){return e.put(new ui(0,Er(n),t))}(s)})))})).next((function(){return Me.Ki(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(hi.store,{keyPath:hi.keyPath});var n=e.store(hi.store),r=new Yr,i=function(t){if(r.add(t)){var e=t.B(),i=t.L();return n.put({collectionId:e,parent:Er(i)})}};return e.store(oi.store).md({Td:!0},(function(t,e){var n=new E(t);return i(n.L())})).next((function(){return e.store(ri.store).md({Td:!0},(function(t,e){var n=Sr(t[1]);return i(n.L())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(li.store);return n.md((function(t,r){var i=e.serializer.$d(r),s=e.serializer.Md(i);return n.put(s)}))},t}(),Xr=function(t,e){this.seconds=t,this.nanoseconds=e},ti=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ti.store="owner",ti.key="owner";var ei=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ei.store="mutationQueues",ei.keyPath="userId";var ni=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ni.store="mutations",ni.keyPath="batchId",ni.userMutationsIndex="userMutationsIndex",ni.userMutationsKeyPath=["userId","batchId"];var ri=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Er(e)]},t.key=function(t,e,n){return[t,Er(e),n]},t}();ri.store="documentMutations",ri.PLACEHOLDER=new ri;var ii=function(t,e){this.path=t,this.readTime=e},si=function(t,e){this.path=t,this.version=e},oi=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};oi.store="remoteDocuments",oi.readTimeIndex="readTimeIndex",oi.readTimeIndexPath="readTime",oi.collectionReadTimeIndex="collectionReadTimeIndex",oi.collectionReadTimeIndexPath=["parentPath","readTime"];var ai=function(t){this.byteSize=t};ai.store="remoteDocumentGlobal",ai.key="remoteDocumentGlobalKey";var li=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};li.store="targets",li.keyPath="targetId",li.queryTargetsIndexName="queryTargetsIndex",li.queryTargetsKeyPath=["canonicalId","targetId"];var ui=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ui.store="targetDocuments",ui.keyPath=["targetId","path"],ui.documentTargetsIndex="documentTargetsIndex",ui.documentTargetsKeyPath=["path","targetId"];var ci=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ci.key="targetGlobalKey",ci.store="targetGlobal";var hi=function(t,e){this.collectionId=t,this.parent=e};function di(t){t.createObjectStore(ui.store,{keyPath:ui.keyPath}).createIndex(ui.documentTargetsIndex,ui.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(li.store,{keyPath:li.keyPath}).createIndex(li.queryTargetsIndexName,li.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ci.store)}hi.store="collectionParents",hi.keyPath=["collectionId","parent"];var fi=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};fi.store="clientMetadata",fi.keyPath="clientId";var pi=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([ei.store,ni.store,ri.store,oi.store,li.store,ti.store,ci.store,ui.store],[fi.store]),[ai.store]),[hi.store]),mi=function(){function t(){this.ef=new Yr}return t.prototype.Vd=function(t,e){var n=this;if(!this.ef.has(e)){var r=e.B(),i=e.L();t.rr((function(){n.ef.add(e)}));var s={collectionId:r,parent:Er(i)};return gi(t).put(s)}return Me.resolve()},t.prototype.Pr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ne(e),""],!1,!0);return gi(t).ld(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Sr(s.parent))}return n}))},t}();function gi(t){return bi.ed(t,hi.store)}var yi=function(){function t(t){this.sf=t}return t.prototype.Gd=function(t){if(t.document)return this.sf.vn(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=S.nt(t.noDocument.path),n=this.nf(t.noDocument.readTime);return new wt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var r=S.nt(t.unknownDocument.path),i=this.nf(t.unknownDocument.version);return new Et(r,i)}return Te("Unexpected DbRemoteDocument")},t.prototype.Zd=function(t,e){var n=this.Kd(e),r=t.key.path.L().j();if(t instanceof bt){var i=this.sf.bn(t);return new oi(null,null,i,t.hasCommittedMutations,n,r)}if(t instanceof wt){var s=t.key.path.j(),o=this.if(t.version),a=t.hasCommittedMutations;return new oi(null,new ii(s,o),null,a,n,r)}if(t instanceof Et){var l=t.key.path.j(),u=this.if(t.version);return new oi(new si(l,u),null,null,!0,n,r)}return Te("Unexpected MaybeDocument")},t.prototype.Kd=function(t){var e=t.k();return[e.seconds,e.nanoseconds]},t.prototype.zd=function(t){var e=new _(t[0],t[1]);return b.v(e)},t.prototype.if=function(t){var e=t.k();return new Xr(e.seconds,e.nanoseconds)},t.prototype.nf=function(t){var e=new _(t.seconds,t.nanoseconds);return b.v(e)},t.prototype.Pd=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.sf.$n(t)})),i=e.mutations.map((function(t){return n.sf.$n(t)}));return new ni(t,e.batchId,e.Ri.toMillis(),r,i)},t.prototype.gd=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.sf.xn(t)})),r=t.mutations.map((function(t){return e.sf.xn(t)})),i=_.fromMillis(t.localWriteTimeMs);return new Oe(t.batchId,i,n,r)},t.prototype.$d=function(t){var e,n=this.nf(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.nf(t.lastLimboFreeSnapshotVersion):b.MIN;return e=void 0!==t.query.documents?this.sf.Kn(t.query):this.sf.Yn(t.query),new Ut(e,t.targetId,0,t.lastListenSequenceNumber,n,r,P.fromBase64String(t.resumeToken))},t.prototype.Md=function(t){var e,n=this.if(t.ts),r=this.if(t.lastLimboFreeSnapshotVersion);e=t.target.Pe()?this.sf.jn(t.target):this.sf.Gn(t.target);var i=t.resumeToken.toBase64();return new li(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),vi="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",_i=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).yd=e,r.Ch=n,r}return i.__extends(e,t),e}(Ue),bi=function(){function t(e,n,r,i,s,o,a,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.$a=o,this.rf=l,this.hf=!1,this.isPrimary=!1,this.networkEnabled=!0,this.af=null,this.inForeground=!1,this.uf=null,this.cf=null,this._f=Number.NEGATIVE_INFINITY,this.lf=function(t){return Promise.resolve()},this.Jo=new Ti(this,s),this.df=n+t.ff,this.serializer=new yi(a),this.document=i.document,this.th=new Ur(this.Jo,this.serializer),this.ur=new mi,this.hr=new Gr(this.serializer,this.ur),!i.window||!i.window.localStorage)throw new f(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.Tf=this.window.localStorage}return t.ed=function(t,e){if(t instanceof _i)return Ir.ed(t.yd,e);throw Te("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.mf=function(e){if(!t.Uc())throw new f(d.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.Ef,e.$a,e.serializer,e.rf)},t.prototype.start=function(){var t=this;return Ir.Yl(this.df,Zr,new Jr(this.serializer)).then((function(e){return t.wf=e,t.If()})).then((function(){return t.Rf(),t.Af(),t.Pf(),t.wf.runTransaction("readonly",[ci.store],(function(t){return Br(t)}))})).then((function(e){t.Vf=new Be(e,t.rf)})).then((function(){t.hf=!0})).catch((function(e){return t.wf&&t.wf.close(),Promise.reject(e)}))},t.prototype.gf=function(t){var e=this;return this.lf=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.ko?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.pf=function(t){var e=this;this.wf.sd((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Zh=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.$a.qr((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.ko?[4,this.If()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.If=function(){var t=this;return this.wf.runTransaction("readwrite",pi,(function(e){return Ei(e).put(new fi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.yf(e).next((function(e){e||(t.isPrimary=!1,t.$a.qr((function(){return t.lf(!1)})))}))})).next((function(){return t.bf(e)})).next((function(n){return t.isPrimary&&!n?t.vf(e).next((function(){return!1})):!!n&&t.Sf(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.$a.qr((function(){return t.lf(e)})),t.isPrimary=e}))},t.prototype.yf=function(t){var e=this;return wi(t).get(ti.key).next((function(t){return Me.resolve(e.Df(t))}))},t.prototype.Cf=function(t){return Ei(t).delete(this.clientId)},t.prototype.kf=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.Nf(this._f,18e5)?[3,2]:(this._f=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var r=t.ed(n,fi.store);return r.ld().next((function(t){var n=e.Ff(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Me.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.$f(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.Pf=function(){var t=this;this.cf=this.$a.eo("client_metadata_refresh",4e3,(function(){return t.If().then((function(){return t.kf()})).then((function(){return t.Pf()}))}))},t.prototype.Df=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bf=function(t){var e=this;return wi(t).get(ti.key).next((function(n){if(null!==n&&e.Nf(n.leaseTimestampMs,5e3)&&!e.Mf(n.ownerId)){if(e.Df(n)&&e.networkEnabled)return!0;if(!e.Df(n)){if(!n.allowTabSynchronization)throw new f(d.FAILED_PRECONDITION,vi);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ei(t).ld().next((function(t){return void 0===e.Ff(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&be("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.lc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.hf=!1,this.Lf(),this.cf&&(this.cf.cancel(),this.cf=null),this.Of(),this.xf(),[4,this.wf.runTransaction("readwrite",[ti.store,fi.store],(function(e){return t.vf(e).next((function(){return t.Cf(e)}))}))];case 1:return e.sent(),this.wf.close(),this.Bf(),[2]}}))}))},t.prototype.Ff=function(t,e){var n=this;return t.filter((function(t){return n.Nf(t.updateTimeMs,e)&&!n.Mf(t.clientId)}))},t.prototype.Jh=function(){var t=this;return this.wf.runTransaction("readonly",[fi.store],(function(e){return Ei(e).ld().next((function(e){return t.Ff(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return t.Uc()?[4,Ir.delete(e+t.ff)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"ko",{get:function(){return this.hf},enumerable:!0,configurable:!0}),t.prototype.Yo=function(t){return Rr.Id(t,this.serializer,this.ur,this.Jo)},t.prototype.eh=function(){return this.th},t.prototype.Zo=function(){return this.hr},t.prototype.nh=function(){return this.ur},t.prototype.runTransaction=function(t,e,n){var r,i=this;return be("IndexedDbPersistence","Starting transaction:",t),this.wf.runTransaction("readonly"===e?"readonly":"readwrite",pi,(function(s){return r=new _i(s,i.Vf.next()),"readwrite-primary"===e?i.yf(s).next((function(t){return!!t||i.bf(s)})).next((function(e){if(!e)throw we("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.$a.qr((function(){return i.lf(!1)})),new f(d.FAILED_PRECONDITION,Ve);return n(r)})).next((function(t){return i.Sf(s).next((function(){return t}))})):i.Uf(s).next((function(){return n(r)}))})).then((function(t){return r.or(),t}))},t.prototype.Uf=function(t){var e=this;return wi(t).get(ti.key).next((function(t){if(null!==t&&e.Nf(t.leaseTimestampMs,5e3)&&!e.Mf(t.ownerId)&&!e.Df(t)&&!t.allowTabSynchronization)throw new f(d.FAILED_PRECONDITION,vi)}))},t.prototype.Sf=function(t){var e=new ti(this.clientId,this.allowTabSynchronization,Date.now());return wi(t).put(ti.key,e)},t.Uc=function(){return Ir.Uc()},t.qf=function(t){var e=t.cn.projectId;return t.cn.Ei||(e+="."+t.cn.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.vf=function(t){var e=this,n=wi(t);return n.get(ti.key).next((function(t){return e.Df(t)?(be("IndexedDbPersistence","Releasing primary lease."),n.delete(ti.key)):Me.resolve()}))},t.prototype.Nf=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(we("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Rf=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.uf=function(){t.$a.qr((function(){return t.inForeground="visible"===t.document.visibilityState,t.If()}))},this.document.addEventListener("visibilitychange",this.uf),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Of=function(){this.uf&&(this.document.removeEventListener("visibilitychange",this.uf),this.uf=null)},t.prototype.Af=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.af=function(){t.Lf(),t.$a.qr((function(){return t.lc()}))},this.window.addEventListener("unload",this.af))},t.prototype.xf=function(){this.af&&(this.window.removeEventListener("unload",this.af),this.af=null)},t.prototype.Mf=function(t){try{var e=null!==this.Tf.getItem(this.$f(t));return be("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return we("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Lf=function(){try{this.Tf.setItem(this.$f(this.clientId),String(Date.now()))}catch(t){we("Failed to set zombie client id.",t)}},t.prototype.Bf=function(){try{this.Tf.removeItem(this.$f(this.clientId))}catch(t){}},t.prototype.$f=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function wi(t){return t.store(ti.store)}function Ei(t){return t.store(fi.store)}bi.ff="main";var Ti=function(){function t(t,e){this.db=t,this.Qf=null,this.bo=new Ze(this,e)}return t.prototype.Mo=function(t){var e=this.Wf(t);return this.db.eh().Ld(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Wf=function(t){var e=0;return this.Oo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Xs=function(t,e){return this.db.eh().Xs(t,e)},t.prototype.Oo=function(t,e){return this.jf(t,(function(t,n){return e(n)}))},t.prototype.Ho=function(t){this.Qf=t},t.prototype.vi=function(t,e){return Ci(t,e)},t.prototype.Di=function(t,e){return Ci(t,e)},t.prototype.xo=function(t,e,n){return this.db.eh().xo(t,e,n)},t.prototype.bd=function(t,e){return Ci(t,e)},t.prototype.Kf=function(t,e){return this.Qf.Mi(e)?Me.resolve(!0):function(t,e){var n=!1;return Vr(t).Ed((function(r){return Pr(t,r,e).next((function(t){return t&&(n=!0),Me.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Bo=function(t,e){var n=this,r=this.db.Zo().Eh(),i=[],s=0;return this.jf(t,(function(o,a){if(a<=e){var l=n.Kf(t,o).next((function(e){if(!e)return s++,r.tr(t,o).next((function(){return r.Zi(o),zr(t).delete([0,Er(o.path)])}))}));i.push(l)}})).next((function(){return Me.Ki(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.es(t.Ch);return this.db.eh().Nh(t,n)},t.prototype.Fh=function(t,e){return Ci(t,e)},t.prototype.jf=function(t,e){var n,r=zr(t),i=Be.kr;return r.md({index:ui.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Be.kr&&e(new S(Sr(n)),i),i=o,n=s):i=Be.kr})).next((function(){i!==Be.kr&&e(new S(Sr(n)),i)}))},t.prototype.qo=function(t){return this.db.Zo().Jd(t)},t}();function Ci(t,e){return zr(t).put(function(t,e){return new ui(0,Er(t.path),e)}(e,t.Ch))}var Si=function(){function t(t,e){this.ur=t,this.Jo=e,this.ar=[],this.Gf=1,this.lastStreamToken=P.xt,this.zf=new k(Fe.Ee)}return t.prototype.Rd=function(t){return Me.resolve(0===this.ar.length)},t.prototype.mh=function(t,e,n){return Ce(0===this.Hf(e.batchId,"acknowledged"),"Can only acknowledge the first batch in the mutation queue"),this.lastStreamToken=n,Me.resolve()},t.prototype.ph=function(t){return Me.resolve(this.lastStreamToken)},t.prototype.yh=function(t,e){return this.lastStreamToken=e,Me.resolve()},t.prototype.dh=function(t,e,n,r){var i=this.Gf;this.Gf++;var s=new Oe(i,e,n,r);this.ar.push(s);for(var o=0,a=r;o<a.length;o++){var l=a[o];this.zf=this.zf.add(new Fe(l.key,i)),this.ur.Vd(t,l.key.path.L())}return Me.resolve(s)},t.prototype.Ph=function(t,e){return Me.resolve(this.Jf(e))},t.prototype.Th=function(t,e){var n=this.Jf(e);return Me.resolve(n.keys())},t.prototype.xh=function(t,e){var n=this.Yf(e+1),r=n<0?0:n;return Me.resolve(this.ar.length>r?this.ar[r]:null)},t.prototype.gh=function(){return Me.resolve(0===this.ar.length?-1:this.Gf-1)},t.prototype.hh=function(t){return Me.resolve(this.ar.slice())},t.prototype._r=function(t,e){var n=this,r=new Fe(e,0),i=new Fe(e,Number.POSITIVE_INFINITY),s=[];return this.zf.Ct([r,i],(function(t){var e=n.Jf(t.Li);s.push(e)})),Me.resolve(s)},t.prototype.Er=function(t,e){var n=this,r=new k(Ie);return e.forEach((function(t){var e=new Fe(t,0),i=new Fe(t,Number.POSITIVE_INFINITY);n.zf.Ct([e,i],(function(t){r=r.add(t.Li)}))})),Me.resolve(this.Xf(r))},t.prototype.Vr=function(t,e){var n=e.path,r=n.length+1,i=n;S.st(i)||(i=i.child(""));var s=new Fe(new S(i),0),o=new k(Ie);return this.zf.kt((function(t){var e=t.key.path;return!!n.q(e)&&(e.length===r&&(o=o.add(t.Li)),!0)}),s),Me.resolve(this.Xf(o))},t.prototype.Xf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Jf(t);null!==r&&n.push(r)})),n},t.prototype.Vh=function(t,e){var n=this;Ce(0===this.Hf(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.ar.shift();var r=this.zf;return Me.forEach(e.mutations,(function(i){var s=new Fe(i.key,e.batchId);return r=r.delete(s),n.Jo.bd(t,i.key)})).next((function(){n.zf=r}))},t.prototype.Xh=function(t){},t.prototype.Mi=function(t,e){var n=new Fe(e,0),r=this.zf.Nt(n);return Me.resolve(e.isEqual(r&&r.key))},t.prototype.Rh=function(t){return Me.resolve()},t.prototype.Hf=function(t,e){return this.Yf(t)},t.prototype.Yf=function(t){return 0===this.ar.length?0:t-this.ar[0].batchId},t.prototype.Jf=function(t){var e=this.Yf(t);return e<0||e>=this.ar.length?null:this.ar[e]},t}(),Ii=function(){function t(t,e){this.ur=t,this.Zf=e,this.docs=new I(S.F),this.size=0}return t.prototype.Yi=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zf(e);return this.docs=this.docs.it(r,{Ud:e,size:o,readTime:n}),this.size+=o-s,this.ur.Vd(t,r.path.L())},t.prototype.Zi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.tr=function(t,e){var n=this.docs.get(e);return Me.resolve(n?n.Ud:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ht();return e.forEach((function(t){var e=n.docs.get(t);r=r.it(t,e?e.Ud:null)})),Me.resolve(r)},t.prototype.wr=function(t,e,n){for(var r=$t(),i=new S(e.path.child("")),s=this.docs.lt(i);s.It();){var o=s.wt(),a=o.value,l=a.Ud,u=a.readTime;if(!e.path.q(o.key.path))break;u.D(n)<=0||l instanceof bt&&e.matches(l)&&(r=r.it(l.key,l))}return Me.resolve(r)},t.prototype.tT=function(t,e){return Me.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ea=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.na=function(t){return Me.resolve(b.MIN)},t.prototype.Eh=function(e){return new t.Hd(this)},t.prototype.Jd=function(t){return Me.resolve(this.size)},t}();Ii.Hd=function(t){function e(e){var n=this;return(n=t.call(this)||this).Yd=e,n}return i.__extends(e,t),e.prototype.nr=function(t){var e=this,n=[];return this.zi.forEach((function(r,i){i?n.push(e.Yd.Yi(t,i,e.readTime)):e.Yd.Zi(r)})),Me.Ki(n)},e.prototype.er=function(t,e){return this.Yd.tr(t,e)},e.prototype.sr=function(t,e){return this.Yd.getEntries(t,e)},e}(Le);var xi=function(){function t(t){this.persistence=t,this.eT=new De((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=b.MIN,this.highestTargetId=0,this.sT=0,this.nT=new Pe,this.targetCount=0,this.iT=cr.p_()}return t.prototype.Xs=function(t,e){return this.eT.forEach((function(t,n){return e(n)})),Me.resolve()},t.prototype.bh=function(t){return Me.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Dd=function(t){return Me.resolve(this.sT)},t.prototype.Qh=function(t){return this.highestTargetId=this.iT.next(),Me.resolve(this.highestTargetId)},t.prototype.$h=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.sT&&(this.sT=e),Me.resolve()},t.prototype.Cd=function(t){this.eT.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.iT=new cr(e),this.highestTargetId=e),t.sequenceNumber>this.sT&&(this.sT=t.sequenceNumber)},t.prototype.Wh=function(t,e){return this.Cd(e),this.targetCount+=1,Me.resolve()},t.prototype.Nh=function(t,e){return this.Cd(e),Me.resolve()},t.prototype.Nd=function(t,e){return this.eT.delete(e.target),this.nT.Ni(e.targetId),this.targetCount-=1,Me.resolve()},t.prototype.xo=function(t,e,n){var r=this,i=0,s=[];return this.eT.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.eT.delete(o),s.push(r.Fd(t,a.targetId)),i++)})),Me.Ki(s).next((function(){return i}))},t.prototype.Ld=function(t){return Me.resolve(this.targetCount)},t.prototype.qh=function(t,e){var n=this.eT.get(e)||null;return Me.resolve(n)},t.prototype.un=function(t,e){return Te("Not yet implemented.")},t.prototype.Dh=function(t,e,n){this.nT.Si(e,n);var r=this.persistence.Jo,i=[];return r&&e.forEach((function(e){i.push(r.vi(t,e))})),Me.Ki(i)},t.prototype.Sh=function(t,e,n){this.nT.ki(e,n);var r=this.persistence.Jo,i=[];return r&&e.forEach((function(e){i.push(r.Di(t,e))})),Me.Ki(i)},t.prototype.Fd=function(t,e){return this.nT.Ni(e),Me.resolve()},t.prototype.Gh=function(t,e){var n=this.nT.$i(e);return Me.resolve(n)},t.prototype.Mi=function(t,e){return Me.resolve(this.nT.Mi(e))},t}(),Ni=function(){function t(t,e){var n=this;this.clientId=t,this.rT={},this.Vf=new Be(0),this.hf=!1,this.hf=!0,this.Jo=e(this),this.th=new xi(this),this.ur=new Qr,this.hr=new Ii(this.ur,(function(t){return n.Jo.oT(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.lc=function(){return this.hf=!1,Promise.resolve()},Object.defineProperty(t.prototype,"ko",{get:function(){return this.hf},enumerable:!0,configurable:!0}),t.prototype.Jh=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.gf=function(t){return t(!0)},t.prototype.pf=function(){},t.prototype.Zh=function(t){},t.prototype.nh=function(){return this.ur},t.prototype.Yo=function(t){var e=this.rT[t.s()];return e||(e=new Si(this.ur,this.Jo),this.rT[t.s()]=e),e},t.prototype.eh=function(){return this.th},t.prototype.Zo=function(){return this.hr},t.prototype.runTransaction=function(t,e,n){var r=this;be("MemoryPersistence","Starting transaction:",t);var i=new ki(this.Vf.next());return this.Jo.hT(),n(i).next((function(t){return r.Jo.aT(i).next((function(){return t}))})).Wi().then((function(t){return i.or(),t}))},t.prototype.uT=function(t,e){return Me.Gi(Object.values(this.rT).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),ki=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ch=e,n}return i.__extends(e,t),e}(Ue),Ai=function(){function t(t){this.persistence=t,this.Qf=null,this.cT=null}return t._T=function(e){return new t(e)},Object.defineProperty(t.prototype,"lT",{get:function(){if(this.cT)return this.cT;throw Te("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.Ho=function(t){this.Qf=t},t.prototype.vi=function(t,e){return this.lT.delete(e),Me.resolve()},t.prototype.Di=function(t,e){return this.lT.add(e),Me.resolve()},t.prototype.bd=function(t,e){return this.lT.add(e),Me.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.eh();return r.Gh(t,e.targetId).next((function(t){t.forEach((function(t){return n.lT.add(t)}))})).next((function(){return r.Nd(t,e)}))},t.prototype.hT=function(){this.cT=new Set},t.prototype.aT=function(t){var e=this,n=this.persistence.Zo().Eh();return Me.forEach(this.lT,(function(r){return e.dT(t,r).next((function(t){t||n.Zi(r)}))})).next((function(){return e.cT=null,n.apply(t)}))},t.prototype.Fh=function(t,e){var n=this;return this.dT(t,e).next((function(t){t?n.lT.delete(e):n.lT.add(e)}))},t.prototype.oT=function(t){return 0},t.prototype.dT=function(t,e){var n=this;return Me.Gi([function(){return n.persistence.eh().Mi(t,e)},function(){return n.persistence.uT(t,e)},function(){return Me.resolve(n.Qf.Mi(e))}])},t}(),Di=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.X_=this.fT(t),this.persistence=this.TT(t),[4,this.persistence.start()];case 1:return n.sent(),this.mT=this.ET(t),this.Wu=this.wT(t),this.W_=this.IT(t),this.mc=this.RT(t),this.AT=this.PT(t),this.X_.$u=function(t){return e.mc.B_(t,1)},this.W_.mc=this.mc,this.X_.mc=this.mc,[4,this.X_.start()];case 2:return n.sent(),[4,this.W_.start()];case 3:return n.sent(),[4,this.Wu.start()];case 4:return n.sent(),[4,this.persistence.gf((function(t){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.mc.Cc(t)];case 1:return e.sent(),this.mT&&(t&&!this.mT.ko?this.mT.start(this.Wu):t||this.mT.stop()),[2]}}))}))}))];case 5:return n.sent(),[2]}}))}))},t.prototype.PT=function(t){return new _r(this.mc)},t.prototype.ET=function(t){return null},t.prototype.wT=function(t){return new Je(this.persistence,new wr,t.VT)},t.prototype.TT=function(t){return new Ni(t.clientId,Ai._T)},t.prototype.IT=function(t){var e=this;return new Xn(this.Wu,t.bu,t.Nr,(function(t){return e.mc.B_(t,0)}),t.platform.gT())},t.prototype.fT=function(t){return new ur},t.prototype.RT=function(t){return new yr(this.Wu,this.W_,this.X_,t.VT,t.Z_)},t.prototype.clearPersistence=function(t){throw new f(d.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},t}(),Oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.ET=function(t){return new Ye(this.persistence.Jo.bo,t.Nr)},e.prototype.TT=function(t){var e=bi.qf(t.pT),n=t.platform.yT(t.pT.cn);return bi.mf({allowTabSynchronization:t.bT.synchronizeTabs,persistenceKey:e,clientId:t.clientId,platform:t.platform,$a:t.Nr,serializer:n,Ef:Qe.Io(t.bT.cacheSizeBytes),rf:this.X_})},e.prototype.fT=function(t){if(t.bT.synchronizeTabs){if(!lr.Uc(t.platform))throw new f(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=bi.qf(t.pT);return new lr(t.Nr,t.platform,e,t.clientId,t.VT)}return new ur},e.prototype.clearPersistence=function(t){var e=bi.qf(t);return bi.clearPersistence(e)},e}(Di),Ri=function(){function t(t,e,n,r){this.platform=t,this.pT=e,this.credentials=n,this.Nr=r,this.clientId=Se.mi()}return t.prototype.start=function(t,e){var n=this;this.vT();var r=new ze,i=new ze,s=!1;return this.credentials.l((function(o){if(!s)return s=!0,be("FirestoreClient","Initializing. user=",o.uid),n.ST(t,e,o,i).then(r.resolve,r.reject);n.Nr.qr((function(){return n.Dc(o)}))})),this.Nr.qr((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.vT(),this.Nr.enqueue((function(){return t.mc.enableNetwork()}))},t.prototype.ST=function(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var s,o,a,l,u=this;return i.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,this.platform.DT(this.pT)];case 1:return s=c.sent(),o=this.platform.yT(this.pT.cn),a=new Yn(this.Nr,s,this.credentials,o),[4,t.initialize({Nr:this.Nr,pT:this.pT,platform:this.platform,bu:a,clientId:this.clientId,VT:n,Z_:100,bT:e})];case 2:return c.sent(),this.persistence=t.persistence,this.X_=t.X_,this.Wu=t.Wu,this.W_=t.W_,this.mc=t.mc,this.mT=t.mT,this.CT=t.AT,this.persistence.pf((function(){return i.__awaiter(u,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(l=c.sent(),r.reject(l),!this.kT(l))throw l;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),this.ST(new Di,{NT:!1},n,r))];case 4:return[2]}}))}))},t.prototype.kT=function(t){return"FirebaseError"===t.name?t.code===d.FAILED_PRECONDITION||t.code===d.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.vT=function(){if(this.Nr.Hr)throw new f(d.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Dc=function(t){return this.Nr.no(),be("FirestoreClient","Credential Changed. Current user: "+t.uid),this.mc.Dc(t)},t.prototype.disableNetwork=function(){var t=this;return this.vT(),this.Nr.enqueue((function(){return t.mc.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Nr.to((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.mT&&this.mT.stop(),[4,this.W_.lc()];case 1:return t.sent(),[4,this.X_.lc()];case 2:return t.sent(),[4,this.persistence.lc()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.vT();var e=new ze;return this.Nr.qr((function(){return t.mc.Pl(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.vT();var i=new br(t,e,n);return this.Nr.qr((function(){return r.CT.listen(i)})),i},t.prototype.fc=function(t){var e=this;this.FT||this.Nr.qr((function(){return e.CT.fc(t)}))},t.prototype.$T=function(t){var e=this;return this.vT(),this.Nr.enqueue((function(){return e.Wu.Bh(t)})).then((function(t){if(t instanceof bt)return t;if(t instanceof wt)return null;throw new f(d.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.MT=function(t){var e=this;return this.vT(),this.Nr.enqueue((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Wu.Kh(t,!0)];case 1:return e=i.sent(),n=new fr(t,e.zh),r=n.k_(e.documents),[2,n.nr(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.vT();var n=new ze;return this.Nr.qr((function(){return e.mc.write(t,n)})),n.promise},t.prototype.cn=function(){return this.pT.cn},t.prototype.Ol=function(t){var e=this;this.vT(),this.Nr.qr((function(){return e.CT.Ol(t),Promise.resolve()}))},t.prototype.xl=function(t){this.FT||this.CT.xl(t)},Object.defineProperty(t.prototype,"FT",{get:function(){return this.Nr.Hr},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.vT();var n=new ze;return this.Nr.qr((function(){return e.mc.runTransaction(e.Nr,t,n),Promise.resolve()})),n.promise},t}(),Pi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.LT(this.observer.next,t)},t.prototype.error=function(t){this.LT(this.observer.error,t)},t.prototype.OT=function(){this.muted=!0},t.prototype.LT=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Fi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Mi=function(){function t(t,e,n,r){this.firestore=t,this.timestampsInSnapshots=e,this.xT=n,this.converter=r}return t.prototype.BT=function(t){switch(q(t)){case 0:return null;case 1:return t.booleanValue;case 2:return K(t.integerValue||t.doubleValue);case 3:return this.UT(t.timestampValue);case 4:return this.qT(t);case 5:return t.stringValue;case 6:return new En(Q(t.bytesValue));case 7:return this.QT(t.referenceValue);case 8:return new Rn(t.geoPointValue.latitude,t.geoPointValue.longitude);case 9:return this.WT(t.arrayValue);case 10:return this.jT(t.mapValue);default:throw Te("Invalid value type: "+JSON.stringify(t))}},t.prototype.jT=function(t){var e=this,n={};return O(t.fields||{},(function(t,r){n[t]=e.BT(r)})),n},t.prototype.WT=function(t){var e=this;return(t.values||[]).map((function(t){return e.BT(t)}))},t.prototype.qT=function(t){switch(this.xT){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return V(n)?t(n):n}(t);return null==e?null:this.BT(e);case"estimate":return this.UT(U(t));default:return null}},t.prototype.UT=function(t){var e=$(t),n=new _(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.QT=function(t){var e=E.G(t);Ce(me(e),"ReferenceValue is not valid "+t);var n=new Ae(e.get(1),e.get(3)),r=new S(e.M(5));return n.isEqual(this.firestore.KT)||we("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.KT.projectId+"/"+this.firestore.KT.database+") instead."),new Bi(r,this.firestore,this.converter)},t}(),Li=Qe.Po,Vi=function(){function t(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new f(d.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else an("settings","non-empty string","host",t.host),this.host=t.host,ln("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(pn("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),ln("settings","object","credentials",t.credentials),this.credentials=t.credentials,ln("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?we("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&we("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,ln("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Qe.po;else{if(t.cacheSizeBytes!==Li&&t.cacheSizeBytes<Qe.Vo)throw new f(d.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Qe.Vo);this.cacheSizeBytes=t.cacheSizeBytes}ln("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Ui=function(){function t(e,n,r){var s=this;if(void 0===r&&(r=new Di),this.GT=null,this.zT=new He,this.INTERNAL={delete:function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.HT(),[4,this.JT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var o=e;this.GT=o,this.KT=t.YT(o),this.XT=o.name,this.ZT=new g(n)}else{var a=e;if(!a.projectId)throw new f(d.INVALID_ARGUMENT,"Must provide projectId");this.KT=new Ae(a.projectId,a.database),this.XT="[DEFAULT]",this.ZT=new m}this.tm=r,this.em=new Vi({}),this.sm=this.nm(this.KT)}return t.prototype.settings=function(t){en("Firestore.settings",arguments,1),sn("Firestore.settings","object",1,t);var e=new Vi(t);if(this.JT&&!this.em.isEqual(e))throw new f(d.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.em=e,void 0!==e.credentials&&(this.ZT=function(t){if(!t)return new m;switch(t.type){case"gapi":var e=t.im;return Ce(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new v(e,t.V||"0");case"provider":return t.im;default:throw new f(d.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.HT(),this.JT.enableNetwork()},t.prototype.disableNetwork=function(){return this.HT(),this.JT.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.JT)throw new f(d.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1;return t&&(void 0!==t.experimentalTabSynchronization&&we("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.rm(this.tm,{NT:!0,cacheSizeBytes:this.em.cacheSizeBytes,synchronizeTabs:r})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.JT&&!this.JT.FT)throw new f(d.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new ze,[2,(this.zT.Jr((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.om(),[4,this.tm.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"hm",{get:function(){return this.HT(),this.JT.FT},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.HT(),this.JT.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.HT(),Fi(t)?this.am(t):(sn("Firestore.onSnapshotsInSync","function",1,t),this.am({next:t}))},t.prototype.am=function(t){var e=this,n=new Pi({next:function(){t.next&&t.next()},error:function(t){throw Te("Uncaught Error in onSnapshotsInSync")}});return this.JT.Ol(n),function(){n.OT(),e.JT.xl(n)}},t.prototype.HT=function(){return this.JT||this.rm(new Di,{NT:!1}),this.JT},t.prototype.om=function(){return new ke(this.KT,this.XT,this.em.host,this.em.ssl,this.em.forceLongPolling)},t.prototype.rm=function(t,e){var n=this.om();return this.JT=new Ri(ge.Lt(),n,this.ZT,this.zT),this.JT.start(t,e)},t.prototype.nm=function(t){var e=new pe(t,{dn:ge.Lt().dn});return new jn(e,(function(e){if(e instanceof Bi){var n=t,r=e.firestore.KT;if(!r.isEqual(n))throw new f(d.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Un(t,e.um)}return e}))},t.YT=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new f(d.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new f(d.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ae(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.GT)throw new f(d.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.GT},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return en("Firestore.collection",arguments,1),sn("Firestore.collection","non-empty string",1,t),this.HT(),new Ki(E.G(t),this)},t.prototype.doc=function(t){return en("Firestore.doc",arguments,1),sn("Firestore.doc","non-empty string",1,t),this.HT(),Bi.cm(E.G(t),this)},t.prototype.collectionGroup=function(t){if(en("Firestore.collectionGroup",arguments,1),sn("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new f(d.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.HT(),new Wi(new Ct(E.H,t),this)},t.prototype.runTransaction=function(t){var e=this;return en("Firestore.runTransaction",arguments,1),sn("Firestore.runTransaction","function",1,t),this.HT().transaction((function(n){return t(new ji(e,n))}))},t.prototype.batch=function(){return this.HT(),new qi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(ve()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(en("Firestore.setLogLevel",arguments,1),sn("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":_e(o.LogLevel.DEBUG);break;case"error":_e(o.LogLevel.ERROR);break;case"silent":_e(o.LogLevel.SILENT);break;default:throw new f(d.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._m=function(){return this.em.timestampsInSnapshots},t}(),ji=function(){function t(t,e){this.lm=t,this.dm=e}return t.prototype.get=function(t){var e=this;en("Transaction.get",arguments,1);var n=Ji("Transaction.get",t,this.lm);return this.dm.pu([n.um]).then((function(t){if(!t||1!==t.length)return Te("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof wt)return new Gi(e.lm,n.um,null,!1,!1,n.fm);if(r instanceof bt)return new Gi(e.lm,n.um,r,!1,!1,n.fm);throw Te("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){rn("Transaction.set",arguments,2,3);var r=Ji("Transaction.set",t,this.lm);n=Qi("Transaction.set",n);var i=ts(r.fm,e,"Transaction.set"),s=i[0],o=i[1],a=n.merge||n.mergeFields?this.lm.sm.pa(o,s,n.mergeFields):this.lm.sm.Va(o,s);return this.dm.set(r.um,a),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof Cn?(nn("Transaction.update",arguments,3),r=Ji("Transaction.update",t,this.lm),i=this.lm.sm.Sa("Transaction.update",e,n,s)):(en("Transaction.update",arguments,2),r=Ji("Transaction.update",t,this.lm),i=this.lm.sm.ya("Transaction.update",e)),this.dm.update(r.um,i),this},t.prototype.delete=function(t){en("Transaction.delete",arguments,1);var e=Ji("Transaction.delete",t,this.lm);return this.dm.delete(e.um),this},t}(),qi=function(){function t(t){this.lm=t,this.Tm=[],this.mm=!1}return t.prototype.set=function(t,e,n){rn("WriteBatch.set",arguments,2,3),this.Em();var r=Ji("WriteBatch.set",t,this.lm);n=Qi("WriteBatch.set",n);var i=ts(r.fm,e,"WriteBatch.set"),s=i[0],o=i[1],a=n.merge||n.mergeFields?this.lm.sm.pa(o,s,n.mergeFields):this.lm.sm.Va(o,s);return this.Tm=this.Tm.concat(a.da(r.um,ct.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.Em(),"string"==typeof e||e instanceof Cn?(nn("WriteBatch.update",arguments,3),r=Ji("WriteBatch.update",t,this.lm),i=this.lm.sm.Sa("WriteBatch.update",e,n,s)):(en("WriteBatch.update",arguments,2),r=Ji("WriteBatch.update",t,this.lm),i=this.lm.sm.ya("WriteBatch.update",e)),this.Tm=this.Tm.concat(i.da(r.um,ct.exists(!0))),this},t.prototype.delete=function(t){en("WriteBatch.delete",arguments,1),this.Em();var e=Ji("WriteBatch.delete",t,this.lm);return this.Tm=this.Tm.concat(new mt(e.um,ct.NONE)),this},t.prototype.commit=function(){return this.Em(),this.mm=!0,this.Tm.length>0?this.lm.HT().write(this.Tm):Promise.resolve()},t.prototype.Em=function(){if(this.mm)throw new f(d.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Bi=function(){function t(t,e,n){this.um=t,this.firestore=e,this.fm=n,this.JT=this.firestore.HT()}return t.cm=function(e,n,r){if(e.length%2!=0)throw new f(d.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.K()+" has "+e.length);return new t(new S(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.um.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ki(this.um.path.L(),this.firestore,this.fm)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.um.path.K()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(en("DocumentReference.collection",arguments,1),sn("DocumentReference.collection","non-empty string",1,t),!t)throw new f(d.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=E.G(t);return new Ki(this.um.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw mn("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.um.isEqual(e.um)&&this.fm===e.fm},t.prototype.set=function(t,e){rn("DocumentReference.set",arguments,1,2),e=Qi("DocumentReference.set",e);var n=ts(this.fm,t,"DocumentReference.set"),r=n[0],i=n[1],s=e.merge||e.mergeFields?this.firestore.sm.pa(i,r,e.mergeFields):this.firestore.sm.Va(i,r);return this.JT.write(s.da(this.um,ct.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Cn?(nn("DocumentReference.update",arguments,2),n=this.firestore.sm.Sa("DocumentReference.update",t,e,r)):(en("DocumentReference.update",arguments,1),n=this.firestore.sm.ya("DocumentReference.update",t)),this.JT.write(n.da(this.um,ct.exists(!0)))},t.prototype.delete=function(){return en("DocumentReference.delete",arguments,0),this.JT.write([new mt(this.um,ct.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];rn("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Fi(t[i])||(pn("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),ln("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var s={includeMetadataChanges:r.includeMetadataChanges};return Fi(t[i])?n=t[i]:(sn("DocumentReference.onSnapshot","function",i,t[i]),on("DocumentReference.onSnapshot","function",i+1,t[i+1]),on("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.wm(s,n)},t.prototype.wm=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Pi({next:function(t){if(e.next){var r=t.docs.get(n.um);e.next(new Gi(n.firestore,n.um,r,t.fromCache,t.hasPendingWrites,n.fm))}},error:r}),s=this.JT.listen(Ct.ve(this.um.path),i,t);return function(){i.OT(),n.JT.fc(s)}},t.prototype.get=function(t){var e=this;return rn("DocumentReference.get",arguments,0,1),Zi("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.HT().$T(e.um).then((function(t){n(new Gi(e.firestore,e.um,t,!0,t instanceof bt&&t.te,e.fm))}),r):e.Im(n,r,t)}))},t.prototype.Im=function(t,e,n){var r=this.wm({includeMetadataChanges:!0,Kl:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new f(d.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new f(d.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.um,this.firestore,e)},t}(),zi=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Gi=function(){function t(t,e,n,r,i,s){this.lm=t,this.um=e,this.Rm=n,this.Am=r,this.Pm=i,this.fm=s}return t.prototype.data=function(t){if(rn("DocumentSnapshot.data",arguments,0,1),t=Yi("DocumentSnapshot.data",t),this.Rm){if(this.fm){var e=new Hi(this.lm,this.um,this.Rm,this.Am,this.Pm);return this.fm.fromFirestore(e,t)}return new Mi(this.lm,this.lm._m(),t.serverTimestamps,void 0).BT(this.Rm.Ie())}},t.prototype.get=function(t,e){if(rn("DocumentSnapshot.get",arguments,1,2),e=Yi("DocumentSnapshot.get",e),this.Rm){var n=this.Rm.data().field(zn("DocumentSnapshot.get",t));if(null!==n)return new Mi(this.lm,this.lm._m(),e.serverTimestamps,this.fm).BT(n)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.um.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Bi(this.um,this.lm,this.fm)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Rm},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new zi(this.Pm,this.Am)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw mn("isEqual","DocumentSnapshot",1,e);return this.lm===e.lm&&this.Am===e.Am&&this.um.isEqual(e.um)&&(null===this.Rm?null===e.Rm:this.Rm.isEqual(e.Rm))&&this.fm===e.fm},t}(),Hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Gi),Wi=function(){function t(t,e,n){this.Vm=t,this.firestore=e,this.fm=n}return t.prototype.where=function(e,n,r){var i;en("Query.where",arguments,3),fn("Query.where",3,r),function(t,e,n,r){if(!e.some((function(t){return t===r})))throw new f(d.INVALID_ARGUMENT,"Invalid value "+dn(r)+" provided to function Query.where() for its "+yn(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,n);var s=zn("Query.where",e),o=St.G(n);if(s.Y()){if(o===St.ARRAY_CONTAINS||o===St.ARRAY_CONTAINS_ANY)throw new f(d.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if(o===St.IN){this.gm(r,o);for(var a=[],l=0,u=r;l<u.length;l++){var c=u[l];a.push(this.pm(c))}i={arrayValue:{values:a}}}else i=this.pm(r)}else o!==St.IN&&o!==St.ARRAY_CONTAINS_ANY||this.gm(r,o),i=this.firestore.sm.Da("Query.where",r,o===St.IN);var h=It.create(s,o,i);return this.ym(h),new t(this.Vm.Ce(h),this.firestore,this.fm)},t.prototype.orderBy=function(e,n){var r;if(rn("Query.orderBy",arguments,1,2),on("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Ot.ASCENDING;else{if("desc"!==n)throw new f(d.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Ot.DESCENDING}if(null!==this.Vm.startAt)throw new f(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.Vm.endAt)throw new f(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=zn("Query.orderBy",e),s=new Mt(i,r);return this.bm(s),new t(this.Vm.ke(s),this.firestore,this.fm)},t.prototype.limit=function(e){return en("Query.limit",arguments,1),sn("Query.limit","number",1,e),gn("Query.limit",1,e),new t(this.Vm.Ne(e),this.firestore,this.fm)},t.prototype.limitToLast=function(e){return en("Query.limitToLast",arguments,1),sn("Query.limitToLast","number",1,e),gn("Query.limitToLast",1,e),new t(this.Vm.Fe(e),this.firestore,this.fm)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];nn("Query.startAt",arguments,1);var i=this.vm("Query.startAt",e,n,!0);return new t(this.Vm.$e(i),this.firestore,this.fm)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];nn("Query.startAfter",arguments,1);var i=this.vm("Query.startAfter",e,n,!1);return new t(this.Vm.$e(i),this.firestore,this.fm)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];nn("Query.endBefore",arguments,1);var i=this.vm("Query.endBefore",e,n,!0);return new t(this.Vm.Me(i),this.firestore,this.fm)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];nn("Query.endAt",arguments,1);var i=this.vm("Query.endAt",e,n,!1);return new t(this.Vm.Me(i),this.firestore,this.fm)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw mn("isEqual","Query",1,e);return this.firestore===e.firestore&&this.Vm.isEqual(e.Vm)},t.prototype.withConverter=function(e){return new t(this.Vm,this.firestore,e)},t.prototype.vm=function(t,e,n,r){if(fn(t,1,e),e instanceof Gi){if(n.length>0)throw new f(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new f(d.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.Sm(i.Rm,r)}var s=[e].concat(n);return this.Dm(t,s,r)},t.prototype.Sm=function(t,e){for(var n=[],r=0,i=this.Vm.orderBy;r<i.length;r++){var s=i[r];if(s.field.Y())n.push(Y(this.firestore.KT,t.key));else{var o=t.field(s.field);if(V(o))throw new f(d.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===o){var a=s.field.K();throw new f(d.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(o)}}return new Ft(n,e)},t.prototype.Dm=function(t,e,n){var r=this.Vm.Ve;if(e.length>r.length)throw new f(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],s=0;s<e.length;s++){var o=e[s];if(r[s].field.Y()){if("string"!=typeof o)throw new f(d.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof o);if(!this.Vm.He()&&-1!==o.indexOf("/"))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+o+"' contains a slash.");var a=this.Vm.path.child(E.G(o));if(!S.st(a))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var l=new S(a);i.push(Y(this.firestore.KT,l))}else{var u=this.firestore.sm.Da(t,o);i.push(u)}}return new Ft(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];rn("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Fi(t[i])||(pn("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),ln("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Fi(t[i])?n=t[i]:(sn("Query.onSnapshot","function",i,t[i]),on("Query.onSnapshot","function",i+1,t[i+1]),on("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Cm(this.Vm),this.wm(r,n)},t.prototype.wm=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Pi({next:function(t){e.next&&e.next(new $i(n.firestore,n.Vm,t,n.fm))},error:r}),s=this.firestore.HT(),o=s.listen(this.Vm,i,t);return function(){i.OT(),s.fc(o)}},t.prototype.Cm=function(t){if(t.Ke()&&0===t.Ve.length)throw new f(d.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return rn("Query.get",arguments,0,1),Zi("Query.get",t),this.Cm(this.Vm),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.HT().MT(e.Vm).then((function(t){n(new $i(e.firestore,e.Vm,t,e.fm))}),r):e.Im(n,r,t)}))},t.prototype.Im=function(t,e,n){var r=this.wm({includeMetadataChanges:!0,Kl:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new f(d.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.pm=function(t){if("string"==typeof t){if(""===t)throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.Vm.He()&&-1!==t.indexOf("/"))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.Vm.path.child(E.G(t));if(!S.st(e))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Y(this.firestore.KT,new S(e))}if(t instanceof Bi)return Y(this.firestore.KT,t.um);throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+dn(t)+".")},t.prototype.gm=function(t,e){if(!Array.isArray(t)||0===t.length)throw new f(d.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.ym=function(t){if(t instanceof It){var e=[St.ARRAY_CONTAINS,St.ARRAY_CONTAINS_ANY],n=[St.IN,St.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.Ge()){var s=this.Vm.Se();if(null!==s&&!s.isEqual(t.field))throw new f(d.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+s.toString()+"' and '"+t.field.toString()+"'");var o=this.Vm.De();null!==o&&this.km(t.field,o)}else if(i||r){var a=null;if(i&&(a=this.Vm.ze(n)),null===a&&r&&(a=this.Vm.ze(e)),null!=a)throw new f(d.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.bm=function(t){if(null===this.Vm.De()){var e=this.Vm.Se();null!==e&&this.km(e,t.field)}},t.prototype.km=function(t,e){if(!e.isEqual(t))throw new f(d.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),$i=function(){function t(t,e,n,r){this.lm=t,this.Nm=e,this.Fm=n,this.fm=r,this.$m=null,this.Mm=null,this.metadata=new zi(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Fm.docs.U()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Fm.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;rn("QuerySnapshot.forEach",arguments,1,2),sn("QuerySnapshot.forEach","function",1,t),this.Fm.docs.forEach((function(r){t.call(e,n.Lm(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Wi(this.Nm,this.lm,this.fm)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(pn("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),ln("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Fm.ds)throw new f(d.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.$m&&this.Mm===e||(this.$m=function(t,e,n,r){if(n.cs.U()){var i=0;return n.docChanges.map((function(e){return{type:"added",doc:new Hi(t,e.doc.key,e.doc,n.fromCache,n._s.has(e.doc.key),r),oldIndex:-1,newIndex:i++}}))}var s=n.cs;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new Hi(t,e.doc.key,e.doc,n.fromCache,n._s.has(e.doc.key),r),o=-1,a=-1;return 0!==e.type&&(o=s.indexOf(e.doc.key),s=s.delete(e.doc.key)),1!==e.type&&(a=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:Xi(e.type),doc:i,oldIndex:o,newIndex:a}}))}(this.lm,e,this.Fm,this.fm),this.Mm=e),this.$m},t.prototype.isEqual=function(e){if(!(e instanceof t))throw mn("isEqual","QuerySnapshot",1,e);return this.lm===e.lm&&this.Nm.isEqual(e.Nm)&&this.Fm.isEqual(e.Fm)&&this.fm===e.fm},t.prototype.Lm=function(t){return new Hi(this.lm,t.key,t,this.metadata.fromCache,this.Fm._s.has(t.key),this.fm)},t}(),Ki=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Ct.ve(e),n,r)||this).Om=e,e.length%2!=1)throw new f(d.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.K()+" has "+e.length);return i}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Vm.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Vm.path.L();return t.U()?null:new Bi(new S(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Vm.path.K()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(rn("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Se.mi()),sn("CollectionReference.doc","non-empty string",1,t),""===t)throw new f(d.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=E.G(t);return Bi.cm(this.Vm.path.child(e),this.firestore,this.fm)},e.prototype.add=function(t){en("CollectionReference.add",arguments,1),sn("CollectionReference.add","object",1,this.fm?this.fm.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Om,this.firestore,t)},e}(Wi);function Qi(t,e){if(void 0===e)return{merge:!1};if(pn(t,e,["merge","mergeFields"]),ln(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+dn(r));for(var s=0;s<r.length;++s)if(!i(r[s]))throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+s+" was: "+dn(r[s]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof Cn}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new f(d.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Yi(t,e){return void 0===e?{}:(pn(t,e,["serverTimestamps"]),un(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Zi(t,e){on(t,"object",1,e),e&&(pn(t,e,["source"]),un(t,0,"source",e.source,["default","server","cache"]))}function Ji(t,e,n){if(e instanceof Bi){if(e.firestore!==n)throw new f(d.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw mn(t,"DocumentReference",1,e)}function Xi(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te("Unknown change type: "+t)}}function ts(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var es=_n(Ui,"Use firebase.firestore() instead."),ns=_n(ji,"Use firebase.firestore().runTransaction() instead."),rs=_n(qi,"Use firebase.firestore().batch() instead."),is=_n(Bi,"Use firebase.firestore().doc() instead."),ss=_n(Gi),os=_n(Hi),as=_n(Wi),ls=_n($i),us=_n(Ki,"Use firebase.firestore().collection() instead."),cs={Firestore:es,GeoPoint:Rn,Timestamp:_,Blob:Tn,Transaction:ns,WriteBatch:rs,DocumentReference:is,DocumentSnapshot:ss,Query:as,QueryDocumentSnapshot:os,QuerySnapshot:ls,CollectionReference:us,FieldPath:Cn,FieldValue:On,setLogLevel:Ui.setLogLevel,CACHE_SIZE_UNLIMITED:Li},hs=function(){function t(){}return t.prototype.Hu=function(t){},t.prototype.lc=function(){},t}(),ds=function(){function t(){var t=this;this.xm=function(){return t.Bm()},this.Um=function(){return t.qm()},this.Qm=[],this.Wm()}return t.prototype.Hu=function(t){this.Qm.push(t)},t.prototype.lc=function(){window.removeEventListener("online",this.xm),window.removeEventListener("offline",this.Um)},t.prototype.Wm=function(){window.addEventListener("online",this.xm),window.addEventListener("offline",this.Um)},t.prototype.Bm=function(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Qm;t<e.length;t++)(0,e[t])(0)},t.prototype.qm=function(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Qm;t<e.length;t++)(0,e[t])(1)},t.Uc=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),fs=function(){function t(t){this.jm=t.jm,this.Km=t.Km}return t.prototype._u=function(t){this.Gm=t},t.prototype.ou=function(t){this.zm=t},t.prototype.onMessage=function(t){this.Hm=t},t.prototype.close=function(){this.Km()},t.prototype.send=function(t){this.jm(t)},t.prototype.Jm=function(){this.Gm()},t.prototype.Ym=function(t){this.zm(t)},t.prototype.Xm=function(t){this.Hm(t)},t}(),ps={BatchGetDocuments:"batchGet",Commit:"commit"},ms="gl-js/ fire/"+c,gs=function(){function t(t){this.cn=t.cn,this.Zm=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.tE=function(t,e){if(e)for(var n in e.h)e.h.hasOwnProperty(n)&&(t[n]=e.h[n]);t["X-Goog-Api-Client"]=ms},t.prototype.gu=function(t,e,n){var r=this,i=this.eE(t);return new Promise((function(s,o){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=a.getResponseJson();be("Connection","XHR received:",JSON.stringify(e)),s(e);break;case u.ErrorCode.TIMEOUT:be("Connection",'RPC "'+t+'" timed out'),o(new f(d.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(be("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(d).indexOf(e)>=0?e:d.UNKNOWN}(r.status);o(new f(i,r.message))}else o(new f(d.UNKNOWN,"Server responded with status "+a.getStatus()))}else be("Connection",'RPC "'+t+'" failed'),o(new f(d.UNAVAILABLE,"Connection failed."));break;default:Te('RPC "'+t+'" failed with unanticipated webchannel error '+a.getLastErrorCode()+": "+a.getLastError()+", giving up.")}}finally{be("Connection",'RPC "'+t+'" completed.')}}));var l=Object.assign({},e);delete l.database;var c=JSON.stringify(l);be("Connection","XHR sending: ",i+" "+c);var h={"Content-Type":"text/plain"};r.tE(h,n),a.send(i,"POST",c,h,15)}))},t.prototype.yu=function(t,e,n){return this.gu(t,e,n)},t.prototype.lu=function(t,e){var n=[this.Zm,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.cn.projectId+"/databases/"+this.cn.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.tE(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");be("Connection","Creating WebChannel: "+s+" "+i);var o=r.createWebChannel(s,i),l=!1,c=!1,h=new fs({jm:function(t){c?be("Connection","Not sending because WebChannel is closed:",t):(l||(be("Connection","Opening WebChannel transport."),o.open(),l=!0),be("Connection","WebChannel sending:",t),o.send(t))},Km:function(){return o.close()}}),p=function(t,e){o.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return p(u.WebChannel.EventType.OPEN,(function(){c||be("Connection","WebChannel transport opened.")})),p(u.WebChannel.EventType.CLOSE,(function(){c||(c=!0,be("Connection","WebChannel transport closed"),h.Ym())})),p(u.WebChannel.EventType.ERROR,(function(t){c||(c=!0,be("Connection","WebChannel transport errored:",t),h.Ym(new f(d.UNAVAILABLE,"The operation could not be completed")))})),p(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Ce(!!n,"Got a webchannel message without data.");var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){be("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Rt[t];if(void 0!==e)return Bt(e)}(i),a=r.message;void 0===s&&(s=d.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,h.Ym(new f(s,a)),o.close()}else be("Connection","WebChannel received:",n),h.Xm(n)}})),setTimeout((function(){h.Jm()}),0),h},t.prototype.eE=function(t){return this.Zm+"/v1/projects/"+this.cn.projectId+"/databases/"+this.cn.database+"/documents:"+ps[t]},t}();function ys(t){!function(t,e){t.INTERNAL.registerComponent(new l.Component("firestore",(function(t){return function(t,e){return new Ui(t,e,new Oi)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},cs)))}(t),t.registerVersion("@firebase/firestore","1.14.1")}ge.fi(new(function(){function t(){this.dn=!0,this.ia="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.DT=function(t){return Promise.resolve(new gs(t))},t.prototype.gT=function(){return ds.Uc()?new ds:new hs},t.prototype.yT=function(t){return new pe(t,{dn:!0})},t.prototype.Ti=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}())),ys(s),e.__PRIVATE_registerFirestore=ys},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=r.__read(s.value,2),a=o[1],l=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService(l);a.resolve(u)}catch(c){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=a,e.Provider=o},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.14.1","app"),t.exports=i},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return T})),n.d(e,"__classPrivateFieldGet",(function(){return C})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{l(r.next(t))}catch(e){s(e)}}function a(t){try{l(r.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){s.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(s[0][2],n)}catch(r){c(s[0][3],r)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}function C(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},l=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){var e="string"==typeof t?a[t]:t;s.forEach((function(t){t.logLevel=e}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,s=n("mrSG"),o=n("zVF4"),a=n("S+S0"),l=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new o.ErrorFactory("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new l.Logger("@firebase/app"),f=function(){function t(t,e,n){var r,i,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return l}),"PUBLIC"));try{for(var u=s.__values(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(o.contains(e,a))throw c.create("duplicate-app",{appName:a});var l=new t(n,s,r);return e[a]=l,l},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&l.push("and"),o&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(l.join(" "))}u(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:l.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});l.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.14.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!o.contains(e,t=t||"[DEFAULT]"))throw c.create("no-app",{appName:t});return e[t]}function u(a){var l,u,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&o.deepExtend(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=s.__values(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){l={error:g}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=s.__assign(s.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(o.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.2",void 0),t.registerVersion("fire-js","")}(v),e.default=v,e.firebase=v},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return ar})),n.d(e,"EventType",(function(){return lr})),n.d(e,"WebChannel",(function(){return ur})),n.d(e,"XhrIo",(function(){return cr})),n.d(e,"createWebChannelTransport",(function(){return or}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},o=i;function a(t){return"string"==typeof t}function l(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||o;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function T(){this.j=this.j,this.i=this.i}T.prototype.j=!1,T.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},T.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function x(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function N(t){return/^[\s\xa0]*$/.test(t)}var k,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var R=o.navigator;if(R){var P=R.userAgent;if(P){k=P;break t}}k=""}function F(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function M(t){var e,n={};for(e in t)n[e]=t[e];return n}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<L.length;s++)n=L[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=c;var j,q,B=D(k,"Opera"),z=D(k,"Trident")||D(k,"MSIE"),G=D(k,"Edge"),H=G||z,W=D(k,"Gecko")&&!(D(k.toLowerCase(),"webkit")&&!D(k,"Edge"))&&!(D(k,"Trident")||D(k,"MSIE"))&&!D(k,"Edge"),$=D(k.toLowerCase(),"webkit")&&!D(k,"Edge");function K(){var t=o.document;return t?t.documentMode:void 0}t:{var Q="",Y=(q=k,W?/rv:([^\);]+)(\)|;)/.exec(q):G?/Edge\/([\d\.]+)/.exec(q):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):$?/WebKit\/(\S+)/.exec(q):B?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(Y&&(Q=Y?Y[1]:""),z){var Z=K();if(null!=Z&&Z>parseFloat(Q)){j=String(Z);break t}}j=Q}var J,X={};function tt(t){return function(t,e){var n=X;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=A(String(j)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=O(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==o[2].length,0==a[2].length)||O(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var et=o.document;J=et&&z?K()||("CSS1Compat"==et.compatMode?parseInt(j,10):5):void 0;var nt=!z||9<=Number(J),rt=z&&!tt("9"),it=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",c,e),o.removeEventListener("test",c,e)}catch(n){}return t}();function st(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function ot(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{U(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.Ia=!1},E(ot,st);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.b=function(){ot.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ut,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function ft(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=C(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.X&&s.listener==e&&s.capture==!!n&&s.da==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=pt(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ct(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(d(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Ct(r),e&&e[lt]?e.Aa(n,r,p(i)?!!i.capture:!!i,s):vt(e,n,r,!0,i,s)}(t,e,n,r,i);if(d(e)){for(var s=0;s<e.length;s++)yt(t,e[s],n,r,i);return null}return n=Ct(n),t&&t[lt]?t.za(e,n,p(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=p(i)?!!i.capture:!!i;if(o&&!nt)return null;var a=Et(t);if(a||(t[mt]=a=new dt(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _t(t){if(!l(t)&&t&&!t.X){var e=t.src;if(e&&e[lt])ft(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(ft(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function bt(t){return t in gt?gt[t]:gt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&_t(t),n.call(r,e)}(t,nt?new ot(e,this):e=new ot(e||u("window.event"),this))}function Et(t){return(t=t[mt])instanceof dt?t:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(t){return"function"==h(t)?t:(t[Tt]||(t[Tt]=function(e){return t.handleEvent(e)}),t[Tt])}function St(){T.call(this),this.c=new dt(this),this.J=this,this.B=null}function It(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.X&&o.capture==n){var a=o.listener,l=o.da||o.src;o.Z&&ft(t.c,o),i=!1!==a.call(l,r)&&i}}return i&&0!=r.Ia}E(St,T),St.prototype[lt]=!0,(r=St.prototype).addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(d(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=p(i)?!!i.capture:!!i,r=Ct(r),e&&e[lt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pt(o=e.a[n],r,i,s))&&(ht(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Et(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,i,s)),(r=-1<e?n[e]:null)&&_t(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new st(t,n);else if(t instanceof st)t.target=t.target||n;else{var i=t;V(t=new st(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=It(o,r,!0,t)&&i}if(i=It(o=t.a=n,r,!0,t)&&i,i=It(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=It(o=t.a=e[s],r,!1,t)&&i;return i},r.G=function(){if(St.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var xt=o.JSON.stringify;function Nt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function kt(){this.b=this.a=null}Nt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var At,Dt=new Nt((function(){return new Rt}),(function(t){t.reset()}));function Ot(){var t=Lt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Pt(t){o.setTimeout((function(){throw t}),0)}function Ft(t,e){At||function(){var t=o.Promise.resolve(void 0);At=function(){t.then(Vt)}}(),Mt||(At(),Mt=!0),Lt.add(t,e)}kt.prototype.add=function(t,e){var n=Dt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Mt=!1,Lt=new kt;function Vt(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){Pt(n)}var e=Dt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Mt=!1}function Ut(t,e){St.call(this),this.b=t||1,this.a=e||o,this.f=_(this.gb,this),this.g=w()}function jt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function qt(t,e,n){if("function"==h(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:o.setTimeout(t,e||0)}function Bt(t,e,n){T.call(this),this.f=null!=n?_(t,n):t,this.c=e,this.b=_(this.$a,this),this.a=[]}function zt(t){t.U=qt(t.b,t.c),t.f.apply(null,t.a)}function Gt(t){T.call(this),this.b=t,this.a={}}E(Ut,St),(r=Ut.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(jt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Ut.N.G.call(this),jt(this),delete this.a},E(Bt,T),(r=Bt.prototype).ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){Bt.N.G.call(this),this.U&&(o.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},E(Gt,T);var Ht=[];function Wt(t,e,n,r){d(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var i=0;i<n.length;i++){var s=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function $t(t){F(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_t(t)}),t),t.a={}}function Kt(){}Gt.prototype.G=function(){Gt.N.G.call(this),$t(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=new St;function Yt(t){st.call(this,"serverreachability",t)}function Zt(t){Qt.dispatchEvent(new Yt(Qt,t))}function Jt(t){st.call(this,"statevent",t)}function Xt(t){Qt.dispatchEvent(new Jt(Qt,t))}function te(t){st.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){t()}),e)}E(Yt,st),E(Jt,st),E(te,st);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function se(){}ie.prototype.a=null;var oe,ae={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function le(){st.call(this,"d")}function ue(){st.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Gt(this),this.O=de,this.P=new Ut(t=H?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(le,st),E(ue,st),E(ce,ie),oe=new ce;var de=45e3,fe={},pe={};function me(t,e,n){t.F=1,t.f=je(Re(e)),t.l=n,t.H=!0,ye(t,null)}function ge(t,e,n,r){t.F=1,t.f=je(Re(e)),t.l=null,t.H=n,ye(t,r)}function ye(t,e){t.v=w(),be(t),t.D=Re(t.f),Ue(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Bt(_(t.Ja,t,t.a),t.J)),Wt(t.I,t.a,"readystatechange",t.cb),e=t.h?M(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Zt(1)}function ve(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=_e(t,n);if(i==pe){4==e&&(t.c=4,Xt(14),r=!1);break}if(i==fe){t.c=4,Xt(15),r=!1;break}Se(t,i)}4==e&&0==n.length&&(t.c=1,Xt(16),r=!1),t.b=t.b&&r,r||(Ce(t),Te(t))}function _e(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?pe:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?pe:(e=e.substr(r,n),t.A=r+n,e))}function be(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(_(t.ab,t),e)}function Ee(t){t.i&&(o.clearTimeout(t.i),t.i=null)}function Te(t){t.g.Ca()||t.m||t.g.na(t)}function Ce(t){Ee(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,jt(t.P),$t(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Se(t,e){try{t.g.Fa(t,e),Zt(4)}catch(n){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||a(t))S(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(f(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function xe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xe)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ne(t,e){Ae(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ke(t))}function ke(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ae(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ae(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Rn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Rn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!H&&!this.a.aa())){this.m||4!=e||7==n||Zt(8==n||0>=r?3:2),Ee(this);var i=this.a.T();this.o=i;var s=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var o=Pn(this.a,"X-HTTP-Initial-Response");if(o&&!N(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.c=3,Xt(12),Ce(this),Te(this);break t}this.s=!0,Se(this,a)}this.H?(ve(this,e,s),H&&this.b&&3==e&&(Wt(this.I,this.P,"tick",this.bb),this.P.start())):Se(this,s),4==e&&Ce(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,be(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.c=3,Xt(12)):(this.c=0,Xt(13)),Ce(this),Te(this)}}}catch(l){}},r.bb=function(){if(this.a){var t=Rn(this.a),e=this.a.aa();this.A<e.length&&(Ee(this),ve(this,t,e),this.b&&4!=t&&be(this))}},r.cancel=function(){this.m=!0,Ce(this)},r.ab=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Zt(3),Xt(17)),Ce(this),this.c=2,Te(this)):we(this,this.R-t)},(r=xe.prototype).C=function(){ke(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return ke(this),this.a.concat()},r.get=function(t,e){return Ae(this.b,t)?this.b[t]:e},r.set=function(t,e){Ae(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oe(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Oe?(this.h=void 0!==e?e:t.h,Pe(this,t.f),this.j=t.j,Fe(this,t.b),Me(this,t.i),this.a=t.a,Le(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(De))?(this.h=!!e,Pe(this,n[1]||"",!0),this.j=qe(n[2]||""),Fe(this,n[3]||"",!0),Me(this,n[4]),this.a=qe(n[5]||"",!0),Le(this,n[6]||"",!0),this.g=qe(n[7]||"")):(this.h=!!e,this.c=new Qe(null,this.h))}function Re(t){return new Oe(t)}function Pe(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fe(t,e,n){t.b=n?qe(e,!0):e}function Me(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Le(t,e,n){e instanceof Qe?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ze(this,e),Xe(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=Be(e,$e)),t.c=new Qe(e,t.h))}function Ve(t,e,n){t.c.set(e,n)}function Ue(t,e,n){d(n)||(n=[String(n)]),Xe(t.c,e,n)}function je(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return a(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Be(e,Ge,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Be(e,Ge,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?We:He,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Be(n,Ke)),t.join("")},Oe.prototype.resolve=function(t){var e=Re(this),n=!!t.f;n?Pe(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Fe(e,t.b):n=null!=t.i;var r=t.a;if(n)Me(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(D(i,"./")||D(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var s=[],o=0;o<i.length;){var a=i[o++];"."==a?r&&o==i.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&o==i.length&&s.push("")):(s.push(a),r=!0)}r=s.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Le(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Ge=/[#\/\?@]/g,He=/[#\?:]/g,We=/[#\?]/g,$e=/[#\?@]/g,Ke=/#/g;function Qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new xe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ze(t,e){Ye(t),e=en(t,e),Ae(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ne(t.a,e))}function Je(t,e){return Ye(t),e=en(t,e),Ae(t.a.b,e)}function Xe(t,e,n){Ze(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),x(n)),t.b+=n.length)}function tn(t){var e=new Qe;return e.c=t.c,t.a&&(e.a=new xe(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Xt(4),e?(Xt(10),Wn(t.a,t,!1)):(Xt(11),Wn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Zn(e=t.a,e.Y()?t.f:null,t.i),Xt(4),Ue(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ve(e,n,r),ge(t.b,e,!1,t.f)}}function sn(){this.a=this.b=null}function on(){this.a=new xe}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function ln(t,e){this.b=t,this.a=e}function un(t){this.g=t||cn,t=o.PerformanceNavigationTiming?0<(t=o.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(o.ka&&o.ka.Da&&o.ka.Da()&&o.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new on),this.b=null,this.c=[]}(r=Qe.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ye(this),this.a.forEach((function(n,r){S(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},r.C=function(t){Ye(this);var e=[];if(a(t))Je(this,t)&&(e=I(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},r.set=function(t,e){return Ye(this),this.c=null,Je(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")},E((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Pn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Pn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Qn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Qn(e,2)}else 1==this.M&&(this.g?Xt(6):"11111"==e?(Xt(5),this.g=!0,(!z||10<=Number(J))&&(this.c=200,this.b.cancel(),Xt(11),Wn(this.a,this,!0))):(Xt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Xt(11),Wn(this.a,this,!0)):(Xt(10),Wn(this.a,this,!1)));else{0==this.M?Xt(8):1==this.M&&Xt(9);var t=this.a;t.m=this.c,Qn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},on.prototype.add=function(t){this.a.set(an(t),t)},on.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(D(e,"spdy")||D(e,"quic")||D(e,"h2"))&&(t.f=t.g,t.a=new on,t.b&&(mn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function fn(t){return t.b?1:t.a?t.a.a.c:0}function pn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=Ae(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=Ae(t.a.a.b,n)),n&&Ne(t.a.a,an(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return S(t.a.C(),(function(t){e=e.concat(t.j)})),e}return x(t.c)}function vn(){}function _n(){this.a=new vn}function bn(t,e,n){var r=n||"";try{Ie(t,(function(t,n){var i=t;p(t)&&(i=xt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}un.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(S(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},vn.prototype.stringify=function(t){return o.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return o.JSON.parse(t,void 0)};var En=o.JSON.parse;function Tn(t){St.call(this),this.headers=new xe,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Cn,this.D=this.F=!1}E(Tn,St);var Cn="",Sn=/^https?$/i,In=["POST","PUT"];function xn(t){return"content-type"==t.toLowerCase()}function Nn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,kn(t),Dn(t)}function kn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function An(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=Rn(t)||2!=t.T()))if(t.l&&4==Rn(t))qt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Rn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(De)[1]||null;if(!a&&o.self&&o.self.location){var l=o.self.location.protocol;a=l.substr(0,l.length-1)}i=!Sn.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Rn(t)?t.a.statusText:""}catch(c){u=""}t.f=u+" ["+t.T()+"]",kn(t)}}finally{Dn(t)}}}function Dn(t,e){if(t.a){On(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function On(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(o.clearTimeout(t.m),t.m=null)}function Rn(t){return t.a?t.a.readyState:0}function Pn(t,e){return t.a?t.a.getResponseHeader(e):null}function Fn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return F(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ve(t,e,n),t}function Mn(t){this.f=[],this.F=new sn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new _n,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Ln(t){if(Vn(t),3==t.u){var e=t.P++,n=Re(t.B);Ve(n,"SID",t.H),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Bn(t,n),(e=new he(t,e,void 0)).F=2,e.f=je(Re(n)),n=!1,o.navigator&&o.navigator.sendBeacon&&(n=o.navigator.sendBeacon(e.f.toString(),"")),!n&&o.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),be(e)}Yn(t)}function Vn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(o.clearTimeout(t.l),t.l=null),$n(t),t.b.cancel(),t.h&&(l(t.h)&&o.clearTimeout(t.h),t.h=null)}function Un(t,e){t.f.push(new ln(t.Qa++,e)),3==t.u&&jn(t)}function jn(t){dn(t.b)||t.h||(t.h=!0,Ft(t.Ha,t),t.A=0)}function qn(t,e){var n;n=e?e.W:t.P++;var r=Re(t.B);Ve(r,"SID",t.H),Ve(r,"RID",n),Ve(r,"AID",t.O),Bn(t,r),t.g&&t.i&&Fn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,r,e)}function Bn(t,e){t.c&&Ie({},(function(t,n){Ve(e,n,t)}))}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?_(t.c.Sa,t.c,t):null;t:for(var i=t.f,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var u=i[l].b,c=i[l].a;if(0>(u-=s))s=Math.max(0,i[l].b-100),a=!1;else try{bn(c,o,"req"+u+"_")}catch(h){r&&r(c)}}if(a){r=o.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Gn(t){t.a||t.l||(t.S=1,Ft(t.Ga,t),t.v=0)}function Hn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(_(t.Ga,t),Kn(t,t.v)),t.v++,0))}function Wn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Zn(t,null,t.ha),jn(t)}function $n(t){null!=t.s&&(o.clearTimeout(t.s),t.s=null)}function Kn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Qn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=_(t.eb,t);n||(n=new Oe("//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||Pe(n,"https"),je(n)),function(t,e){var n=new Kt;if(o.Image){var r=new Image;r.onload=b(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=b(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(wn,n,r,"TestLoadImage: timeout",!1,e),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xt(2);t.u=0,t.c&&t.c.ta(e),Yn(t),Vn(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,x(t.f),t.f.length=0),t.c.sa())}function Zn(t,e,n){var r=function(t){return t instanceof Oe?Re(t):new Oe(t,void 0)}(n);if(""!=r.b)e&&Fe(r,e+"."+r.b),Me(r,r.i);else{var i=o.location;r=function(t,e,n,r){var i=new Oe(null,void 0);return t&&Pe(i,t),e&&Fe(i,e),n&&Me(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&F(t.V,(function(t,e){Ve(r,e,t)})),n=t.I,(e=t.j)&&n&&Ve(r,e,n),Ve(r,"VER",t.wa),Bn(t,r),r}function Jn(){}function Xn(){if(z&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function tr(t,e){St.call(this),this.a=new Mn(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!N(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!N(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ue.call(this),this.status=1}function rr(t){this.a=t}(r=Tn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=_(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(s){return void Nn(this,s)}t=n||"";var i=new xe(this.headers);r&&Ie(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=xn,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.K()),n=o.FormData&&t instanceof o.FormData,!(0<=C(In,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{On(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&l(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.Ba,this)):this.m=qt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Nn(this,s)}},r.Ba=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Dn(this,!0)),Tn.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?An(this):this.Za())},r.Za=function(){An(this)},r.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(q){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(q){return""}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},r.ya=function(){return this.h},r.Xa=function(){return a(this.f)?this.f:String(this.f)},(r=Mn.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?V(r=M(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var s=this.f[i];if(void 0===(s="__data__"in s.a&&a(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Ve(i=Re(this.B),"RID",t),Ve(i,"CVER",22),this.o&&this.j&&Ve(i,"X-HTTP-Session-Id",this.j),Bn(this,i),this.g&&r&&Fn(i,this.g,r),mn(this.b,n),this.W?(Ve(i,"$req",e),Ve(i,"SID","null"),n.S=!0,me(n,i,null)):me(n,i,e),this.u=2}}else 3==this.u&&(t?qn(this,t):0==this.f.length||dn(this.b)||qn(this))},r.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Re(this.pa);Ve(t,"RID","rpc"),Ve(t,"SID",this.H),Ve(t,"CI",this.ia?"0":"1"),Ve(t,"AID",this.O),Bn(this,t),Ve(t,"TYPE","xmlhttp"),this.g&&this.i&&Fn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||pn(this.b,t)))if(this.m=t.o,!t.s&&pn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(s){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;$n(this),this.a.cancel(),this.a=null}Hn(this),Xt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(_(this.Ya,this),6e3));if(1>=fn(this.b)&&this.fa){try{this.fa()}catch(s){}this.fa=void 0}}else Qn(this,11)}else if((t.s||this.a==t)&&$n(this),!N(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&l(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Pn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Pn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ve(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Zn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ee(r),be(r)),this.a=r):Gn(this),0<this.f.length&&jn(this)}else"stop"!=r[0]&&"close"!=r[0]||Qn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Qn(this,7):Ln(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Hn(this),Xt(19))},r.na=function(t){var e=null;if(this.a==t){$n(this),this.a=null;var n=2}else{if(!pn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Qt.dispatchEvent(new te(Qt,t.l?t.l.length:0,e,this.A)),jn(this)):Gn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(fn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(_(t.Ha,t,e),Kn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Hn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Qn(this,5);break;case 4:Qn(this,10);break;case 3:Qn(this,6);break;default:Qn(this,2)}}},r.eb=function(t){Xt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Tn(this.Ka)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Jn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},Xn.prototype.a=function(t,e){return new tr(t,e)},E(tr,St),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Xt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Fn(e,t.g,t.i)),(t=t.w).i=n,e=Zn(t.a,null,t.i),Xt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Ue(e,"MODE","init"),!t.a.o&&t.a.j&&Ue(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},r.close=function(){Ln(this.a)},r.Wa=function(t){if(a(t)){var e={};e.__data__=t,Un(this.a,e)}else this.h?((e={}).__data__=xt(t),Un(this.a,e)):Un(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Ln(this.a),delete this.a,tr.N.G.call(this)},E(er,le),E(nr,ue),E(rr,Jn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=b((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),Xn);Xn.prototype.createWebChannel=Xn.prototype.a,tr.prototype.send=tr.prototype.Wa,tr.prototype.open=tr.prototype.Va,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",se.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",St.prototype.listen=St.prototype.za,Tn.prototype.listenOnce=Tn.prototype.Aa,Tn.prototype.getLastError=Tn.prototype.Xa,Tn.prototype.getLastErrorCode=Tn.prototype.ya,Tn.prototype.getStatus=Tn.prototype.T,Tn.prototype.getResponseJson=Tn.prototype.Ua,Tn.prototype.getResponseText=Tn.prototype.aa,Tn.prototype.send=Tn.prototype.ca;var sr={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:se,XhrIo:Tn},or=sr.createWebChannelTransport,ar=sr.ErrorCode,lr=sr.EventType,ur=sr.WebChannel,cr=sr.XhrIo;e.default=sr},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function u(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(o){e=o instanceof c?d(o.errors):[o]}if(l(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(u(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof c?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends p{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let o=this;r(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==a&&(o=Object.create(e),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=_(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=_(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function _(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const b=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends p{constructor(t){super(t),this.destination=t}}let T=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new E(this)}lift(t){const e=new C(this,this);return e.operator=t,e}next(t){if(this.closed)throw new b;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new b;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new b;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new b;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new C(t,e),t})();class C extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function S(t){return t&&"function"==typeof t.schedule}class I extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const x=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const k=N(),A=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const O=t=>{if(t&&"function"==typeof t[g])return r=t,t=>{const e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(A(t))return x(t);if(D(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[k])return e=t,t=>{const n=e[k]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,r};function R(t,e,n,r,i=new I(t,n,r)){if(!i.closed)return e instanceof v?e.subscribe(i):O(e)(i)}class P extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function F(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new M(t,e))}}class M{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new L(t,this.project,this.thisArg))}}class L extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function V(t,e){return new v(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function U(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[g]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(D(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(A(t))return V(t,e);if(function(t){return t&&"function"==typeof t[k]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[k](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof v?t:new v(O(t))}function j(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(j((n,r)=>U(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends P{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new I(this,e,n),i=this.destination;i.add(r);const s=R(this,t,void 0,void 0,r);s!==r&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function z(t=Number.POSITIVE_INFINITY){return j(y,t)}function G(t,e){return e?V(t,e):new v(x(t))}function H(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return S(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:z(e)(G(t,n))}function W(){return function(t){return t.lift(new $(t))}}class ${constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new K(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class K extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Q extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return W()(this)}}const Y=(()=>{const t=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function J(){return new T}function X(){return t=>{return W()((e=J,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Y);return r.source=t,r.subjectFactory=n,r})(t));var e}}function tt(t,e,n){return(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})()}const et=tt("Inject",t=>({token:t})),nt=tt("Optional"),rt=tt("Self"),it=tt("SkipSelf");var st=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ot(t){for(let e in t)if(t[e]===ot)return e;throw Error("Could not find renamed property on target object.")}function at(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lt(t){return ut(t,t[ct])||ut(t,t[ht])}function ut(t,e){return e&&e.token===t?e:null}const ct=ot({"\u0275prov":ot}),ht=ot({ngInjectableDef:ot});function dt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const ft=ot({__forward_ref__:ot});function pt(t){return t.__forward_ref__=pt,t.toString=function(){return dt(this())},t}function mt(t){return"function"==typeof(e=t)&&e.hasOwnProperty(ft)&&e.__forward_ref__===pt?t():t;var e}const gt="undefined"!=typeof globalThis&&globalThis,yt="undefined"!=typeof window&&window,vt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_t="undefined"!=typeof global&&global,bt=gt||_t||yt||vt;class wt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=at({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Et=new wt("INJECTOR",-1),Tt={},Ct=/\n/gm,St=ot({provide:String,useValue:ot});let It=void 0;function xt(t){const e=It;return It=t,e}function Nt(t,e=st.Default){return function(t,e=st.Default){if(void 0===It)throw new Error("inject() must be called from an injection context");return null===It?function(t,e,n){const r=lt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&st.Optional)return null;throw new Error(`Injector: NOT_FOUND [${dt(t)}]`)}(t,0,e):It.get(t,e&st.Optional?null:void 0,e)}(mt(t),e)}const kt=Nt;class At{get(t,e=Tt){if(e===Tt){const e=new Error(`NullInjectorError: No provider for ${dt(t)}!`);throw e.name="NullInjectorError",e}return e}}function Dt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):dt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ct,"\n  ")}`}class Ot{}function Rt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Pt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ft(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}const Mt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}();let Lt=void 0;const Vt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bt))();function Ut(t){return t.ngDebugContext}function jt(t){return t.ngOriginalError}function qt(t,...e){t.error(...e)}class Bt{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||qt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Ut(t)?Ut(t):this._findContext(jt(t)):null}_findOriginalError(t){let e=jt(t);for(;e&&jt(e);)e=jt(e);return e}}class zt{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Gt extends zt{getTypeName(){return"HTML"}}class Ht extends zt{getTypeName(){return"Style"}}class Wt extends zt{getTypeName(){return"Script"}}class $t extends zt{getTypeName(){return"URL"}}class Kt extends zt{getTypeName(){return"ResourceURL"}}function Qt(t){return t instanceof zt?t.changingThisBreaksApplicationSecurity:t}function Yt(t,e){const n=Zt(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Zt(t){return t instanceof zt&&t.getTypeName()||null}let Jt=!0,Xt=!1;function te(){return Xt=!0,Jt}class ee{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ne=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,re=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ie(t){return(t=String(t)).match(ne)||t.match(re)?t:(te()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function se(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function oe(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ae=se("area,br,col,hr,img,wbr"),le=se("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ue=se("rp,rt"),ce=oe(ue,le),he=oe(ae,oe(le,se("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oe(ue,se("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ce),de=se("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fe=se("srcset"),pe=oe(de,fe,se("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),se("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),me=se("script,style,template");class ge{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!he.hasOwnProperty(e))return this.sanitizedSomething=!0,!me.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!pe.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;de[s]&&(o=ie(o)),fe[s]&&(r=o,o=(r=String(r)).split(",").map(t=>ie(t.trim())).join(", ")),this.buf.push(" ",e,'="',_e(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();he.hasOwnProperty(e)&&!ae.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(_e(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ye=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ve=/([^\#-~ |!])/g;function _e(t){return t.replace(/&/g,"&amp;").replace(ye,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ve,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let be;function we(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Ee=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Te=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ce=/^url\(([^)]+)\)$/;function Se(t){var e;return e=t.replace(/[$@]/g,"_"),`ng-reflect-${t=e.replace(Ie,(...t)=>"-"+t[1].toLowerCase())}`}const Ie=/([A-Z])/g;function xe(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Ne=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ke(),t})();const ke=(...t)=>{},Ae=new wt("Set Injector scope."),De=function(t,e,n){return new Le(t,e,n)};let Oe=(()=>{class t{static create(t,e){return Array.isArray(t)?De(t,e,""):De(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Tt,t.NULL=new At,t.\u0275prov=at({token:t,providedIn:"any",factory:()=>Nt(Et)}),t.__NG_ELEMENT_ID__=-1,t})();const Re=function(t){return t},Pe=[],Fe=Re,Me=function(){return Array.prototype.slice.call(arguments)};class Le{constructor(t,e=Oe.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Oe,{token:Oe,fn:Re,deps:Pe,value:this,useNew:!1}),r.set(Et,{token:Et,fn:Re,deps:Pe,value:this,useNew:!1}),this.scope=function t(e,n){let r=null;if(n)if(n=mt(n),Array.isArray(n))for(let i=0;i<n.length;i++)r=t(e,n[i])||r;else{if("function"==typeof n)throw je("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw je("Unexpected provider",n);{let t=mt(n.provide);const i=Ve(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Me)throw Ue(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Me,value:Pe});t=n,r.deps.push({token:t,options:6})}const s=e.get(t);if(s&&s.fn==Me)throw Ue(t);t===Ae&&(r=i.value),e.set(t,i)}}return r}(r,t)}get(t,e,n=st.Default){const r=this._records;let i=r.get(t);if(void 0===i){const e=lt(t);if(e){const n=e&&e.providedIn;("any"===n||null!=n&&n===this.scope)&&r.set(t,i=Ve({provide:t,useFactory:e.factory,deps:Pe}))}void 0===i&&r.set(t,null)}let s=xt(this);try{return function t(e,n,r,i,s,o){try{return function(e,n,r,i,s,o){let a;if(!n||o&st.SkipSelf)a=o&st.Self?Oe.NULL.get(e,o&st.Optional?void 0!==s?s:null:s):i.get(e,s,st.Default);else{if(a=n.value,a==Fe)throw Error("\u0275Circular dependency");if(a===Pe){n.value=Fe;let e=void 0,s=n.useNew,o=n.fn,l=n.deps,u=Pe;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],s=n.options,o=2&s?r.get(n.token):void 0;u.push(t(n.token,o,r,o||4&s?i:Oe.NULL,1&s?null:Oe.THROW_IF_NOT_FOUND,st.Default))}}n.value=a=s?new o(...u):o.apply(e,u)}}return a}(e,n,r,i,s,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==Fe&&(n.value=Pe),a}}(t,i,r,this.parent,e,n)}catch(o){return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=Dt("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,0,this.source)}finally{xt(s)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(dt(n))),`StaticInjector[${t.join(", ")}]`}}function Ve(t){const e=function(t){let e=Pe;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=mt(n[t]);if(Array.isArray(i))for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof nt||n==nt?r|=1:n instanceof it||n==it?r&=-3:n instanceof rt||n==rt?r&=-5:i=n instanceof et?n.token:mt(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:mt(t.useExisting),options:6}];else if(!(n||St in t))throw je("'deps' required",t);return e}(t);let n=Re,r=Pe,i=!1,s=mt(t.provide);if(St in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=mt(t.useClass);else{if("function"!=typeof s)throw je("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=s}return{deps:e,fn:n,useNew:i,value:r}}function Ue(t){return je("Cannot mix multi providers and regular providers",t)}function je(t,e){return new Error(Dt(t,e,"StaticInjectorError"))}let qe=null;function Be(){if(!qe){const t=bt.Symbol;if(t&&t.iterator)qe=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(qe=n)}}}return qe}function ze(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ge(t,e){const n=We(t),r=We(e);if(n&&r)return function(t,e,n){const r=t[Be()](),i=e[Be()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Ge);{const i=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!s)||ze(t,e)}}class He{constructor(t){this.wrapped=t}static wrap(t){return new He(t)}static unwrap(t){return He.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof He}}function We(t){return!!$e(t)&&(Array.isArray(t)||!(t instanceof Map)&&Be()in t)}function $e(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ke(t){return!!t&&"function"==typeof t.then}function Qe(t){return!!t&&"function"==typeof t.subscribe}class Ye{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class Ze{}function Je(t){const e=Error(`No component factory found for ${dt(t)}. Did you add it to @NgModule.entryComponents?`);return e[Xe]=t,e}const Xe="ngComponent";class tn{resolveComponentFactory(t){throw Je(t)}}let en=(()=>{class t{}return t.NULL=new tn,t})();class nn{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Je(t);return new rn(e,this._ngModule)}}class rn extends Ze{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function sn(...t){}let on=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>an(t),t})();const an=sn;class ln{}const un=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let cn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>hn(),t})();const hn=sn;let dn=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>null}),t})();class fn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const pn=new fn("9.0.7");class mn{constructor(){}supports(t){return We(t)}create(t){return new yn(t)}}const gn=(t,e)=>e;class yn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<wn(n,r,i)?e:n,o=wn(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!We(t))throw new Error(`Error trying to diff '${dt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&ze(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),ze(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Be()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&ze(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),ze(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(ze(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(ze(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new vn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new bn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class vn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _n{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&ze(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class bn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new _n,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class En{constructor(){}supports(t){return t instanceof Map||$e(t)}create(){return new Tn}}class Tn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||$e(t)))throw new Error(`Error trying to diff '${dt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Cn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){ze(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Cn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Sn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new mn])}),t})(),In=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new En])}),t})();const xn=[new En],Nn=new Sn([new mn]),kn=new In(xn);let An=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Dn(t,on),t})();const Dn=sn;let On=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Rn(t,on),t})();const Rn=sn;function Pn(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Fn(n,e),n}(i,t)}function Fn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function Mn(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function Ln(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Vn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Un(t,e){return t.nodes[e]}function jn(t,e){return t.nodes[e]}function qn(t,e){return t.nodes[e]}function Bn(t,e){return t.nodes[e]}function zn(t,e){return t.nodes[e]}const Gn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Hn=()=>{},Wn=new Map;function $n(t){let e=Wn.get(t);return e||(e=dt(t)+"_"+Wn.size,Wn.set(t,e)),e}function Kn(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Qn=0;function Yn(t,e,n,r){return!(!(2&t.state)&&ze(t.oldValues[e.bindingIndex+n],r))}function Zn(t,e,n,r){return!!Yn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Jn(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ge(i,r)){const s=e.bindings[n].name;throw Pn(Gn.createDebugContext(t,e.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&t.state))}}function Xn(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function tr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function er(t,e,n,r){try{return Xn(33554432&t.def.nodes[e].flags?jn(t,e).componentView:t),Gn.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function nr(t){return t.parent?jn(t.parent,t.parentNodeDef.nodeIndex):null}function rr(t){return t.parent?t.parentNodeDef.parent:null}function ir(t,e){switch(201347067&e.flags){case 1:return jn(t,e.nodeIndex).renderElement;case 2:return Un(t,e.nodeIndex).renderText}}function sr(t,e){return t?`${t}:${e}`:e}function or(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function ar(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function lr(t){return 1<<t%32}function ur(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=lr(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function cr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:r,token:n,tokenKey:$n(n)}})}function hr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Mt.Native?jn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const dr=new WeakMap;function fr(t){let e=dr.get(t);return e||(e=t(()=>Hn),e.factory=t,dr.set(t,e)),e}function pr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(ir(t,t.def.lastRenderRootNode))),mr(t,e,0,t.def.nodes.length-1,n,r,i)}function mr(t,e,n,r,i,s,o){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&yr(t,n,e,i,s,o),a+=n.childCount}}function gr(t,e,n,r,i,s){let o=t;for(;o&&!or(o);)o=o.parent;const a=o.parent,l=rr(o),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&yr(a,t,n,r,i,s),c+=t.childCount}if(!a.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)vr(t,o[e],n,r,i,s)}}function yr(t,e,n,r,i,s){if(8&e.flags)gr(t,e.ngContent.index,n,r,i,s);else{const o=ir(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&vr(t,o,n,r,i,s),32&e.bindingFlags&&vr(jn(t,e.nodeIndex).componentView,o,n,r,i,s)):vr(t,o,n,r,i,s),16777216&e.flags){const o=jn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)pr(o[t],n,r,i,s)}1&e.flags&&!e.element.name&&mr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,s)}}function vr(t,e,n,r,i,s){const o=t.renderer;switch(n){case 1:o.appendChild(r,e);break;case 2:o.insertBefore(r,e,i);break;case 3:o.removeChild(r,e);break;case 0:s.push(e)}}const _r=/^:([^:]+):(.+)$/;function br(t){if(":"===t[0]){const e=t.match(_r);return[e[1],e[2]]}return["",t]}function wr(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}const Er={},Tr=$n(Oe),Cr=$n(Et),Sr=$n(Ot);function Ir(t,e,n,r){return n=mt(n),{index:-1,deps:cr(r,dt(e)),flags:t,token:e,value:n}}function xr(t,e,n=Oe.THROW_IF_NOT_FOUND){const r=xt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const i=e.tokenKey;switch(i){case Tr:case Cr:case Sr:return t}const s=t._def.providersByKey[i];let o;if(s){let e=t._providers[s.index];return void 0===e&&(e=t._providers[s.index]=Nr(t,s)),e===Er?void 0:e}if((o=lt(e.token))&&function(t,e){const n=e.providedIn;return null!=n&&("any"===n||n===t._def.scope||function(t,e){return t._def.modules.indexOf(e)>-1}(t,n))}(t,o)){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:o.factory,deps:[],index:n,token:e.token},t._providers[n]=Er,t._providers[n]=Nr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{xt(r)}}function Nr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(xr(t,n[0]));case 2:return new e(xr(t,n[0]),xr(t,n[1]));case 3:return new e(xr(t,n[0]),xr(t,n[1]),xr(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=xr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(xr(t,n[0]));case 2:return e(xr(t,n[0]),xr(t,n[1]));case 3:return e(xr(t,n[0]),xr(t,n[1]),xr(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=xr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=xr(t,e.deps[0]);break;case 256:n=e.value}return n===Er||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Er:n}function kr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Pt(n,e),Gn.dirtyParentQueries(r),Dr(r),r}function Ar(t,e,n){const r=e?ir(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);pr(n,2,i,s,void 0)}function Dr(t){pr(t,3,null,null,void 0)}const Or={};function Rr(t,e,n,r,i,s){return new Pr(t,e,n,r,i,s)}class Pr extends Ze{constructor(t,e,n,r,i,s){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=fr(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=Gn.createRootView(t,e||[],n,i,r,Or),a=qn(o,s).instance;return n&&o.renderer.setAttribute(jn(o,0).renderElement,"ng-version",pn.full),new Fr(o,new Ur(o),a)}}class Fr extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new on(jn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new zr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Mr(t,e,n){return new Lr(t,e,n)}class Lr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new on(this._data.renderElement)}get injector(){return new zr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=rr(t),t=t.parent;return t?new zr(t,e):new zr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=kr(this._data,t);Gn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Ur(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;i||t instanceof rn||(i=s.get(Ot));const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Rt(i,n,r),function(t,e){const n=nr(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Gn.dirtyParentQueries(r),Ar(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];Pt(r,e),null==n&&(n=r.length),Rt(r,n,i),Gn.dirtyParentQueries(i),Dr(i),Ar(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=kr(this._data,t);e&&Gn.destroyView(e)}detach(t){const e=kr(this._data,t);return e?new Ur(e):null}}function Vr(t){return new Ur(t)}class Ur{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return pr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Xn(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Gn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Gn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Gn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Dr(this._view),Gn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function jr(t,e){return new qr(t,e)}class qr extends An{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Ur(Gn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new on(jn(this._parentView,this._def.nodeIndex).renderElement)}}function Br(t,e){return new zr(t,e)}class zr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Oe.THROW_IF_NOT_FOUND){return Gn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:$n(t)},e)}}function Gr(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=jn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Un(t,n.nodeIndex).renderText;if(20240&n.flags)return qn(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function Hr(t,e,n,r){return new Wr(t,e,n,r)}class Wr{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=Ft(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Nr(t,i))}}(this)}get(t,e=Oe.THROW_IF_NOT_FOUND,n=st.Default){let r=0;return n&st.SkipSelf?r|=1:n&st.Self&&(r|=4),xr(this,{token:t,tokenKey:$n(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(en)}destroy(){if(this._destroyed)throw new Error(`The ng module ${dt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Er){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const $r=$n(cn),Kr=$n(on),Qr=$n(On),Yr=$n(An),Zr=$n(Ne),Jr=$n(Oe),Xr=$n(Et);function ti(t,e,n,r,i,s,o,a){const l=[];if(o)for(let c in o){const[t,e]=o[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return ni(t,e|=16384,n,r,i,i,s,l,u)}function ei(t,e,n,r,i){return ni(-1,t,e,0,n,r,i)}function ni(t,e,n,r,i,s,o,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=ur(n);l||(l=[]),a||(a=[]),s=mt(s);const d=cr(o,dt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:wr(a),outputs:l,element:null,provider:{token:i,value:s,deps:d},text:null,query:null,ngContent:null}}function ri(t,e){return ai(t,e)}function ii(t,e){let n=t;for(;n.parent&&!or(n);)n=n.parent;return li(n.parent,rr(n),!0,e.provider.value,e.provider.deps)}function si(t,e){const n=li(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],s=n[i.propName];if(!Qe(s))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(oi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function oi(t,e,n){return r=>er(t,e,n,r)}function ai(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return li(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(ci(t,e,n,i[0]));case 2:return r(ci(t,e,n,i[0]),ci(t,e,n,i[1]));case 3:return r(ci(t,e,n,i[0]),ci(t,e,n,i[1]),ci(t,e,n,i[2]));default:const o=[];for(let r=0;r<s;r++)o.push(ci(t,e,n,i[r]));return r(...o)}}(t,e.parent,n,r.value,r.deps);case 2048:return ci(t,e.parent,n,r.deps[0]);case 256:return r.value}}function li(t,e,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(ci(t,e,n,i[0]));case 2:return new r(ci(t,e,n,i[0]),ci(t,e,n,i[1]));case 3:return new r(ci(t,e,n,i[0]),ci(t,e,n,i[1]),ci(t,e,n,i[2]));default:const o=[];for(let r=0;r<s;r++)o.push(ci(t,e,n,i[r]));return new r(...o)}}const ui={};function ci(t,e,n,r,i=Oe.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=t;2&r.flags&&(i=null);const o=r.tokenKey;o===Zr&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(o){case $r:return hi(a,e,n).renderer;case Kr:return new on(jn(a,e.nodeIndex).renderElement);case Qr:return jn(a,e.nodeIndex).viewContainer;case Yr:if(e.element.template)return jn(a,e.nodeIndex).template;break;case Zr:return Vr(hi(a,e,n));case Jr:case Xr:return Br(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=qn(a,t.nodeIndex);return e||(e={instance:ai(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=or(a),e=rr(a),a=a.parent,4&r.flags&&(a=null)}const l=s.root.injector.get(r.token,ui);return l!==ui||i===ui?l:s.root.ngModule.injector.get(r.token,i)}function hi(t,e,n){let r;if(n)r=jn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!or(r);)r=r.parent;return r}function di(t,e,n,r,i,s){if(32768&n.flags){const e=jn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){s=s||{};const e=He.unwrap(t.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new Ye(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,s}function fi(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&e&&mi(t,i,s.flags&e,r++),0==(s.childFlags&e)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(r=pi(t,o,e,r)),o=o.parent}}function pi(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&mi(t,i,e.flags&n,r++),i+=e.childCount}return r}function mi(t,e,n,r){const i=qn(t,e);if(!i)return;const s=i.instance;s&&(Gn.setCurrentNode(t,e),1048576&n&&Vn(t,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&Vn(t,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const gi=new wt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Vt}),yi=void 0;var vi=["en",[["a","p"],["AM","PM"],yi],[["AM","PM"],yi,yi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yi,"{1} 'at' {0}",yi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let _i={};function bi(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=wi(e);if(n)return n;const r=e.split("-")[0];if(n=wi(r),n)return n;if("en"===r)return vi;throw new Error(`Missing locale data for the locale "${t}".`)}function wi(t){return t in _i||(_i[t]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[t]),_i[t]}const Ei=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();class Ti extends T{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof h&&t.add(o),o}}function Ci(){return this._results[Be()]()}class Si{constructor(){this.dirty=!0,this._results=[],this.changes=new Ti,this.length=0;const t=Be(),e=Si.prototype;e[t]||(e[t]=Ci)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Ii=new wt("Application Initializer");class xi{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ke(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Ni=new wt("AppId");function ki(){return`${Ai()}${Ai()}${Ai()}`}function Ai(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Di=new wt("Platform Initializer"),Oi=new wt("Platform ID"),Ri=new wt("appBootstrapListener");class Pi{log(t){console.log(t)}warn(t){console.warn(t)}}const Fi=new wt("LocaleId"),Mi=new wt("DefaultCurrencyCode");function Li(){throw new Error("Runtime compiler is not loaded")}const Vi=Li,Ui=Li,ji=Li,qi=Li;class Bi{constructor(){this.compileModuleSync=Vi,this.compileModuleAsync=Ui,this.compileModuleAndAllComponentsSync=ji,this.compileModuleAndAllComponentsAsync=qi}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class zi{}const Gi=(()=>Promise.resolve(0))();function Hi(t){"undefined"==typeof Zone?Gi.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Wi{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ti(!1),this.onMicrotaskEmpty=new Ti(!1),this.onStable=new Ti(!1),this.onError=new Ti(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=bt.requestAnimationFrame,e=bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(bt,()=>{t.lastRequestAnimationFrameId=-1,Yi(t),Qi(t)}),Yi(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Zi(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Ji(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Zi(t),e.invoke(r,i,s,o,a)}finally{Ji(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Yi(t),Qi(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ki,$i,$i);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function $i(){}const Ki={};function Qi(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yi(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Zi(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ji(t){t._nesting--,Qi(t)}class Xi{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ti,this.onMicrotaskEmpty=new Ti,this.onStable=new Ti,this.onError=new Ti}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}class ts{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wi.assertNotInAngularZone(),Hi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hi(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class es{constructor(){this._applications=new Map,is.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return is.findTestabilityInTree(this,t,e)}}class ns{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let rs,is=new ns;const ss=new wt("AllowMultipleToken");class os{constructor(t,e){this.name=t,this.token=e}}function as(t,e,n=[]){const r=`Platform: ${e}`,i=new wt(r);return(e=[])=>{let s=ls();if(!s||s.injector.get(ss,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ae,useValue:"platform"});!function(t){if(rs&&!rs.destroyed&&!rs.injector.get(ss,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");rs=t.get(us);const e=t.get(Di,null);e&&e.forEach(t=>t())}(Oe.create({providers:t,name:r}))}return function(t){const e=ls();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ls(){return rs&&!rs.destroyed?rs:null}class us{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Xi:("zone.js"===t?void 0:t)||new Wi({enableLongStackTrace:te(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Wi,useValue:n}];return n.run(()=>{const e=Oe.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Bt,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>ds(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Ke(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(xi);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=cs({},e);return function(t,e,n){return t.get(zi).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(hs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${dt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function cs(t,e){return Array.isArray(e)?e.reduce(cs,t):Object.assign(Object.assign({},t),e)}class hs{constructor(t,e,n,r,i,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=te(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Wi.assertNotInAngularZone(),Hi(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Wi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=H(o,a.pipe(X()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ze?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof rn?void 0:this._injector.get(Ot),i=n.create(Oe.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(ts,null);return s&&i.injector.get(es).registerApplication(i.location.nativeElement,s),this._loadComponent(i),te()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ds(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ri,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ds(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}function ds(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fs{constructor(t,e){this.name=t,this.callback=e}}class ps{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof ms&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ms extends ps{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof ms&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof ms&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof ms&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof ms)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const gs=new Map;function ys(t){return gs.get(t)||null}const vs=ys;function _s(t){gs.set(t.nativeNode,t)}const bs=as(null,"core",[{provide:Oi,useValue:"unknown"},{provide:us,deps:[Oe]},{provide:es,deps:[]},{provide:Pi,deps:[]}]);function ws(){return Nn}function Es(){return kn}function Ts(t){return t||"en-US"}function Cs(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class Ss{constructor(t){}}function Is(t,e,n,r,i,s){t|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=ur(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?fr(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Hn},provider:null,text:null,query:null,ngContent:null}}function xs(t,e,n,r,i,s,o=[],a,l,u,c,h){u||(u=Hn);const{matchedQueries:d,references:f,matchedQueryIds:p}=ur(n);let m=null,g=null;s&&([m,g]=br(s)),a=a||[];const y=[];for(let b=0;b<a.length;b++){const[t,e,n]=a[b],[r,i]=br(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}y[b]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}l=l||[];const v=[];for(let b=0;b<l.length;b++){const[t,e]=l[b];v[b]={type:0,target:t,eventName:e,propName:null}}const _=(o=o||[]).map(([t,e])=>{const[n,r]=br(t);return[n,r,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==Mt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Qn++}`:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:wr(y),outputs:v,element:{ns:m,name:g,attrs:_,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Hn},provider:null,text:null,query:null,ngContent:null}}function Ns(t,e,n){const r=n.element,i=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=hr(t,e,n);i&&s.appendChild(i,o)}else o=s.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Mt.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];s.setAttribute(o,e,n,t)}return o}function ks(t,e,n,r){for(let i=0;i<n.outputs.length;i++){const s=n.outputs[i],o=As(t,n.nodeIndex,sr(s.target,s.eventName));let a=s.target,l=t;"component"===s.target&&(a=null,l=e);const u=l.renderer.listen(a||r,s.eventName,o);t.disposables[n.outputIndex+i]=u}}function As(t,e,n){return r=>er(t,e,n,r)}function Ds(t,e,n,r){if(!Zn(t,e,n,r))return!1;const i=e.bindings[n],s=jn(t,e.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,s){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=t.renderer;null!=s?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(t,i,o,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,o,a,r);break;case 4:!function(t,e,n,r,i){let s=t.root.sanitizer.sanitize(Ee.STYLE,i);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(t,i,o,a,r);break;case 8:!function(t,e,n,r,i){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,i):i;t.renderer.setProperty(n,r,o)}(33554432&e.flags&&32&i.flags?s.componentView:t,i,o,a,r)}return!0}function Os(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:lr(e),bindings:r},ngContent:null}}function Rs(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&ar(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&zn(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&zn(t,n).setDirty(),n+=e.childCount}}function Ps(t,e){const n=zn(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Fs(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=qn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Fs(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const s=e.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const t=s[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}r[t.propName]=e}o&&n.notifyOnChanges()}function Fs(t,e,n,r,i){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[r.id];if(null!=n&&i.push(Ms(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=jn(t,s);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Fs(t,s+1,s+e.childCount,r,i),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=nr(s);o&&o===n&&Fs(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];Fs(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(s+=e.childCount)}return i}function Ms(t,e,n){if(null!=n)switch(n){case 1:return jn(t,e.nodeIndex).renderElement;case 0:return new on(jn(t,e.nodeIndex).renderElement);case 2:return jn(t,e.nodeIndex).template;case 3:return jn(t,e.nodeIndex).viewContainer;case 4:return qn(t,e.nodeIndex).instance}}function Ls(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Vs(t,e,n){const r=hr(t,e,n);r&&gr(t,n.ngContent.index,1,r,null,void 0)}function Us(t,e){const n=Object.keys(e),r=n.length,i=[];for(let s=0;s<r;s++)i.push(n[s]);return js(64,t,i)}function js(t,e,n){const r=[];for(let i=0;i<n.length;i++){const t=n[i];r.push({flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:wr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function qs(t,e,n){const r=[];for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Bs(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const s=hr(t,e,n);return s&&i.appendChild(s,r),{renderText:r}}function zs(t,e){return(null!=t?t.toString():"")+e.suffix}function Gs(t,e,n,r){let i=0,s=0,o=0,a=0,l=0,u=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=u,t.bindingIndex=i,t.outputIndex=s,t.renderParent=c,o|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(Ws(u,t,e.length),i+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[$n(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[$n(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,Hs(t)||(c=t);else for(;u&&p===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),u=t,c=u&&Hs(u)?u.renderParent:u}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Hn,updateRenderer:r||Hn,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:f}}function Hs(t){return 0!=(1&t.flags)&&null===t.element.name}function Ws(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function $s(t,e,n,r){const i=Ys(t.root,t.renderer,t,e,n);return Zs(i,t.component,r),Js(i),i}function Ks(t,e,n){const r=Ys(t,t.renderer,null,null,e);return Zs(r,n,n),Js(r),r}function Qs(t,e,n,r){const i=e.element.componentRendererType;let s;return s=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Ys(t.root,s,t,e.element.componentProvider,n)}function Ys(t,e,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function Zs(t,e,n){t.component=e,t.context=n}function Js(t){let e;or(t)&&(e=jn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];let o;switch(Gn.setCurrentNode(t,i),201347067&s.flags){case 1:const n=Ns(t,e,s);let a=void 0;if(33554432&s.flags){const e=fr(s.element.componentView);a=Gn.createComponentView(t,s,e,n)}ks(t,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?jr(t,s):void 0},16777216&s.flags&&(o.viewContainer=Mr(t,s,o));break;case 2:o=Bs(t,e,s);break;case 512:case 1024:case 2048:case 256:o=r[i],o||4096&s.flags||(o={instance:ri(t,s)});break;case 16:o={instance:ii(t,s)};break;case 16384:o=r[i],o||(o={instance:si(t,s)}),32768&s.flags&&Zs(jn(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Si;break;case 8:Vs(t,e,s),o=void 0}r[i]=o}ao(t,oo.CreateViewNodes),ho(t,201326592,268435456,0)}function Xs(t){no(t),Gn.updateDirectives(t,1),lo(t,oo.CheckNoChanges),Gn.updateRenderer(t,1),ao(t,oo.CheckNoChanges),t.state&=-97}function to(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Ln(t,0,256),no(t),Gn.updateDirectives(t,0),lo(t,oo.CheckAndUpdate),ho(t,67108864,536870912,0);let e=Ln(t,256,512);fi(t,2097152|(e?1048576:0)),Gn.updateRenderer(t,0),ao(t,oo.CheckAndUpdate),ho(t,134217728,536870912,0),e=Ln(t,512,768),fi(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Ln(t,768,1024)}function eo(t,e,n,r,i,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,s,o,a,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings.length;let f=!1;return d>0&&Ds(t,e,0,n)&&(f=!0),d>1&&Ds(t,e,1,r)&&(f=!0),d>2&&Ds(t,e,2,i)&&(f=!0),d>3&&Ds(t,e,3,s)&&(f=!0),d>4&&Ds(t,e,4,o)&&(f=!0),d>5&&Ds(t,e,5,a)&&(f=!0),d>6&&Ds(t,e,6,l)&&(f=!0),d>7&&Ds(t,e,7,u)&&(f=!0),d>8&&Ds(t,e,8,c)&&(f=!0),d>9&&Ds(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,s,o,a,l,u,c,h);case 2:return function(t,e,n,r,i,s,o,a,l,u,c,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&Zn(t,e,0,n)&&(d=!0),p>1&&Zn(t,e,1,r)&&(d=!0),p>2&&Zn(t,e,2,i)&&(d=!0),p>3&&Zn(t,e,3,s)&&(d=!0),p>4&&Zn(t,e,4,o)&&(d=!0),p>5&&Zn(t,e,5,a)&&(d=!0),p>6&&Zn(t,e,6,l)&&(d=!0),p>7&&Zn(t,e,7,u)&&(d=!0),p>8&&Zn(t,e,8,c)&&(d=!0),p>9&&Zn(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=zs(n,f[0])),p>1&&(d+=zs(r,f[1])),p>2&&(d+=zs(i,f[2])),p>3&&(d+=zs(s,f[3])),p>4&&(d+=zs(o,f[4])),p>5&&(d+=zs(a,f[5])),p>6&&(d+=zs(l,f[6])),p>7&&(d+=zs(u,f[7])),p>8&&(d+=zs(c,f[8])),p>9&&(d+=zs(h,f[9]));const m=Un(t,e.nodeIndex).renderText;t.renderer.setValue(m,d)}return d}(t,e,n,r,i,s,o,a,l,u,c,h);case 16384:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=qn(t,e.nodeIndex),f=d.instance;let p=!1,m=void 0;const g=e.bindings.length;return g>0&&Yn(t,e,0,n)&&(p=!0,m=di(t,d,e,0,n,m)),g>1&&Yn(t,e,1,r)&&(p=!0,m=di(t,d,e,1,r,m)),g>2&&Yn(t,e,2,i)&&(p=!0,m=di(t,d,e,2,i,m)),g>3&&Yn(t,e,3,s)&&(p=!0,m=di(t,d,e,3,s,m)),g>4&&Yn(t,e,4,o)&&(p=!0,m=di(t,d,e,4,o,m)),g>5&&Yn(t,e,5,a)&&(p=!0,m=di(t,d,e,5,a,m)),g>6&&Yn(t,e,6,l)&&(p=!0,m=di(t,d,e,6,l,m)),g>7&&Yn(t,e,7,u)&&(p=!0,m=di(t,d,e,7,u,m)),g>8&&Yn(t,e,8,c)&&(p=!0,m=di(t,d,e,8,c,m)),g>9&&Yn(t,e,9,h)&&(p=!0,m=di(t,d,e,9,h,m)),m&&f.ngOnChanges(m),65536&e.flags&&Vn(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,s,o,a,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&Zn(t,e,0,n)&&(f=!0),p>1&&Zn(t,e,1,r)&&(f=!0),p>2&&Zn(t,e,2,i)&&(f=!0),p>3&&Zn(t,e,3,s)&&(f=!0),p>4&&Zn(t,e,4,o)&&(f=!0),p>5&&Zn(t,e,5,a)&&(f=!0),p>6&&Zn(t,e,6,l)&&(f=!0),p>7&&Zn(t,e,7,u)&&(f=!0),p>8&&Zn(t,e,8,c)&&(f=!0),p>9&&Zn(t,e,9,h)&&(f=!0),f){const f=Bn(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=[],p>0&&m.push(n),p>1&&m.push(r),p>2&&m.push(i),p>3&&m.push(s),p>4&&m.push(o),p>5&&m.push(a),p>6&&m.push(l),p>7&&m.push(u),p>8&&m.push(c),p>9&&m.push(h);break;case 64:m={},p>0&&(m[d[0].name]=n),p>1&&(m[d[1].name]=r),p>2&&(m[d[2].name]=i),p>3&&(m[d[3].name]=s),p>4&&(m[d[4].name]=o),p>5&&(m[d[5].name]=a),p>6&&(m[d[6].name]=l),p>7&&(m[d[7].name]=u),p>8&&(m[d[8].name]=c),p>9&&(m[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:m=t.transform(n);break;case 2:m=t.transform(r);break;case 3:m=t.transform(r,i);break;case 4:m=t.transform(r,i,s);break;case 5:m=t.transform(r,i,s,o);break;case 6:m=t.transform(r,i,s,o,a);break;case 7:m=t.transform(r,i,s,o,a,l);break;case 8:m=t.transform(r,i,s,o,a,l,u);break;case 9:m=t.transform(r,i,s,o,a,l,u,c);break;case 10:m=t.transform(r,i,s,o,a,l,u,c,h)}}f.value=m}return f}(t,e,n,r,i,s,o,a,l,u,c,h);default:throw"unreachable"}}(t,e,r,i,s,o,a,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Ds(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)Zn(t,e,s,n[s])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=zs(n[t],r[t]);i=e.text.prefix+i;const s=Un(t,e.nodeIndex).renderText;t.renderer.setValue(s,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=qn(t,e.nodeIndex),i=r.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)Yn(t,e,a,n[a])&&(s=!0,o=di(t,r,e,a,n[a],o));return o&&i.ngOnChanges(o),65536&e.flags&&Vn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)Zn(t,e,s,n[s])&&(i=!0);if(i){const i=Bn(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);s=t.transform(...e)}i.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function no(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=jn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,tr(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ro(t,e,n,r,i,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings.length;d>0&&Jn(t,e,0,n),d>1&&Jn(t,e,1,r),d>2&&Jn(t,e,2,i),d>3&&Jn(t,e,3,s),d>4&&Jn(t,e,4,o),d>5&&Jn(t,e,5,a),d>6&&Jn(t,e,6,l),d>7&&Jn(t,e,7,u),d>8&&Jn(t,e,8,c),d>9&&Jn(t,e,9,h)}(t,e,r,i,s,o,a,l,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)Jn(t,e,r,n[r])}(t,e,r),!1}function io(t,e){if(zn(t,e.nodeIndex).dirty)throw Pn(Gn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function so(t){if(!(128&t.state)){if(lo(t,oo.Destroy),ao(t,oo.Destroy),fi(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=nr(t);if(e){const n=e.template._projectedViews;n&&(Pt(n,n.indexOf(t)),Gn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(jn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Un(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&zn(t,n).destroy()}}(t),or(t)&&t.renderer.destroy(),t.state|=128}}const oo=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ao(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?uo(jn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function lo(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=jn(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)uo(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function uo(t,e){const n=t.state;switch(e){case oo.CheckNoChanges:0==(128&n)&&(12==(12&n)?Xs(t):64&n&&co(t,oo.CheckNoChangesProjectedViews));break;case oo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Xs(t):64&n&&co(t,e));break;case oo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?to(t):64&n&&co(t,oo.CheckAndUpdateProjectedViews));break;case oo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?to(t):64&n&&co(t,e));break;case oo.Destroy:so(t);break;case oo.CreateViewNodes:Js(t)}}function co(t,e){lo(t,e),ao(t,e)}function ho(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let s=0;s<i;s++){const i=t.def.nodes[s];if(i.flags&e&&i.flags&n)switch(Gn.setCurrentNode(t,i.nodeIndex),r){case 0:Ps(t,i);break;case 1:io(t,i)}i.childFlags&e&&i.childFlags&n||(s+=i.childCount)}}let fo=!1;function po(t,e,n,r,i,s){const o=i.injector.get(ln);return Ks(go(t,i,o,e,n),r,s)}function mo(t,e,n,r,i,s){const o=i.injector.get(ln),a=go(t,i,new Ko(o),e,n),l=Io(r);return Wo(Oo.create,Ks,null,[a,l,s])}function go(t,e,n,r,i){const s=e.injector.get(dn),o=e.injector.get(Bt),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function yo(t,e,n,r){const i=Io(n);return Wo(Oo.create,$s,null,[t,e,i,r])}function vo(t,e,n,r){return n=Eo.get(e.element.componentProvider.provider.token)||Io(n),Wo(Oo.create,Qs,null,[t,e,n,r])}function _o(t,e,n,r){return Hr(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===bo.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=bo.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{wo.forEach((r,i)=>{lt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=bo.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=cr(i.deps),r.value=i.value)}if(wo.size>0){let e=new Set(t.modules);wo.forEach((r,i)=>{if(e.has(lt(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:cr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[$n(i)]=e}})}}(t=t.factory(()=>Hn)),t):t}(r))}const bo=new Map,wo=new Map,Eo=new Map;function To(t){let e;bo.set(t.token,t),"function"==typeof t.token&&(e=lt(t.token))&&"function"==typeof e.providedIn&&wo.set(t.token,t)}function Co(t,e){const n=fr(e.viewDefFactory),r=fr(n.nodes[0].element.componentView);Eo.set(t,r)}function So(){bo.clear(),wo.clear(),Eo.clear()}function Io(t){if(0===bo.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&bo.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Hn);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=bo.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=cr(n.deps),t.value=n.value)}}}}function xo(t,e,n,r,i,s,o,a,l,u,c,h,d){const f=t.def.nodes[e];return eo(t,f,n,r,i,s,o,a,l,u,c,h,d),224&f.flags?Bn(t,e).value:void 0}function No(t,e,n,r,i,s,o,a,l,u,c,h,d){const f=t.def.nodes[e];return ro(t,f,n,r,i,s,o,a,l,u,c,h,d),224&f.flags?Bn(t,e).value:void 0}function ko(t){return Wo(Oo.detectChanges,to,null,[t])}function Ao(t){return Wo(Oo.checkNoChanges,Xs,null,[t])}function Do(t){return Wo(Oo.destroy,so,null,[t])}const Oo=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Ro,Po,Fo;function Mo(t,e){Po=t,Fo=e}function Lo(t,e,n,r){return Mo(t,e),Wo(Oo.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Vo(t,e){if(128&t.state)throw Mn(Oo[Ro]);return Mo(t,Bo(t,0)),t.def.updateDirectives((function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?jo(t,s,r,i):qo(t,s,r,i),16384&s.flags&&Mo(t,Bo(t,n)),224&s.flags?Bn(t,s.nodeIndex).value:void 0}),t)}function Uo(t,e){if(128&t.state)throw Mn(Oo[Ro]);return Mo(t,zo(t,0)),t.def.updateRenderer((function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?jo(t,s,r,i):qo(t,s,r,i),3&s.flags&&Mo(t,zo(t,n)),224&s.flags?Bn(t,s.nodeIndex).value:void 0}),t)}function jo(t,e,n,r){if(eo(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],s=i[t];8&r.flags&&(n[Se(r.nonMinifiedName)]=xe(s))}const r=e.parent,s=jn(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(s,e,r):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,`bindings=${JSON.stringify(n,null,2)}`)}}}function qo(t,e,n,r){ro(t,e,n,...r)}function Bo(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function zo(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Go{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=rr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return jn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Br(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Ho(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Ho(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!or(t);)t=t.parent;return t.parent?jn(t.parent,rr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?ir(this.view,this.nodeDef):ir(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let s=-1;n.factory(()=>(s++,s===i?t.error.bind(t,...e):Hn)),s<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Ho(t,e,n){for(let r in e.references)n[r]=Ms(t,e,e.references[r])}function Wo(t,e,n,r){const i=Ro,s=Po,o=Fo;try{Ro=t;const a=e.apply(n,r);return Po=s,Fo=o,Ro=i,a}catch(a){if(Ut(a)||!Po)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Fn(t,e),t}(a,$o())}}function $o(){return Po?new Go(Po,Fo):null}class Ko{constructor(t){this.delegate=t}createRenderer(t,e){return new Qo(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Qo{constructor(t){this.delegate=t,this.debugContextFactory=$o,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=vs(t);!function(t){gs.delete(t.nativeNode)}(e),e instanceof ps&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new ms(n,null,r);e.name=t,_s(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&_s(new ps(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&_s(new ps(e,null,n)),e}appendChild(t,e){const n=vs(t),r=vs(e);n&&r&&n instanceof ms&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=vs(t),i=vs(e),s=vs(n);r&&i&&r instanceof ms&&r.insertBefore(s,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=vs(t),r=vs(e);n&&r&&n instanceof ms&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=$o();return r&&_s(new ms(n,null,r)),n}setAttribute(t,e,n,r){const i=vs(t);i&&i instanceof ms&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=vs(t);r&&r instanceof ms&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=vs(t);n&&n instanceof ms&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=vs(t);n&&n instanceof ms&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=vs(t);i&&i instanceof ms&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=vs(t);r&&r instanceof ms&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=vs(t);r&&r instanceof ms&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=vs(t);r&&r.listeners.push(new fs(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Yo(t,e,n){return new Zo(t,e,n)}class Zo extends class{}{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(fo)return;fo=!0;const t=te()?{setCurrentNode:Mo,createRootView:mo,createEmbeddedView:yo,createComponentView:vo,createNgModuleRef:_o,overrideProvider:To,overrideComponentView:Co,clearOverrides:So,checkAndUpdateView:ko,checkNoChangesView:Ao,destroyView:Do,createDebugContext:(t,e)=>new Go(t,e),handleEvent:Lo,updateDirectives:Vo,updateRenderer:Uo}:{setCurrentNode:()=>{},createRootView:po,createEmbeddedView:$s,createComponentView:Qs,createNgModuleRef:Hr,overrideProvider:Hn,overrideComponentView:Hn,clearOverrides:Hn,checkAndUpdateView:to,checkNoChangesView:Xs,destroyView:so,createDebugContext:(t,e)=>new Go(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?xo:No,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?xo:No,t)};Gn.setCurrentNode=t.setCurrentNode,Gn.createRootView=t.createRootView,Gn.createEmbeddedView=t.createEmbeddedView,Gn.createComponentView=t.createComponentView,Gn.createNgModuleRef=t.createNgModuleRef,Gn.overrideProvider=t.overrideProvider,Gn.overrideComponentView=t.overrideComponentView,Gn.clearOverrides=t.clearOverrides,Gn.checkAndUpdateView=t.checkAndUpdateView,Gn.checkNoChangesView=t.checkNoChangesView,Gn.destroyView=t.destroyView,Gn.resolveDep=ci,Gn.createDebugContext=t.createDebugContext,Gn.handleEvent=t.handleEvent,Gn.updateDirectives=t.updateDirectives,Gn.updateRenderer=t.updateRenderer,Gn.dirtyParentQueries=Rs}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,scope:t.scope,providers:e,modules:n,providersByKey:r}}(fr(this._ngModuleDefFactory));return Gn.createNgModuleRef(this.moduleType,t||Oe.NULL,this._bootstrapComponents,e)}}class Jo{}let Xo=null;function ta(){return Xo}const ea=new wt("DocumentToken"),na=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),ra=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),ia=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),sa=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),oa=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function aa(t,e){return da(bi(t)[Ei.DateFormat],e)}function la(t,e){return da(bi(t)[Ei.TimeFormat],e)}function ua(t,e){return da(bi(t)[Ei.DateTimeFormat],e)}function ca(t,e){const n=bi(t),r=n[Ei.NumberSymbols][e];if(void 0===r){if(e===oa.CurrencyDecimal)return n[Ei.NumberSymbols][oa.Decimal];if(e===oa.CurrencyGroup)return n[Ei.NumberSymbols][oa.Group]}return r}function ha(t){if(!t[Ei.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ei.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function da(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function fa(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const pa=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ma={},ga=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ya=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),va=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),_a=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function ba(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function wa(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function Ea(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case va.FullYear:return e.getFullYear();case va.Month:return e.getMonth();case va.Date:return e.getDate();case va.Hours:return e.getHours();case va.Minutes:return e.getMinutes();case va.Seconds:return e.getSeconds();case va.FractionalSeconds:return e.getMilliseconds();case va.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===va.Hours)0===a&&-12===n&&(a=12);else if(t===va.FractionalSeconds)return l=e,wa(a,3).substr(0,l);var l;const u=ca(o,oa.MinusSign);return wa(a,e,u,r,i)}}function Ta(t,e,n=ra.Format,r=!1){return function(i,s){return function(t,e,n,r,i,s){switch(n){case _a.Months:return function(t,e,n){const r=bi(t),i=da([r[Ei.MonthsFormat],r[Ei.MonthsStandalone]],e);return da(i,n)}(e,i,r)[t.getMonth()];case _a.Days:return function(t,e,n){const r=bi(t),i=da([r[Ei.DaysFormat],r[Ei.DaysStandalone]],e);return da(i,n)}(e,i,r)[t.getDay()];case _a.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const t=function(t){const e=bi(t);return ha(e),(e[Ei.ExtraData][2]||[]).map(t=>"string"==typeof t?fa(t):[fa(t[0]),fa(t[1])])}(e),n=function(t,e,n){const r=bi(t);ha(r);const i=da([r[Ei.ExtraData][0],r[Ei.ExtraData][1]],e)||[];return da(i,n)||[]}(e,i,r);let s;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:l,minutes:u}=t[1];o>=r&&a>=i&&(o<l||o===l&&a<u)&&(s=n[e])}else{const{hours:r,minutes:i}=t;r===o&&i===a&&(s=n[e])}}),s)return s}return function(t,e,n){const r=bi(t),i=da([r[Ei.DayPeriodsFormat],r[Ei.DayPeriodsStandalone]],e);return da(i,n)}(e,i,r)[o<12?0:1];case _a.Eras:return function(t,e){return da(bi(t)[Ei.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function Ca(t){return function(e,n,r){const i=-1*r,s=ca(n,oa.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ya.Short:return(i>=0?"+":"")+wa(o,2,s)+wa(Math.abs(i%60),2,s);case ya.ShortGMT:return"GMT"+(i>=0?"+":"")+wa(o,1,s);case ya.Long:return"GMT"+(i>=0?"+":"")+wa(o,2,s)+":"+wa(Math.abs(i%60),2,s);case ya.Extended:return 0===r?"Z":(i>=0?"+":"")+wa(o,2,s)+":"+wa(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Sa(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var s;return wa(i,t,ca(r,oa.MinusSign))}}const Ia={};function xa(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Na(t){return t instanceof Date&&!isNaN(t.valueOf())}class ka{}class Aa extends ka{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return bi(t)[Ei.PluralCase]}(e||this.locale)(t)){case na.Zero:return"zero";case na.One:return"one";case na.Two:return"two";case na.Few:return"few";case na.Many:return"many";default:return"other"}}}function Da(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class Oa{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Ra{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){te()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Oa(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Pa(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new Pa(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class Pa{constructor(t,e){this.record=t,this.view=e}}class Fa{constructor(t,e){this._viewContainer=t,this._context=new Ma,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){La("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){La("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}class Ma{constructor(){this.$implicit=null,this.ngIf=null}}function La(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${dt(e)}'.`)}class Va{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class Ua{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class ja{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Va(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class qa{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}class Ba{constructor(t){this.locale=t}transform(t,e="mediumDate",n,r){if(null==t||""===t||t!=t)return null;try{return function(t,e,n,r){let i=function(t){if(Na(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(pa))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,u),e}(n)}const e=new Date(t);if(!Na(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return bi(t)[Ei.LocaleId]}(e);if(ma[r]=ma[r]||{},ma[r][n])return ma[r][n];let i="";switch(n){case"shortDate":i=aa(e,sa.Short);break;case"mediumDate":i=aa(e,sa.Medium);break;case"longDate":i=aa(e,sa.Long);break;case"fullDate":i=aa(e,sa.Full);break;case"shortTime":i=la(e,sa.Short);break;case"mediumTime":i=la(e,sa.Medium);break;case"longTime":i=la(e,sa.Long);break;case"fullTime":i=la(e,sa.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=ba(ua(e,sa.Short),[n,r]);break;case"medium":const s=t(e,"mediumTime"),o=t(e,"mediumDate");i=ba(ua(e,sa.Medium),[s,o]);break;case"long":const a=t(e,"longTime"),l=t(e,"longDate");i=ba(ua(e,sa.Long),[a,l]);break;case"full":const u=t(e,"fullTime"),c=t(e,"fullDate");i=ba(ua(e,sa.Full),[u,c])}return i&&(ma[r][n]=i),i}(n,e)||e;let s,o=[];for(;e;){if(s=ga.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=xa(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(xa(e,r)-r))}(i,r));let l="";return o.forEach(t=>{const e=function(t){if(Ia[t])return Ia[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ta(_a.Eras,ia.Abbreviated);break;case"GGGG":e=Ta(_a.Eras,ia.Wide);break;case"GGGGG":e=Ta(_a.Eras,ia.Narrow);break;case"y":e=Ea(va.FullYear,1,0,!1,!0);break;case"yy":e=Ea(va.FullYear,2,0,!0,!0);break;case"yyy":e=Ea(va.FullYear,3,0,!1,!0);break;case"yyyy":e=Ea(va.FullYear,4,0,!1,!0);break;case"M":case"L":e=Ea(va.Month,1,1);break;case"MM":case"LL":e=Ea(va.Month,2,1);break;case"MMM":e=Ta(_a.Months,ia.Abbreviated);break;case"MMMM":e=Ta(_a.Months,ia.Wide);break;case"MMMMM":e=Ta(_a.Months,ia.Narrow);break;case"LLL":e=Ta(_a.Months,ia.Abbreviated,ra.Standalone);break;case"LLLL":e=Ta(_a.Months,ia.Wide,ra.Standalone);break;case"LLLLL":e=Ta(_a.Months,ia.Narrow,ra.Standalone);break;case"w":e=Sa(1);break;case"ww":e=Sa(2);break;case"W":e=Sa(1,!0);break;case"d":e=Ea(va.Date,1);break;case"dd":e=Ea(va.Date,2);break;case"E":case"EE":case"EEE":e=Ta(_a.Days,ia.Abbreviated);break;case"EEEE":e=Ta(_a.Days,ia.Wide);break;case"EEEEE":e=Ta(_a.Days,ia.Narrow);break;case"EEEEEE":e=Ta(_a.Days,ia.Short);break;case"a":case"aa":case"aaa":e=Ta(_a.DayPeriods,ia.Abbreviated);break;case"aaaa":e=Ta(_a.DayPeriods,ia.Wide);break;case"aaaaa":e=Ta(_a.DayPeriods,ia.Narrow);break;case"b":case"bb":case"bbb":e=Ta(_a.DayPeriods,ia.Abbreviated,ra.Standalone,!0);break;case"bbbb":e=Ta(_a.DayPeriods,ia.Wide,ra.Standalone,!0);break;case"bbbbb":e=Ta(_a.DayPeriods,ia.Narrow,ra.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ta(_a.DayPeriods,ia.Abbreviated,ra.Format,!0);break;case"BBBB":e=Ta(_a.DayPeriods,ia.Wide,ra.Format,!0);break;case"BBBBB":e=Ta(_a.DayPeriods,ia.Narrow,ra.Format,!0);break;case"h":e=Ea(va.Hours,1,-12);break;case"hh":e=Ea(va.Hours,2,-12);break;case"H":e=Ea(va.Hours,1);break;case"HH":e=Ea(va.Hours,2);break;case"m":e=Ea(va.Minutes,1);break;case"mm":e=Ea(va.Minutes,2);break;case"s":e=Ea(va.Seconds,1);break;case"ss":e=Ea(va.Seconds,2);break;case"S":e=Ea(va.FractionalSeconds,1);break;case"SS":e=Ea(va.FractionalSeconds,2);break;case"SSS":e=Ea(va.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ca(ya.Short);break;case"ZZZZZ":e=Ca(ya.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ca(ya.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ca(ya.Long);break;default:return null}return Ia[t]=e,e}(t);l+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(t,e,r||this.locale,n)}catch(i){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${dt(t)}'`)}(Ba,i.message)}}}class za{}function Ga(...t){if(1===t.length){const e=t[0];if(l(e))return Ha(e,null);if(u(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ha(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ha(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(F(t=>e(...t)))}return Ha(t,null)}function Ha(t,e){return new v(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=U(t[a]);let u=!1;n.add(l.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Wa=new wt("NgValueAccessor"),$a=new wt("CompositionEventMode");class Ka{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=ta()?ta().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class Qa{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ya extends Qa{get formDirective(){return null}get path(){return null}}function Za(){throw new Error("unimplemented")}class Ja extends Qa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Za()}get asyncValidator(){return Za()}}class Xa extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}function tl(t){return null==t||0===t.length}const el=new wt("NgValidators"),nl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rl{static min(t){return e=>{if(tl(e.value)||tl(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(tl(e.value)||tl(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return tl(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return tl(t.value)?null:nl.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(tl(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return rl.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(tl(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(il);return 0==e.length?null:function(t){return ol(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(il);return 0==e.length?null:function(t){return Ga(function(t,e){return e.map(e=>e(t))}(t,e).map(sl)).pipe(F(ol))}}}function il(t){return null!=t}function sl(t){const e=Ke(t)?U(t):t;if(!Qe(e))throw new Error("Expected validator to return Promise or Observable.");return e}function ol(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function al(t){return t.validate?e=>t.validate(e):t}function ll(t){return t.validate?e=>t.validate(e):t}class ul{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const cl='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',hl='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',dl='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class fl{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${cl}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${hl}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${dl}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${cl}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${hl}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function pl(t,e){return[...e.path,t]}function ml(t,e){t||_l(e,"Cannot find control with"),e.valueAccessor||_l(e,"No value accessor for form control with"),t.validator=rl.compose([t.validator,e.validator]),t.asyncValidator=rl.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gl(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gl(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function gl(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function yl(t,e){null==t&&_l(e,"Cannot find control with"),t.validator=rl.compose([t.validator,e.validator]),t.asyncValidator=rl.composeAsync([t.asyncValidator,e.asyncValidator])}function vl(t){return _l(t,"There is no FormControl instance attached to form control element with")}function _l(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function bl(t){return null!=t?rl.compose(t.map(al)):null}function wl(t){return null!=t?rl.composeAsync(t.map(ll)):null}function El(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!ze(e,n.currentValue)}const Tl=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=ze}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=ze}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ja),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function Cl(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Sl(t,e){if(!e)return null;Array.isArray(e)||_l(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var s;e.constructor===Ka?n=e:(s=e,Tl.some(t=>s.constructor===t)?(r&&_l(t,"More than one built-in value accessor matches form control with"),r=e):(i&&_l(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(_l(t,"No valid value accessor for form control with"),null)}function Il(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function xl(t){const e=kl(t)?t.validators:t;return Array.isArray(e)?bl(e):e||null}function Nl(t,e){const n=kl(e)?e.asyncValidators:t;return Array.isArray(n)?wl(n):n||null}function kl(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Al{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=xl(t)}setAsyncValidators(t){this.asyncValidator=Nl(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=sl(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ol?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Rl&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ti,this.statusChanges=new Ti}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){kl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Dl extends Al{constructor(t=null,e,n){super(xl(e),Nl(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ol extends Al{constructor(t,e,n){super(xl(e),Nl(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Dl?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Rl extends Al{constructor(t,e,n){super(xl(e),Nl(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Dl?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Pl=(()=>Promise.resolve(null))();class Fl extends Ya{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ti,this.form=new Ol({},bl(t),wl(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Pl.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),ml(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Pl.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Il(this._directives,t)})}addFormGroup(t){Pl.then(()=>{const e=this._findContainer(t.path),n=new Ol({});yl(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Pl.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Pl.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Cl(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class Ml extends Ya{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return pl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return bl(this._validators)}get asyncValidator(){return wl(this._asyncValidators)}_checkParentType(){}}class Ll{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${cl}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${hl}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${dl}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${hl}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${dl}`)}}class Vl extends Ml{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof Vl||this._parent instanceof Fl||Ll.modelGroupParentException()}}const Ul=(()=>Promise.resolve(null))();class jl extends Ja{constructor(t,e,n,r){super(),this.control=new Dl,this._registered=!1,this.update=new Ti,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Sl(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),El(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?pl(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return bl(this._rawValidators)}get asyncValidator(){return wl(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ml(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Vl)&&this._parent instanceof Ml?Ll.formGroupNameException():this._parent instanceof Vl||this._parent instanceof Fl||Ll.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ll.missingNameException()}_updateValue(t){Ul.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ul.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}const ql=new wt("NgModelWithFormControlWarning");let Bl=(()=>{class t extends Ja{constructor(t,e,n,r){super(),this._ngModelWarningConfig=r,this.update=new Ti,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=Sl(this,n)}set isDisabled(t){fl.disabledAttrWarning()}ngOnChanges(e){var n,r,i;this._isControlChanged(e)&&(ml(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),El(e,this.viewModel)&&(n=t,r=this,i=this._ngModelWarningConfig,te()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||r._ngModelWarningSent)||(fl.ngModelWarning("formControl"),n._ngModelWarningSentOnce=!0,r._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return bl(this._rawValidators)}get asyncValidator(){return wl(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t})();class zl extends Ya{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Ti}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ml(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Il(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);yl(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);yl(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Cl(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>vl(e)),e.valueAccessor.registerOnTouched(()=>vl(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&ml(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=bl(this._validators);this.form.validator=rl.compose([this.form.validator,t]);const e=wl(this._asyncValidators);this.form.asyncValidator=rl.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||fl.missingFormException()}}class Gl{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?rl.required(t):null}registerOnValidatorChange(t){this._onChange=t}}class Hl{}class Wl{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Ol(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new Dl(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Rl(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Dl||t instanceof Ol||t instanceof Rl?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class $l{}class Kl{static withConfig(t){return{ngModule:Kl,providers:[{provide:ql,useValue:t.warnOnNgModelWithFormControl}]}}}class Ql{constructor(t,e){this._noteD=t,this.http=e,this.title="Noted",this.noteTitle=new Dl("",[rl.required]),this.noteList=[],this._url="http://localhost:3000/records",this.hideDiv=!0,this.selectedId=null,this.success="",this.titleNote="",this.description="",this.titleNoteE="",this.descriptionE="",this.errorMsg="",this.titleErr=!1,this.mobile=!1,this.divHide=!1}ngOnInit(){this.getNote(),console.log(window.screen.width),window.screen.width<=576?(this.mobile=!0,this.divHide=!1):(this.mobile=!1,this.divHide=!0)}toggleNotes(){this.divHide=!this.divHide}getError(){if(this.noteTitle.hasError("required"))return"You must enter a value"}getNote(){this._noteD.getNotes().subscribe(t=>{this.noteList=t,this.noteList.sort((t,e)=>e.favourite-t.favourite)},t=>this.errorMsg=t)}favoriteBtn(t){let e={};e=this.noteList.find(e=>e.id==t),e.favourite=!this.noteList.find(e=>e.id==t).favourite,this._noteD.updateNotes(e).subscribe(t=>{this.getNote()})}saveNote(){let t={};this.titleNote.trim(),this.description.trim(),this.titleNote?(t.id=Math.floor(1e3+2e3*Math.random()),t.title=this.titleNote,t.description=this.description,t.favourite=!1,t.created=Date.now(),this._noteD.setNotes(t).subscribe(t=>{this.success="Saved successfully!",this.getNote()},t=>this.errorMsg=t),this.titleNote=" ",this.description="",this.titleErr=!1):this.titleErr=!0}saveNoteE(){let t={};this.titleNoteE.trim(),this.descriptionE.trim(),this.titleNoteE?(t=this.noteList.find(t=>t.id==this.selectedId),t.title=this.titleNoteE,t.description=this.descriptionE,t.created=Date.now(),this._noteD.updateNotes(t).subscribe(t=>{this.success="Saved successfully!",this.getNote()},t=>this.errorMsg=t),this.titleErr=!1):this.titleErr=!0}newNote(){this.success="",this.hideDiv=!0}noteSelect(t){this.hideDiv=!1,this.success="";let e=this.noteList.find(e=>e.id==t);this.selectedId=t,this.titleNoteE=e.title,this.descriptionE=e.description}deleteN(t){this._noteD.deleteNote(t).subscribe(t=>{this.getNote()})}}class Yl{}class Zl{}class Jl{constructor(t){this._animationMode=t}}class Xl{}const tu=new wt("cdk-dir-doc",{providedIn:"root",factory:function(){return kt(ea)}});let eu=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Ti,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275prov=at({factory:function(){return new t(Nt(tu,8))},token:t,providedIn:"root"}),t})();class nu{}function ru(...t){let e=t[t.length-1];return S(e)?(t.pop(),V(t,e)):G(t)}function iu(){}function su(t,e,n){return function(r){return r.lift(new ou(t,e,n))}}class ou{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new au(t,this.nextOrObserver,this.error,this.complete))}}class au extends p{constructor(t,e,n,i){super(t),this._tapNext=iu,this._tapError=iu,this._tapComplete=iu,this._tapError=n||iu,this._tapComplete=i||iu,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||iu,this._tapError=e.error||iu,this._tapComplete=e.complete||iu)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class lu extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class uu extends lu{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let cu=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class hu extends cu{constructor(t,e=cu.now){super(t,()=>hu.delegate&&hu.delegate!==this?hu.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return hu.delegate&&hu.delegate!==this?hu.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const du=new hu(uu);class fu{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new pu(t,this.dueTime,this.scheduler))}}class pu extends p{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(mu,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function mu(t){t.debouncedNext()}function gu(t,e){return function(n){return n.lift(new yu(t,e))}}class yu{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new vu(t,this.predicate,this.thisArg))}}class vu extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const _u=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})(),bu=new v(t=>t.complete());function wu(t){return t?function(t){return new v(e=>t.schedule(()=>e.complete()))}(t):bu}function Eu(t){return e=>0===t?wu():e.lift(new Tu(t))}class Tu{constructor(t){if(this.total=t,this.total<0)throw new _u}call(t,e){return e.subscribe(new Cu(t,this.total))}}class Cu extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Su(t){return null!=t&&"false"!==`${t}`}function Iu(t){return t instanceof on?t.nativeElement:t}let xu;try{xu="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(mg){xu=!1}let Nu,ku=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xu)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275prov=at({factory:function(){return new t(Nt(Oi,8))},token:t,providedIn:"root"}),t})();class Au{}const Du=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ou(){if(Nu)return Nu;if("object"!=typeof document||!document)return Nu=new Set(Du),Nu;let t=document.createElement("input");return Nu=new Set(Du.filter(e=>(t.setAttribute("type",e),t.type===e))),Nu}let Ru;function Pu(t){return function(){if(null==Ru&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ru=!0}))}finally{Ru=Ru||!1}return Ru}()?t:!!t.capture}function Fu(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;const Mu=new wt("cdk-focus-monitor-default-options"),Lu=Pu({passive:!0,capture:!0});let Vu=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Fu(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._documentFocusAndBlurListener=t=>{const e="focus"===t.type?this._onFocus:this._onBlur;for(let n=t.target;n;n=n.parentElement)e.call(this,t,n)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return ru(null);const n=Iu(t);if(this._elementInfo.has(n)){const t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}const r={checkChildren:e,subject:new T};return this._elementInfo.set(n,r),this._incrementMonitoredElementCount(),r.subject.asObservable()}stopMonitoring(t){const e=Iu(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const r=Iu(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("focus",this._documentFocusAndBlurListener,Lu),t.addEventListener("blur",this._documentFocusAndBlurListener,Lu),t.addEventListener("keydown",this._documentKeydownListener,Lu),t.addEventListener("mousedown",this._documentMousedownListener,Lu),t.addEventListener("touchstart",this._documentTouchstartListener,Lu),e.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("focus",this._documentFocusAndBlurListener,Lu),t.removeEventListener("blur",this._documentFocusAndBlurListener,Lu),t.removeEventListener("keydown",this._documentKeydownListener,Lu),t.removeEventListener("mousedown",this._documentMousedownListener,Lu),t.removeEventListener("touchstart",this._documentTouchstartListener,Lu),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275prov=at({factory:function(){return new t(Nt(Wi),Nt(ku),Nt(ea,8),Nt(Mu,8))},token:t,providedIn:"root"}),t})(),Uu=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275prov=at({factory:function(){return new t(Nt(ku),Nt(ea))},token:t,providedIn:"root"}),t})();const ju=new fn("9.2.1");class qu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new qu,Xo||(Xo=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=zu||(zu=document.querySelector("base"),zu)?zu.getAttribute("href"):null;return null==e?null:(n=e,Bu||(Bu=document.createElement("a")),Bu.setAttribute("href",n),"/"===Bu.pathname.charAt(0)?Bu.pathname:"/"+Bu.pathname);var n}resetBaseElement(){zu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Da(document.cookie,t)}}let Bu,zu=null;const Gu=new wt("TRANSITION_ID"),Hu=[{provide:Ii,useFactory:function(t,e,n){return()=>{n.get(xi).donePromise.then(()=>{const n=ta();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Gu,ea,Oe],multi:!0}];class Wu{static init(){var t;t=new Wu,is=t}addToWindow(t){bt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},bt.getAllAngularTestabilities=()=>t.getAllTestabilities(),bt.getAllAngularRootElements=()=>t.getAllRootElements(),bt.frameworkStabilizers||(bt.frameworkStabilizers=[]),bt.frameworkStabilizers.push(t=>{const e=bt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?ta().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}function $u(t,e){"undefined"!=typeof COMPILED&&COMPILED||((bt.ng=bt.ng||{})[t]=e)}const Ku=(()=>({ApplicationRef:hs,NgZone:Wi}))();function Qu(t){return ys(t)}const Yu=new wt("EventManagerPlugins");class Zu{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class Ju{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=ta().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class Xu{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class tc extends Xu{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>ta().remove(t))}}const ec={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nc=/%COMP%/g;function rc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rc(t,i,n):(i=i.replace(nc,t),n.push(i))}return n}function ic(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class sc{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new oc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Mt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ac(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Mt.Native:case Mt.ShadowDom:return new lc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class oc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ec[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ec[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ec[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&un.DashCase?t.style.setProperty(e,n,r&un.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&un.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ic(n)):this.eventManager.addEventListener(t,e,ic(n))}}class ac extends oc{constructor(t,e,n,r){super(t),this.component=n;const i=rc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nc,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(nc,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class lc extends oc{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Mt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=rc(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}class uc extends Ju{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}const cc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},hc=new wt("HammerGestureConfig"),dc=new wt("HammerLoader");class fc{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class pc extends Ju{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!cc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),s=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,s),()=>{i.off(e,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const mc=["alt","control","meta","shift"],gc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class _c extends Ju{constructor(t){super(t)}supports(t){return null!=_c.parseEventName(t)}addEventListener(t,e,n){const r=_c.parseEventName(e),i=_c.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ta().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=_c._normalizeKey(e.pop());let i="";if(mc.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const s={};return s.domEventName=n,s.fullKey=i,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yc.hasOwnProperty(e)&&(e=yc[e]))}return gc[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),mc.forEach(r=>{r!=n&&(0,vc[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(t,e,n){return r=>{_c.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}let bc=(()=>{class t{}return t.\u0275prov=at({factory:function(){return Nt(wc)},token:t,providedIn:"root"}),t})(),wc=(()=>{class t extends bc{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Ee.NONE:return e;case Ee.HTML:return Yt(e,"HTML")?Qt(e):function(t,e){let n=null;try{be=be||new ee(t);let r=e?String(e):"";n=be.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=be.getInertBodyElement(r)}while(r!==s);const o=new ge,a=o.sanitizeChildren(we(n)||n);return te()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=we(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e));case Ee.STYLE:return Yt(e,"Style")?Qt(e):function(t){if(!(t=String(t).trim()))return"";const e=t.match(Ce);return e&&ie(e[1])===e[1]||t.match(Te)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(te()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e);case Ee.SCRIPT:if(Yt(e,"Script"))return Qt(e);throw new Error("unsafe value used in a script context");case Ee.URL:return Zt(e),Yt(e,"URL")?Qt(e):ie(String(e));case Ee.RESOURCE_URL:if(Yt(e,"ResourceURL"))return Qt(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new Gt(t)}bypassSecurityTrustStyle(t){return new Ht(t)}bypassSecurityTrustScript(t){return new Wt(t)}bypassSecurityTrustUrl(t){return new $t(t)}bypassSecurityTrustResourceUrl(t){return new Kt(t)}}return t.\u0275prov=at({factory:function(){return t=Nt(Et),new wc(t.get(ea));var t},token:t,providedIn:"root"}),t})();function Ec(){return new Bt}const Tc=as(bs,"browser",[{provide:Oi,useValue:"browser"},{provide:Di,useValue:function(){qu.makeCurrent(),Wu.init()},multi:!0},{provide:ea,useFactory:function(){return function(t){Lt=t}(document),document},deps:[]}]);class Cc{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:Cc,providers:[{provide:Ni,useValue:t.appId},{provide:Gu,useExisting:Ni},Hu]}}}function Sc(...t){return z(1)(ru(...t))}function Ic(...t){const e=t[t.length-1];return S(e)?(t.pop(),n=>Sc(t,n,e)):e=>Sc(t,e)}"undefined"!=typeof window&&window;const xc=new fn("9.2.1"),Nc=new wt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class kc{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return te()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&xc.full!==ju.full&&console.warn("The Angular Material version ("+xc.full+") does not match the Angular CDK version ("+ju.full+").\nPlease ensure the versions of these two packages exactly match.")}}function Ac(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Su(t)}}}function Dc(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function Oc(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Su(t)}}}function Rc(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new T}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}let Pc;try{Pc="undefined"!=typeof Intl}catch(mg){Pc=!1}let Fc=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275prov=at({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Mc{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Lc={enterDuration:450,exitDuration:400},Vc=Pu({passive:!0}),Uc=["mousedown","touchstart"],jc=["mouseup","mouseleave","touchend","touchcancel"];class qc{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Iu(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},Lc),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,l=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${o-s}px`,u.style.top=`${a-s}px`,u.style.height=`${2*s}px`,u.style.width=`${2*s}px`,null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const c=new Mc(this,u,n);return c.state=0,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,n.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},Lc),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Iu(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Uc))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(jc),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Fu(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Vc)})})}_removeTriggerEvents(){this._triggerElement&&(Uc.forEach(t=>{this._triggerElement.removeEventListener(t,this,Vc)}),this._pointerUpEventsRegistered&&jc.forEach(t=>{this._triggerElement.removeEventListener(t,this,Vc)}))}}const Bc=new wt("mat-ripple-global-options");class zc{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new qc(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}class Gc{}const Hc=new wt("mat-label-global-options");class Wc{}function $c(t,e=null){return{type:2,steps:t,options:e}}function Kc(t){return{type:6,styles:t,offset:null}}function Qc(t){Promise.resolve(null).then(t)}class Yc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Qc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Zc{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Qc(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Jc(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xc(t){switch(t.length){case 0:return new Yc;case 1:return t[0];default:return new Zc(t)}}function th(t,e,n,r,i={},s={}){const o=[],a=[];let l=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==l,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}c[r]=a}),r||a.push(c),u=c,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function eh(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&nh(n,"start",t)));break;case"done":t.onDone(()=>r(n&&nh(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&nh(n,"destroy",t)))}}function nh(t,e,n){const r=n.totalTime,i=rh(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function rh(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ih(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function sh(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let oh=(t,e)=>!1,ah=(t,e)=>!1,lh=(t,e,n)=>[];const uh=Jc();(uh||"undefined"!=typeof Element)&&(oh=(t,e)=>t.contains(e),ah=(()=>{if(uh||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):ah}})(),lh=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let ch=null,hh=!1;function dh(t){ch||(ch=("undefined"!=typeof document?document.body:null)||{},hh=!!ch.style&&"WebkitAppearance"in ch.style);let e=!0;return ch.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in ch.style,!e&&hh)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ch.style),e}const fh=ah,ph=oh,mh=lh;function gh(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class yh{validateStyleProperty(t){return dh(t)}matchesElement(t,e){return fh(t,e)}containsElement(t,e){return ph(t,e)}query(t,e,n){return mh(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Yc(n,r)}}let vh=(()=>{class t{}return t.NOOP=new yh,t})();function _h(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:bh(parseFloat(e[1]),e[2])}function bh(t,e){switch(e){case"s":return 1e3*t;default:return t}}function wh(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=bh(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=bh(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Eh(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Th(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Eh(t,n);return n}function Ch(t,e,n){return n?e+":"+n+";":""}function Sh(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Ch(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Ch(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Ih(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Ph(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Jc()&&Sh(t))}function xh(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Ph(e);t.style[n]=""}),Jc()&&Sh(t))}function Nh(t){return Array.isArray(t)?1==t.length?t[0]:$c(t):t}const kh=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ah(t){let e=[];if("string"==typeof t){let n;for(;n=kh.exec(t);)e.push(n[1]);kh.lastIndex=0}return e}function Dh(t,e,n){const r=t.toString(),i=r.replace(kh,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Oh(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Rh=/-+([a-z0-9])/g;function Ph(t){return t.replace(Rh,(...t)=>t[1].toUpperCase())}function Fh(t,e){return 0===t||0===e}function Mh(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=Vh(t,e)}))}}return e}function Lh(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Vh(t,e){return window.getComputedStyle(t)[e]}function Uh(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Bh(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(Bh(o,i))}(t,n,e)):n.push(t),n}const jh=new Set(["true","1"]),qh=new Set(["false","0"]);function Bh(t,e){const n=jh.has(t)||qh.has(t),r=jh.has(e)||qh.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?jh.has(t):qh.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?jh.has(e):qh.has(e)),o&&a}}const zh=new RegExp("s*:selfs*,?","g");function Gh(t,e,n){return new Hh(t).build(e,n)}class Hh{constructor(t){this._driver=t}build(t,e){const n=new Wh(e);return this._resetContextStyleTimingState(n),Lh(this,Nh(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if($h(t)){const e=t;Object.keys(e).forEach(t=>{Ah(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Oh(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Lh(this,Nh(t.animation),e);return{type:1,matchers:Uh(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Kh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Lh(this,t,e)),options:Kh(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Lh(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Kh(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Qh(wh(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Qh(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||wh(r,e),Qh(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Kc({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Kc(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if($h(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Ah(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if($h(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if($h(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(r++,u=n.offset=l),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Lh(this,Nh(t.animation),e),options:Kh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Kh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Kh(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(zh,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,ih(e.collectedStyles,e.currentQuerySelector,{});const o=Lh(this,Nh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Kh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:wh(t.timings,e.errors,!0);return{type:12,animation:Lh(this,Nh(t.animation),e),timings:n,options:null}}}class Wh{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function $h(t){return!Array.isArray(t)&&"object"==typeof t}function Kh(t){var e;return t?(t=Eh(t)).params&&(t.params=(e=t.params)?Eh(e):null):t={},t}function Qh(t,e,n){return{duration:t,delay:e,easing:n}}function Yh(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Zh{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Jh=new RegExp(":enter","g"),Xh=new RegExp(":leave","g");function td(t,e,n,r,i,s={},o={},a,l,u=[]){return(new ed).buildKeyframes(t,e,n,r,i,s,o,a,l,u)}class ed{buildKeyframes(t,e,n,r,i,s,o,a,l,u=[]){l=l||new Zh;const c=new rd(t,e,l,r,i,u,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),Lh(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Yh(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?_h(n.duration):null,s=null!=n.delay?_h(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Lh(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nd);const t=_h(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Lh(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?_h(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Lh(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return wh(e.params?Dh(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?_h(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=nd);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Lh(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;Lh(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const nd={};class rd{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new id(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=_h(n.duration)),null!=n.delay&&(r.delay=_h(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Dh(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new rd(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=nd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new sd(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Jh,"."+this._enterClassName)).replace(Xh,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class id{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new id(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):Th(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Dh(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Th(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Oh(t.values()):[],s=e.size?Oh(e.values()):[];if(n){const t=r[0],e=Eh(t);t.offset=0,e.offset=1,r=[t,e]}return Yh(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class sd extends id{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Th(t[0],!1);a.offset=0,i.push(a);const l=Th(t[0],!1);l.offset=od(o),i.push(l);const u=t.length-1;for(let r=1;r<=u;r++){let o=Th(t[r],!1);o.offset=od((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Yh(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function od(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ad{}class ld extends ad{normalizePropertyName(t,e){return Ph(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(ud[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const ud=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function cd(t,e,n,r,i,s,o,a,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const hd={};class dd{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||hd,d=this.buildStyles(n,o&&o.params||hd,c),f=a&&a.params||hd,p=this.buildStyles(r,f,c),m=new Set,g=new Map,y=new Map,v="void"===r,_={params:Object.assign(Object.assign({},h),f)},b=u?[]:td(t,e,this.ast.animation,i,s,d,p,_,l,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return cd(e,this._triggerName,n,r,v,d,p,[],[],g,y,w,c);b.forEach(t=>{const n=t.element,r=ih(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=ih(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Oh(m.values());return cd(e,this._triggerName,n,r,v,d,p,b,E,g,y,w)}}class fd{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Eh(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Dh(s,r,e)),n[t]=s})}}),n}}class pd{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new fd(t.style,t.options&&t.options.params||{})}),md(this.states,"true","1"),md(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new dd(t,e,this.states))}),this.fallbackTransition=new dd(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function md(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const gd=new Zh;class yd{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Gh(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=th(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=td(this._driver,e,i,"ng-enter","ng-leave",{},{},n,gd,r),s.forEach(t=>{const e=ih(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Xc(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=rh(e,"","","");return eh(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const vd=[],_d={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class wd{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Eh(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Ed=new wd("void");class Td{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ad(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=ih(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=ih(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ad(t,"ng-trigger"),Ad(t,"ng-trigger-"+e),a[e]=Ed),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Sd(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Ad(t,"ng-trigger"),Ad(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new wd(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=Ed),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{xh(t,n),Ih(t,r)})}return}const u=ih(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(Ad(t,"ng-animate-queued"),s.onStart(()=>{Dd(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Xc(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Ed,o=new wd("void"),a=new Sd(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==_d||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ad(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=rh(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,eh(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Cd{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Td(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Id(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Id(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ad(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Dd(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Id(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Id(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=_d,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ad(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Xc(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Zh,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=kd(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>Ad(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,_=kd(h,Array.from(g));_.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>Ad(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Dd(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Dd(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(!p.errors||!p.errors.length)return u?(e.onStart(()=>xh(i,p.fromStyles)),e.onDestroy(()=>Ih(i,p.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>xh(i,p.fromStyles)),e.onDestroy(()=>Ih(i,p.toStyles)),void r.push(e)):(p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>ih(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(p)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,T=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(T.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{ih(E,e,[]).push(t),t.destroy()})});const C=m.filter(t=>Rd(t,a,l)),S=new Map;Nd(S,this.driver,y,l,"*").forEach(t=>{Rd(t,a,l)&&C.push(t)});const I=new Map;d.forEach((t,e)=>{Nd(I,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=S.get(t),n=I.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const x=[],N=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>Ih(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(T.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=T.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>T.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,I,S);if(s.setRealPlayer(n),t===k)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Xc(e)),r.push(s)}}else xh(e,o.fromStyles),s.onDestroy(()=>Ih(e,o.toStyles)),N.push(s),u.has(e)&&r.push(s)}),N.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Xc(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Dd(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Od(this,t,r):this.processLeaveNode(t)}return m.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,l=ih(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}xh(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Yc(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Zc?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||vd).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=th(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&c.add(h),f){const e=new Sd(t,o,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{ih(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>Ad(t,"ng-animating"));const d=Xc(h);return d.onDestroy(()=>{u.forEach(t=>Dd(t,"ng-animating")),Ih(a,e.toStyles)}),c.forEach(t=>{ih(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Yc(t.duration,t.delay)}}class Sd{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Yc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>eh(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ih(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Id(t){return t&&1===t.nodeType}function xd(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Nd(t,e,n,r,i){const s=[];n.forEach(t=>s.push(xd(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=bd,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>xd(t,s[a++])),o}function kd(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Ad(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Dd(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Od(t,e,n){Xc(n).onDone(()=>t.processLeaveNode(e))}function Rd(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Pd{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Cd(t,e,n),this._timelineEngine=new yd(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Gh(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new pd(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=sh(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=sh(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Fd(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Ld(e[0]),e.length>1&&(r=Ld(e[e.length-1]))):e&&(n=Ld(e)),n||r?new Md(t,n,r):null}let Md=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ih(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ih(this._element,this._initialStyles),this._endStyles&&(Ih(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(xh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xh(this._element,this._endStyles),this._endStyles=null),Ih(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Ld(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Vd(i)&&(e=e||{},e[i]=t[i])}return e}function Vd(t){return"display"===t||"position"===t}class Ud{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Hd(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Gd(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),zd(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){jd(this._element,this._name,"paused")}resume(){jd(this._element,this._name,"running")}setPosition(t){const e=qd(this._element,this._name);this._position=t*this._duration,Gd(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),zd(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Hd(t,"").split(","),r=Bd(n,e);r>=0&&(n.splice(r,1),Gd(t,"",n.join(",")))}(this._element,this._name))}}function jd(t,e,n){Gd(t,"PlayState",n,qd(t,e))}function qd(t,e){const n=Hd(t,"");return n.indexOf(",")>0?Bd(n.split(","),e):Bd([n],e)}function Bd(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function zd(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Gd(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Hd(t,e){return t.style["animation"+e]}class Wd{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ud(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Vh(this.element,n))})}this.currentSnapshot=t}}class $d extends Yc{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=gh(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Kd{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return dh(t)}matchesElement(t,e){return fh(t,e)}containsElement(t,e){return ph(t,e)}query(t,e,n){return mh(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>gh(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof Wd),l={};Fh(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Mh(t,e,l));if(0==n)return new $d(t,u);const c=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Fd(t,e),f=new Wd(t,e,c,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Qd{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Vh(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Yd{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Zd().toString()),this._cssKeyframesDriver=new Kd}validateStyleProperty(t){return dh(t)}matchesElement(t,e){return fh(t,e)}containsElement(t,e){return ph(t,e)}query(t,e,n){return mh(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},u=s.filter(t=>t instanceof Qd);Fh(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=Fd(t,e=Mh(t,e=e.map(t=>Th(t,!1)),l));return new Qd(t,e,a,c)}}function Zd(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class Jd extends Wc{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Mt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?$c(t):t;return ef(this._renderer,null,e,"register",[n]),new Xd(e,this._renderer)}}class Xd extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new tf(this._id,t,e||{},this._renderer)}}class tf{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ef(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function ef(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}class nf{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new rf("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new sf(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class rf{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class sf extends rf{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class of extends Pd{constructor(t,e,n){super(t.body,e,n)}}function af(){return"function"==typeof Zd()?new Yd:new Kd}function lf(){return new ld}function uf(t,e,n){return new nf(t,e,n)}const cf=new wt("AnimationModuleType");class hf{}var df=Kn({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],data:{}});function ff(t){return Gs(2,[Ls(null,0),Ls(null,1)],null,null)}const pf=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class mf{constructor(t){this._elementRef=t}}const gf=Dc(Ac(Oc(mf)));class yf extends gf{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of pf)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}class vf{}var _f=Kn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],data:{}});function bf(t){return Gs(2,[Os(671088640,1,{ripple:0}),(t()(),xs(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Ls(null,0),(t()(),xs(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),ti(4,212992,[[1,4]],0,zc,[on,Wi,ku,[2,Bc],[2,cf]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),xs(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,Gr(e,4).unbounded)}))}function wf(t){return function(e){const n=new Ef(t),r=e.lift(n);return n.caught=r}}class Ef{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Tf(t,this.selector,this.caught))}}class Tf extends P{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new I(this,void 0,void 0);this.add(r);const i=R(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}class Cf{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Sf(t,this.callback))}}class Sf extends p{constructor(t,e){super(t),this.add(new h(e))}}class If{}class xf{}class Nf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Nf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Nf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Nf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class kf{encodeKey(t){return Af(t)}encodeValue(t){return Af(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Af(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Df{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new kf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Df({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Of(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Rf(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Pf(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ff{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Nf),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Df,this.urlWithParams=e}serializeBody(){return null===this.body?null:Of(this.body)||Rf(this.body)||Pf(this.body)||"string"==typeof this.body?this.body:this.body instanceof Df?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Pf(this.body)?null:Rf(this.body)?this.body.type||null:Of(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Df?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Ff(e,n,i,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const Mf=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class Lf{constructor(t,e=200,n="OK"){this.headers=t.headers||new Nf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Vf extends Lf{constructor(t={}){super(t),this.type=Mf.ResponseHeader}clone(t={}){return new Vf({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Uf extends Lf{constructor(t={}){super(t),this.type=Mf.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Uf({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class jf extends Lf{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function qf(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class Bf{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Ff)r=t;else{let i=void 0;i=n.headers instanceof Nf?n.headers:new Nf(n.headers);let s=void 0;n.params&&(s=n.params instanceof Df?n.params:new Df({fromObject:n.params})),r=new Ff(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=ru(r).pipe(j(t=>this.handler.handle(t),void 0,1));if(t instanceof Ff||"events"===n.observe)return i;const s=i.pipe(gu(t=>t instanceof Uf));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(F(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(F(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Df).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,qf(n,e))}post(t,e,n={}){return this.request("POST",t,qf(n,e))}put(t,e,n={}){return this.request("PUT",t,qf(n,e))}}class zf{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Gf=new wt("HTTP_INTERCEPTORS");class Hf{intercept(t,e){return e.handle(t)}}const Wf=/^\)\]\}',?\n/;class $f{}class Kf{constructor(){}build(){return new XMLHttpRequest}}class Qf{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new v(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Nf(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Vf({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(Wf,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new Uf({body:l,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new jf({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new jf({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const u=r=>{l||(e.next(s()),l=!0);let i={type:Mf.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:Mf.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:Mf.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const Yf=new wt("XSRF_COOKIE_NAME"),Zf=new wt("XSRF_HEADER_NAME");class Jf{}class Xf{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Da(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class tp{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}class ep{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Gf,[]);this.chain=t.reduceRight((t,e)=>new zf(t,e),this.backend)}return this.chain.handle(t)}}class np{static disable(){return{ngModule:np,providers:[{provide:tp,useClass:Hf}]}}static withOptions(t={}){return{ngModule:np,providers:[t.cookieName?{provide:Yf,useValue:t.cookieName}:[],t.headerName?{provide:Zf,useValue:t.headerName}:[]]}}}class rp{}function ip(t,e){return new v(e?n=>e.schedule(sp,0,{error:t,subscriber:n}):e=>e.error(t))}function sp({error:t,subscriber:e}){e.error(t)}function op(t){return Error(`Unable to find icon with the name "${t}"`)}function ap(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function lp(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class up{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let cp=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new up(n,r))}addSvgIconLiteralInNamespace(t,e,n,r){const i=this._sanitizer.sanitize(Ee.HTML,n);if(!i)throw lp(n);const s=this._createSvgElementForSingleIcon(i,r);return this._addSvgIconConfig(t,e,new up(s,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new up(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(Ee.HTML,e);if(!r)throw lp(e);const i=this._svgElementFromString(r);return this._addSvgIconSetConfig(t,new up(i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Ee.RESOURCE_URL,t);if(!e)throw ap(t);const n=this._cachedIconsByUrl.get(e);return n?ru(hp(n)):this._loadSvgIconFromConfig(new up(t)).pipe(su(t=>this._cachedIconsByUrl.set(e,t)),F(t=>hp(t)))}getNamedSvgIcon(t,e=""){const n=dp(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):ip(op(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?ru(hp(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(su(e=>t.svgElement=e),F(t=>hp(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?ru(n):Ga(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(wf(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(Ee.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),ru(null)})))).pipe(F(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw op(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgElement){const e=this._extractSvgIconFromSet(r.svgElement,t,r.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(F(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?ru(t.svgElement):this._fetchUrl(t.url).pipe(F(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Ee.RESOURCE_URL,t);if(!e)throw ap(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const r=this._httpClient.get(e,{responseType:"text"}).pipe((i=()=>this._inProgressUrlFetches.delete(e),t=>t.lift(new Cf(i))),X());var i;return this._inProgressUrlFetches.set(e,r),r}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(dp(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.\u0275prov=at({factory:function(){return new t(Nt(Bf,8),Nt(bc),Nt(ea,8),Nt(Bt,8))},token:t,providedIn:"root"}),t})();function hp(t){return t.cloneNode(!0)}function dp(t,e){return t+":"+e}class fp{constructor(t){this._elementRef=t}}const pp=Dc(fp),mp=new wt("mat-icon-location",{providedIn:"root",factory:function(){const t=kt(ea),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),gp=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],yp=gp.map(t=>`[${t}]`).join(", "),vp=/^url\(['"]?#(.*?)['"]?\)$/;class _p extends pp{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Su(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(Eu(1)).subscribe(t=>this._setSvgElement(t),n=>{const r=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(r)):console.error(r)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(yp),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)gp.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(vp):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}}class bp{}var wp=Kn({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],data:{}});function Ep(t){return Gs(2,[Ls(null,0)],null,null)}function Tp(t){return e=>e.lift(new Cp(t))}class Cp{constructor(t){this.notifier=t}call(t,e){const n=new Sp(t),r=R(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Sp extends P{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}let Ip=0;class xp{constructor(){this.id=`mat-error-${Ip++}`}}class Np{}function kp(t){return Error(`A hint was already declared for 'align="${t}"'.`)}class Ap{}let Dp=0;class Op{constructor(t){this._elementRef=t}}const Rp=Dc(Op,"primary"),Pp=new wt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Fp=new wt("MatFormField");class Mp extends Rp{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new T,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${Dp++}`,this._labelId=`mat-form-field-label-${Dp++}`,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Su(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Ic(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Tp(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Tp(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),H(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ic(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ic(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Tp(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,function t(e,n,i,s){return r(i)&&(s=i,i=void 0),s?t(e,n,i).pipe(F(t=>l(t)?s(...t):s(t))):new v(t=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,i)})}(this._label.nativeElement,"transitionend").pipe(Eu(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw kp("start");t=n}else if("end"===n.align){if(e)throw kp("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=Math.abs(o-s)-5,n=a>0?.75*a+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}class Lp{}let Vp=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275prov=at({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Up=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Iu(t);return new v(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new T,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275prov=at({factory:function(){return new t(Nt(Vp))},token:t,providedIn:"root"}),t})();class jp{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Ti,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Su(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(t,e=du){return n=>n.lift(new fu(t,e))}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class qp{}var Bp=Kn({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function zp(t){return Gs(0,[(t()(),xs(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),xs(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),xs(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),xs(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),xs(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),xs(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function Gp(t){return Gs(0,[(t()(),xs(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),Ls(null,0)],null,null)}function Hp(t){return Gs(0,[(t()(),xs(0,0,null,null,3,null,null,null,null,null,null,null)),Ls(null,2),(t()(),xs(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),qs(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.component._control.placeholder)}))}function Wp(t){return Gs(0,[Ls(null,3),(t()(),Is(0,null,null,0))],null,null)}function $p(t){return Gs(0,[(t()(),xs(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),qs(-1,null,[" *"]))],null,null)}function Kp(t){return Gs(0,[(t()(),xs(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component.updateOutlineGap()&&r),r}),null,null)),ti(1,16384,null,0,Ua,[],{ngSwitch:[0,"ngSwitch"]},null),ti(2,1196032,null,0,jp,[Up,on,Wi],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),Is(16777216,null,null,1,null,Hp)),ti(4,278528,null,0,ja,[On,An,Ua],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Is(16777216,null,null,1,null,Wp)),ti(6,278528,null,0,ja,[On,An,Ua],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Is(16777216,null,null,1,null,$p)),ti(8,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,2,0,"outline"!=n.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}),(function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)}))}function Qp(t){return Gs(0,[(t()(),xs(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),Ls(null,4)],null,null)}function Yp(t){return Gs(0,[(t()(),xs(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)}))}function Zp(t){return Gs(0,[(t()(),xs(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),Ls(null,5)],null,(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function Jp(t){return Gs(0,[(t()(),xs(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),qs(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)}))}function Xp(t){return Gs(0,[(t()(),xs(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),Is(16777216,null,null,1,null,Jp)),ti(2,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null),Ls(null,6),(t()(),xs(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),Ls(null,7)],(function(t,e){t(e,2,0,e.component.hintLabel)}),(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function tm(t){return Gs(2,[Os(671088640,1,{underlineRef:0}),Os(402653184,2,{_connectionContainerRef:0}),Os(671088640,3,{_inputContainerRef:0}),Os(671088640,4,{_label:0}),(t()(),xs(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),xs(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i._control.onContainerClick&&i._control.onContainerClick(n))&&r),r}),null,null)),(t()(),Is(16777216,null,null,1,null,zp)),ti(7,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null),(t()(),Is(16777216,null,null,1,null,Gp)),ti(9,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null),(t()(),xs(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),Ls(null,1),(t()(),xs(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),Is(16777216,null,null,1,null,Kp)),ti(14,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null),(t()(),Is(16777216,null,null,1,null,Qp)),ti(16,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null),(t()(),Is(16777216,null,null,1,null,Yp)),ti(18,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null),(t()(),xs(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),ti(20,16384,null,0,Ua,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Is(16777216,null,null,1,null,Zp)),ti(22,278528,null,0,ja,[On,An,Ua],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Is(16777216,null,null,1,null,Xp)),ti(24,278528,null,0,ja,[On,An,Ua],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")}),null)}const em=Pu({passive:!0});let nm=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return bu;const e=Iu(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new T,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,em),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,em)}}),r.asObservable()}stopMonitoring(t){const e=Iu(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275prov=at({factory:function(){return new t(Nt(ku),Nt(Wi))},token:t,providedIn:"root"}),t})();class rm{}const im=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let sm=0;class om{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const am=Rc(om);class lm extends am{constructor(t,e,n,r,i,s,o,a,l){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${sm++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new T,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Ou().has(t));const u=this._elementRef.nativeElement;this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Su(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Su(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&Ou().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Su(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(im.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}class um{}function cm(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new hm(t,e,n))}}class hm{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new dm(t,this.accumulator,this.seed,this.hasSeed))}}class dm extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}let fm=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return ru(this.value);case"E":return ip(this.error);case"C":return wu()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function pm(t,e=0){return function(n){return n.lift(new mm(t,e))}}class mm{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new gm(t,this.scheduler,this.delay))}}class gm extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(gm.dispatch,this.delay,new ym(t,this.destination)))}_next(t){this.scheduleMessage(fm.createNext(t))}_error(t){this.scheduleMessage(fm.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(fm.createComplete()),this.unsubscribe()}}class ym{constructor(t,e){this.notification=t,this.destination=e}}class vm extends uu{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class _m extends hu{}const bm=new _m(vm);let wm=1;const Em=(()=>Promise.resolve())(),Tm={};function Cm(t){return t in Tm&&(delete Tm[t],!0)}const Sm={setImmediate(t){const e=wm++;return Tm[e]=!0,Em.then(()=>Cm(e)&&t()),e},clearImmediate(t){Cm(t)}};class Im extends uu{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Sm.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Sm.clearImmediate(e),t.scheduled=void 0)}}class xm extends hu{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Nm=new xm(Im);class km extends v{constructor(t,e=0,n=Nm){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(!l(r=e)&&r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Nm)}static create(t,e=0,n=Nm){return new km(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(km.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class Am{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new km(e,this.delay,this.scheduler).subscribe(t)}}var Dm=n("Wcq6");function Om(){}class Rm{constructor(t,e=bm){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class Pm{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Om,{},Om,Om)),e.pipe(su(n,n,n)).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class Fm{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Rm(Zone.current)),this.insideAngular=t.run(()=>new Rm(Zone.current,du))}}const Mm=new wt("angularfire2.app.options"),Lm=new wt("angularfire2.app.nameOrConfig");var Vm=n("wj3C"),Um=n.n(Vm),jm=n("6Joi");function qm(t,e){return function(t,e=du){return new v(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),function(){null!=r&&r()}})}(t,e)}function Bm(t,e){return qm(t,e).pipe(F(t=>({payload:t,type:"query"})))}function zm(t,e){return Bm(t,e).pipe(F(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Gm(t,e,n){return Bm(t,n).pipe(F(t=>t.payload.docChanges()),cm((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),F(t=>t.map(t=>({type:t.type,payload:t}))))}function Hm(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Wm{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?zm(this.query,this.afs.schedulers.outsideAngular).pipe(F(e=>e.filter(e=>t.indexOf(e.type)>-1)),gu(t=>t.length>0),this.afs.keepUnstableUntilFirst):zm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(cm((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hm(t);return Gm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Bm(this.query,this.afs.schedulers.outsideAngular).pipe(F(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return U(this.query.get(t)).pipe(pm(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new $m(this.ref.doc(t),this.afs)}}class $m{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Jm(n,e);return new Wm(r,i,this.afs)}snapshotChanges(){return qm(this.ref,this.afs.schedulers.outsideAngular).pipe(F(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(F(t=>t.payload.data()))}get(t){return U(this.ref.get(t)).pipe(pm(this.afs.schedulers.insideAngular))}}class Km{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?zm(this.query,this.afs.schedulers.outsideAngular).pipe(F(e=>e.filter(e=>t.indexOf(e.type)>-1)),gu(t=>t.length>0),this.afs.keepUnstableUntilFirst):zm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(cm((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hm(t);return Gm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Bm(this.query,this.afs.schedulers.outsideAngular).pipe(F(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return U(this.query.get(t)).pipe(pm(this.afs.schedulers.insideAngular))}}const Qm=new wt("angularfire2.enableFirestorePersistence"),Ym=new wt("angularfire2.firestore.persistenceSettings"),Zm=new wt("angularfire2.firestore.settings");function Jm(t,e=(t=>t)){return{query:e(t),ref:t}}let Xm=(()=>{class t{constructor(t,e,n,r,i,s,o){var a;this.schedulers=new Fm(s),this.keepUnstableUntilFirst=(a=this.schedulers,function(t){return(t=t.lift(new Pm(a.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new Am(t,e))}}(a.outsideAngular),pm(a.insideAngular))}),this.firestore=s.runOutsideAngular(()=>{const n=function(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Dm.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Object(Dm.initializeApp)(t,r))}(t,s,e);jm.registerFirestore&&Object(jm.registerFirestore)(Um.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!function(t){return"server"===t}(i)?s.runOutsideAngular(()=>{try{return U(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return ru(!1)}}):ru(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Jm(n,e);return new Wm(r,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Km(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new $m(e,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275prov=at({factory:function(){return new t(Nt(Mm),Nt(Lm,8),Nt(Qm,8),Nt(Zm,8),Nt(Oi),Nt(Wi),Nt(Ym,8))},token:t,providedIn:"any"}),t})(),tg=(()=>{class t{constructor(t,e){this.http=t,this.firestore=e,this._url="http://localhost:3000/records"}getNotes(){return this.http.get(this._url).pipe(wf(this.errorHandler))}errorHandler(t){return ip(t.message||"Server Error")}setNotes(t){return this.http.post(this._url,t).pipe(wf(this.errorHandler))}updateNotes(t){return this.http.put(this._url+"/"+t.id,t).pipe(wf(this.errorHandler))}deleteNote(t){return this.http.delete(this._url+"/"+t).pipe(wf(this.errorHandler))}}return t.\u0275prov=at({factory:function(){return new t(Nt(Bf),Nt(Xm))},token:t,providedIn:"root"}),t})();var eg=Kn({encapsulation:0,styles:[[".matForm1[_ngcontent-%COMP%], .matForm2[_ngcontent-%COMP%]{color:#fff}.matForm2[_ngcontent-%COMP%]{width:100%}.itemDesc[_ngcontent-%COMP%]{display:inline-block;width:40%;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis}.titleLink[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.saveBtn[_ngcontent-%COMP%]{background-color:#1e90ff}.successMsg[_ngcontent-%COMP%]{color:green}.sideDiv[_ngcontent-%COMP%]{height:600px;display:block;overflow:auto}.noteToggle[_ngcontent-%COMP%]{display:none}@media (max-width:576px){.sideDiv[_ngcontent-%COMP%]{width:50%;display:none}.matForm2[_ngcontent-%COMP%]{color:#fff;width:100%}.editDiv[_ngcontent-%COMP%]{width:50%}.noteToggle[_ngcontent-%COMP%]{display:block}}@media (max-width:700px){.sideDiv[_ngcontent-%COMP%]{width:50%;display:none}.matForm2[_ngcontent-%COMP%]{color:#fff;width:100%}.editDiv[_ngcontent-%COMP%]{width:50%}.noteToggle[_ngcontent-%COMP%]{display:block}}@media (max-width:1080px){.sideDiv[_ngcontent-%COMP%]{width:50%;display:none}.matForm2[_ngcontent-%COMP%]{color:#fff;width:100%}.editDiv[_ngcontent-%COMP%]{width:50%}.noteToggle[_ngcontent-%COMP%]{display:block}}@media (min-width:1080px){.sideDiv[_ngcontent-%COMP%]{display:block!important}}"]],data:{}});function ng(t){return Gs(0,[(t()(),xs(0,0,null,null,23,"mat-card",[["class","mat-card mat-focus-indicator"]],[[2,"_mat-animation-noopable",null]],null,null,ff,df)),ti(1,49152,null,0,Jl,[[2,cf]],null,null),(t()(),xs(2,0,null,0,11,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),ti(3,16384,null,0,Zl,[],null,null),(t()(),xs(4,0,null,null,9,"div",[["class","d-flex justify-content-between"]],null,null,null,null,null)),(t()(),xs(5,0,null,null,1,"a",[["class","titleLink"],["href","javascript:void(0);"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.noteSelect(t.context.$implicit.id)&&r),r}),null,null)),(t()(),qs(6,null,["",""])),(t()(),xs(7,0,null,null,6,"button",[["aria-label",""],["class","mat-focus-indicator"],["color","warn"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.favoriteBtn(t.context.$implicit.id)&&r),r}),bf,_f)),ti(8,278528,null,0,qa,[on,In,cn],{ngStyle:[0,"ngStyle"]},null),Us(9,{color:0}),ti(10,180224,null,0,yf,[on,Vu,[2,cf]],{color:[0,"color"]},null),(t()(),xs(11,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ep,wp)),ti(12,9158656,null,0,_p,[on,cp,[8,null],[2,mp],[2,Bt]],null,null),(t()(),qs(-1,0,["favorite"])),(t()(),xs(14,0,null,0,9,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),ti(15,16384,null,0,Yl,[],null,null),(t()(),xs(16,0,null,null,1,"span",[["class","itemDesc"]],null,null,null,null,null)),(t()(),qs(17,null,["",""])),(t()(),xs(18,0,null,null,5,"div",[["class","d-flex justify-content-between"]],null,null,null,null,null)),(t()(),xs(19,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),qs(20,null,["",""])),js(128,21,Ft(3)),(t()(),xs(22,0,null,null,1,"button",[["class","btn btn-danger btn-sm"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.deleteN(t.context.$implicit.id)&&r),r}),null,null)),(t()(),xs(23,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-trash"]],null,null,null,null,null))],(function(t,e){var n=t(e,9,0,0==e.context.$implicit.favourite?"white":"red");t(e,8,0,n),t(e,10,0,"warn"),t(e,12,0)}),(function(t,e){t(e,0,0,"NoopAnimations"===Gr(e,1)._animationMode),t(e,6,0,e.context.$implicit.title),t(e,7,0,Gr(e,10).disabled||null,"NoopAnimations"===Gr(e,10)._animationMode),t(e,11,0,Gr(e,12).inline,"primary"!==Gr(e,12).color&&"accent"!==Gr(e,12).color&&"warn"!==Gr(e,12).color),t(e,17,0,e.context.$implicit.description);var n=function(t,e,n,r){if(He.isWrapped(r)){r=He.unwrap(r);const e=t.def.nodes[20].bindingIndex+0,n=He.unwrap(t.oldValues[e]);t.oldValues[e]=new He(n)}return r}(e,0,0,t(e,21,0,Gr(e.parent,0),e.context.$implicit.created,"MMM d,h:mm a"));t(e,20,0,n)}))}function rg(t){return Gs(0,[(t()(),xs(0,0,null,null,6,"div",[["class","alert alert-warning alert-dismissible fade show"],["role","alert"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),qs(-1,null,["Holy guacamole!"])),(t()(),qs(-1,null,[" You should check in on Title field below. "])),(t()(),xs(4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","alert"],["type","button"]],null,null,null,null,null)),(t()(),xs(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),qs(-1,null,["\xd7"]))],null,null)}function ig(t){return Gs(0,[(t()(),xs(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),ti(1,16384,[[6,4]],0,xp,[],null,null),(t()(),qs(2,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,Gr(e,1).id),t(e,2,0,n.getError())}))}function sg(t){return Gs(0,[(t()(),xs(0,0,null,null,55,"div",[],null,null,null,null,null)),(t()(),xs(1,0,null,null,26,"mat-form-field",[["appearance","outline"],["class","matForm1 m-2 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,tm,Bp)),ei(6144,null,Fp,null,[Mp]),ti(3,7520256,null,9,Mp,[on,Ne,[2,Hc],[2,eu],[2,Pp],ku,Wi,[2,cf]],{appearance:[0,"appearance"]},null),Os(603979776,1,{_controlNonStatic:0}),Os(335544320,2,{_controlStatic:0}),Os(603979776,3,{_labelChildNonStatic:0}),Os(335544320,4,{_labelChildStatic:0}),Os(603979776,5,{_placeholderChild:0}),Os(603979776,6,{_errorChildren:1}),Os(603979776,7,{_hintChildren:1}),Os(603979776,8,{_prefixChildren:1}),Os(603979776,9,{_suffixChildren:1}),(t()(),xs(13,0,null,3,2,"mat-label",[],null,null,null,null,null)),ti(14,16384,[[3,4],[4,4]],0,Ap,[],null,null),(t()(),qs(-1,null,["Title"])),(t()(),xs(16,0,null,1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Gr(t,17)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Gr(t,17).onTouched()&&r),"compositionstart"===e&&(r=!1!==Gr(t,17)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Gr(t,17)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Gr(t,24)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Gr(t,24)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Gr(t,24)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.titleNote=n)&&r),r}),null,null)),ti(17,16384,null,0,Ka,[cn,on,[2,$a]],null,null),ti(18,16384,null,0,Gl,[],{required:[0,"required"]},null),ei(1024,null,el,(function(t){return[t]}),[Gl]),ei(1024,null,Wa,(function(t){return[t]}),[Ka]),ti(21,540672,null,0,Bl,[[6,el],[8,null],[6,Wa],[2,ql]],{form:[0,"form"],model:[1,"model"]},{update:"ngModelChange"}),ei(2048,null,Ja,null,[Bl]),ti(23,16384,null,0,Xa,[[4,Ja]],null,null),ti(24,999424,null,0,lm,[on,ku,[6,Ja],[2,Fl],[2,zl],Fc,[8,null],nm,Wi],{required:[0,"required"]},null),ei(2048,[[1,4],[2,4]],Np,null,[lm]),(t()(),Is(16777216,null,5,1,null,ig)),ti(27,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null),(t()(),xs(28,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),xs(29,0,null,null,22,"mat-form-field",[["appearance","outline"],["class","matForm2 m-2 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,tm,Bp)),ei(6144,null,Fp,null,[Mp]),ti(31,7520256,null,9,Mp,[on,Ne,[2,Hc],[2,eu],[2,Pp],ku,Wi,[2,cf]],{appearance:[0,"appearance"]},null),Os(603979776,10,{_controlNonStatic:0}),Os(335544320,11,{_controlStatic:0}),Os(603979776,12,{_labelChildNonStatic:0}),Os(335544320,13,{_labelChildStatic:0}),Os(603979776,14,{_placeholderChild:0}),Os(603979776,15,{_errorChildren:1}),Os(603979776,16,{_hintChildren:1}),Os(603979776,17,{_prefixChildren:1}),Os(603979776,18,{_suffixChildren:1}),(t()(),xs(41,0,null,3,2,"mat-label",[],null,null,null,null,null)),ti(42,16384,[[12,4],[13,4]],0,Ap,[],null,null),(t()(),qs(-1,null,["Description"])),(t()(),xs(44,0,null,1,7,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Gr(t,45)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Gr(t,45).onTouched()&&r),"compositionstart"===e&&(r=!1!==Gr(t,45)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Gr(t,45)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Gr(t,50)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Gr(t,50)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Gr(t,50)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.description=n)&&r),r}),null,null)),ti(45,16384,null,0,Ka,[cn,on,[2,$a]],null,null),ei(1024,null,Wa,(function(t){return[t]}),[Ka]),ti(47,671744,null,0,jl,[[8,null],[8,null],[8,null],[6,Wa]],{model:[0,"model"]},{update:"ngModelChange"}),ei(2048,null,Ja,null,[jl]),ti(49,16384,null,0,Xa,[[4,Ja]],null,null),ti(50,999424,null,0,lm,[on,ku,[6,Ja],[2,Fl],[2,zl],Fc,[8,null],nm,Wi],null,null),ei(2048,[[10,4],[11,4]],Np,null,[lm]),(t()(),xs(52,0,null,null,3,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(t()(),xs(53,0,null,null,2,"button",[["class","justify-content-end saveBtn mat-focus-indicator"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveNote()&&r),r}),bf,_f)),ti(54,180224,null,0,yf,[on,Vu,[2,cf]],{color:[0,"color"]},null),(t()(),qs(-1,0,["SAVE"]))],(function(t,e){var n=e.component;t(e,3,0,"outline"),t(e,18,0,""),t(e,21,0,n.noteTitle,n.titleNote),t(e,24,0,""),t(e,27,0,n.noteTitle.dirty&&n.noteTitle.invalid),t(e,31,0,"outline"),t(e,47,0,n.description),t(e,50,0),t(e,54,0,"primary")}),(function(t,e){t(e,1,1,["standard"==Gr(e,3).appearance,"fill"==Gr(e,3).appearance,"outline"==Gr(e,3).appearance,"legacy"==Gr(e,3).appearance,Gr(e,3)._control.errorState,Gr(e,3)._canLabelFloat,Gr(e,3)._shouldLabelFloat(),Gr(e,3)._hasFloatingLabel(),Gr(e,3)._hideControlPlaceholder(),Gr(e,3)._control.disabled,Gr(e,3)._control.autofilled,Gr(e,3)._control.focused,"accent"==Gr(e,3).color,"warn"==Gr(e,3).color,Gr(e,3)._shouldForward("untouched"),Gr(e,3)._shouldForward("touched"),Gr(e,3)._shouldForward("pristine"),Gr(e,3)._shouldForward("dirty"),Gr(e,3)._shouldForward("valid"),Gr(e,3)._shouldForward("invalid"),Gr(e,3)._shouldForward("pending"),!Gr(e,3)._animationsEnabled]),t(e,16,1,[Gr(e,18).required?"":null,Gr(e,23).ngClassUntouched,Gr(e,23).ngClassTouched,Gr(e,23).ngClassPristine,Gr(e,23).ngClassDirty,Gr(e,23).ngClassValid,Gr(e,23).ngClassInvalid,Gr(e,23).ngClassPending,Gr(e,24)._isServer,Gr(e,24).id,Gr(e,24).placeholder,Gr(e,24).disabled,Gr(e,24).required,Gr(e,24).readonly&&!Gr(e,24)._isNativeSelect||null,Gr(e,24)._ariaDescribedby||null,Gr(e,24).errorState,Gr(e,24).required.toString()]),t(e,29,1,["standard"==Gr(e,31).appearance,"fill"==Gr(e,31).appearance,"outline"==Gr(e,31).appearance,"legacy"==Gr(e,31).appearance,Gr(e,31)._control.errorState,Gr(e,31)._canLabelFloat,Gr(e,31)._shouldLabelFloat(),Gr(e,31)._hasFloatingLabel(),Gr(e,31)._hideControlPlaceholder(),Gr(e,31)._control.disabled,Gr(e,31)._control.autofilled,Gr(e,31)._control.focused,"accent"==Gr(e,31).color,"warn"==Gr(e,31).color,Gr(e,31)._shouldForward("untouched"),Gr(e,31)._shouldForward("touched"),Gr(e,31)._shouldForward("pristine"),Gr(e,31)._shouldForward("dirty"),Gr(e,31)._shouldForward("valid"),Gr(e,31)._shouldForward("invalid"),Gr(e,31)._shouldForward("pending"),!Gr(e,31)._animationsEnabled]),t(e,44,1,[Gr(e,49).ngClassUntouched,Gr(e,49).ngClassTouched,Gr(e,49).ngClassPristine,Gr(e,49).ngClassDirty,Gr(e,49).ngClassValid,Gr(e,49).ngClassInvalid,Gr(e,49).ngClassPending,Gr(e,50)._isServer,Gr(e,50).id,Gr(e,50).placeholder,Gr(e,50).disabled,Gr(e,50).required,Gr(e,50).readonly&&!Gr(e,50)._isNativeSelect||null,Gr(e,50)._ariaDescribedby||null,Gr(e,50).errorState,Gr(e,50).required.toString()]),t(e,53,0,Gr(e,54).disabled||null,"NoopAnimations"===Gr(e,54)._animationMode)}))}function og(t){return Gs(0,[(t()(),xs(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),ti(1,16384,[[24,4]],0,xp,[],null,null),(t()(),qs(2,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,Gr(e,1).id),t(e,2,0,n.getError())}))}function ag(t){return Gs(0,[(t()(),xs(0,0,null,null,55,"div",[["class","editDiv"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,26,"mat-form-field",[["appearance","outline"],["class","matForm1 m-2 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,tm,Bp)),ei(6144,null,Fp,null,[Mp]),ti(3,7520256,null,9,Mp,[on,Ne,[2,Hc],[2,eu],[2,Pp],ku,Wi,[2,cf]],{appearance:[0,"appearance"]},null),Os(603979776,19,{_controlNonStatic:0}),Os(335544320,20,{_controlStatic:0}),Os(603979776,21,{_labelChildNonStatic:0}),Os(335544320,22,{_labelChildStatic:0}),Os(603979776,23,{_placeholderChild:0}),Os(603979776,24,{_errorChildren:1}),Os(603979776,25,{_hintChildren:1}),Os(603979776,26,{_prefixChildren:1}),Os(603979776,27,{_suffixChildren:1}),(t()(),xs(13,0,null,3,2,"mat-label",[],null,null,null,null,null)),ti(14,16384,[[21,4],[22,4]],0,Ap,[],null,null),(t()(),qs(-1,null,["Title"])),(t()(),xs(16,0,null,1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Gr(t,17)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Gr(t,17).onTouched()&&r),"compositionstart"===e&&(r=!1!==Gr(t,17)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Gr(t,17)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Gr(t,24)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Gr(t,24)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Gr(t,24)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.titleNoteE=n)&&r),r}),null,null)),ti(17,16384,null,0,Ka,[cn,on,[2,$a]],null,null),ti(18,16384,null,0,Gl,[],{required:[0,"required"]},null),ei(1024,null,el,(function(t){return[t]}),[Gl]),ei(1024,null,Wa,(function(t){return[t]}),[Ka]),ti(21,540672,null,0,Bl,[[6,el],[8,null],[6,Wa],[2,ql]],{form:[0,"form"],model:[1,"model"]},{update:"ngModelChange"}),ei(2048,null,Ja,null,[Bl]),ti(23,16384,null,0,Xa,[[4,Ja]],null,null),ti(24,999424,null,0,lm,[on,ku,[6,Ja],[2,Fl],[2,zl],Fc,[8,null],nm,Wi],{required:[0,"required"]},null),ei(2048,[[19,4],[20,4]],Np,null,[lm]),(t()(),Is(16777216,null,5,1,null,og)),ti(27,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null),(t()(),xs(28,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),xs(29,0,null,null,22,"mat-form-field",[["appearance","outline"],["class","matForm2 m-2 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,tm,Bp)),ei(6144,null,Fp,null,[Mp]),ti(31,7520256,null,9,Mp,[on,Ne,[2,Hc],[2,eu],[2,Pp],ku,Wi,[2,cf]],{appearance:[0,"appearance"]},null),Os(603979776,28,{_controlNonStatic:0}),Os(335544320,29,{_controlStatic:0}),Os(603979776,30,{_labelChildNonStatic:0}),Os(335544320,31,{_labelChildStatic:0}),Os(603979776,32,{_placeholderChild:0}),Os(603979776,33,{_errorChildren:1}),Os(603979776,34,{_hintChildren:1}),Os(603979776,35,{_prefixChildren:1}),Os(603979776,36,{_suffixChildren:1}),(t()(),xs(41,0,null,3,2,"mat-label",[],null,null,null,null,null)),ti(42,16384,[[30,4],[31,4]],0,Ap,[],null,null),(t()(),qs(-1,null,["Description"])),(t()(),xs(44,0,null,1,7,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Gr(t,45)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Gr(t,45).onTouched()&&r),"compositionstart"===e&&(r=!1!==Gr(t,45)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Gr(t,45)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Gr(t,50)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Gr(t,50)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Gr(t,50)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.descriptionE=n)&&r),r}),null,null)),ti(45,16384,null,0,Ka,[cn,on,[2,$a]],null,null),ei(1024,null,Wa,(function(t){return[t]}),[Ka]),ti(47,671744,null,0,jl,[[8,null],[8,null],[8,null],[6,Wa]],{model:[0,"model"]},{update:"ngModelChange"}),ei(2048,null,Ja,null,[jl]),ti(49,16384,null,0,Xa,[[4,Ja]],null,null),ti(50,999424,null,0,lm,[on,ku,[6,Ja],[2,Fl],[2,zl],Fc,[8,null],nm,Wi],null,null),ei(2048,[[28,4],[29,4]],Np,null,[lm]),(t()(),xs(52,0,null,null,3,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(t()(),xs(53,0,null,null,2,"button",[["class","justify-content-end saveBtn mat-focus-indicator"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveNoteE()&&r),r}),bf,_f)),ti(54,180224,null,0,yf,[on,Vu,[2,cf]],{color:[0,"color"]},null),(t()(),qs(-1,0,["SAVE"]))],(function(t,e){var n=e.component;t(e,3,0,"outline"),t(e,18,0,""),t(e,21,0,n.noteTitle,n.titleNoteE),t(e,24,0,""),t(e,27,0,n.noteTitle.invalid),t(e,31,0,"outline"),t(e,47,0,n.descriptionE),t(e,50,0),t(e,54,0,"primary")}),(function(t,e){t(e,1,1,["standard"==Gr(e,3).appearance,"fill"==Gr(e,3).appearance,"outline"==Gr(e,3).appearance,"legacy"==Gr(e,3).appearance,Gr(e,3)._control.errorState,Gr(e,3)._canLabelFloat,Gr(e,3)._shouldLabelFloat(),Gr(e,3)._hasFloatingLabel(),Gr(e,3)._hideControlPlaceholder(),Gr(e,3)._control.disabled,Gr(e,3)._control.autofilled,Gr(e,3)._control.focused,"accent"==Gr(e,3).color,"warn"==Gr(e,3).color,Gr(e,3)._shouldForward("untouched"),Gr(e,3)._shouldForward("touched"),Gr(e,3)._shouldForward("pristine"),Gr(e,3)._shouldForward("dirty"),Gr(e,3)._shouldForward("valid"),Gr(e,3)._shouldForward("invalid"),Gr(e,3)._shouldForward("pending"),!Gr(e,3)._animationsEnabled]),t(e,16,1,[Gr(e,18).required?"":null,Gr(e,23).ngClassUntouched,Gr(e,23).ngClassTouched,Gr(e,23).ngClassPristine,Gr(e,23).ngClassDirty,Gr(e,23).ngClassValid,Gr(e,23).ngClassInvalid,Gr(e,23).ngClassPending,Gr(e,24)._isServer,Gr(e,24).id,Gr(e,24).placeholder,Gr(e,24).disabled,Gr(e,24).required,Gr(e,24).readonly&&!Gr(e,24)._isNativeSelect||null,Gr(e,24)._ariaDescribedby||null,Gr(e,24).errorState,Gr(e,24).required.toString()]),t(e,29,1,["standard"==Gr(e,31).appearance,"fill"==Gr(e,31).appearance,"outline"==Gr(e,31).appearance,"legacy"==Gr(e,31).appearance,Gr(e,31)._control.errorState,Gr(e,31)._canLabelFloat,Gr(e,31)._shouldLabelFloat(),Gr(e,31)._hasFloatingLabel(),Gr(e,31)._hideControlPlaceholder(),Gr(e,31)._control.disabled,Gr(e,31)._control.autofilled,Gr(e,31)._control.focused,"accent"==Gr(e,31).color,"warn"==Gr(e,31).color,Gr(e,31)._shouldForward("untouched"),Gr(e,31)._shouldForward("touched"),Gr(e,31)._shouldForward("pristine"),Gr(e,31)._shouldForward("dirty"),Gr(e,31)._shouldForward("valid"),Gr(e,31)._shouldForward("invalid"),Gr(e,31)._shouldForward("pending"),!Gr(e,31)._animationsEnabled]),t(e,44,1,[Gr(e,49).ngClassUntouched,Gr(e,49).ngClassTouched,Gr(e,49).ngClassPristine,Gr(e,49).ngClassDirty,Gr(e,49).ngClassValid,Gr(e,49).ngClassInvalid,Gr(e,49).ngClassPending,Gr(e,50)._isServer,Gr(e,50).id,Gr(e,50).placeholder,Gr(e,50).disabled,Gr(e,50).required,Gr(e,50).readonly&&!Gr(e,50)._isNativeSelect||null,Gr(e,50)._ariaDescribedby||null,Gr(e,50).errorState,Gr(e,50).required.toString()]),t(e,53,0,Gr(e,54).disabled||null,"NoopAnimations"===Gr(e,54)._animationMode)}))}function lg(t){return Gs(0,[(e=0,n=Ba,r=[Fi],ni(-1,e|=16,null,0,n,n,r)),(t()(),xs(1,0,null,null,27,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,7,"div",[["class","row mb-4"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),qs(4,null,["",""])),(t()(),xs(5,0,null,null,4,"button",[["aria-label","menu btn"],["class","noteToggle mat-focus-indicator"],["color","accent"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleNotes()&&r),r}),bf,_f)),ti(6,180224,null,0,yf,[on,Vu,[2,cf]],{color:[0,"color"]},null),(t()(),xs(7,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ep,wp)),ti(8,9158656,null,0,_p,[on,cp,[8,null],[2,mp],[2,Bt]],null,null),(t()(),qs(-1,0,["menu"])),(t()(),xs(10,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(t()(),xs(11,0,null,null,4,"div",[["class","col-md-3 sideDiv"],["id","noteDiv"]],null,null,null,null,null)),ti(12,278528,null,0,qa,[on,In,cn],{ngStyle:[0,"ngStyle"]},null),Us(13,{display:0}),(t()(),Is(16777216,null,null,1,null,ng)),ti(15,278528,null,0,Ra,[On,An,Sn],{ngForOf:[0,"ngForOf"]},null),(t()(),xs(16,0,null,null,12,"div",[["class","col-md-4 editDiv"]],null,null,null,null,null)),(t()(),xs(17,0,null,null,2,"button",[["class","mb-3 mat-focus-indicator"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.newNote()&&r),r}),bf,_f)),ti(18,180224,null,0,yf,[on,Vu,[2,cf]],{color:[0,"color"]},null),(t()(),qs(-1,0,["New Note"])),(t()(),xs(20,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),xs(21,0,null,null,1,"span",[["class","successMsg m-2"]],null,null,null,null,null)),(t()(),qs(22,null,["",""])),(t()(),Is(16777216,null,null,1,null,rg)),ti(24,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null),(t()(),Is(16777216,null,null,1,null,sg)),ti(26,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null),(t()(),Is(16777216,null,null,1,null,ag)),ti(28,16384,null,0,Fa,[On,An],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,6,0,"accent"),t(e,8,0);var r=t(e,13,0,1==n.divHide?"none":"block");t(e,12,0,r),t(e,15,0,n.noteList),t(e,18,0,"primary"),t(e,24,0,n.titleErr),t(e,26,0,n.hideDiv),t(e,28,0,!n.hideDiv)}),(function(t,e){var n=e.component;t(e,4,0,n.errorMsg),t(e,5,0,Gr(e,6).disabled||null,"NoopAnimations"===Gr(e,6)._animationMode),t(e,7,0,Gr(e,8).inline,"primary"!==Gr(e,8).color&&"accent"!==Gr(e,8).color&&"warn"!==Gr(e,8).color),t(e,17,0,Gr(e,18).disabled||null,"NoopAnimations"===Gr(e,18)._animationMode),t(e,22,0,n.success)}));var e,n,r}function ug(t){return Gs(0,[(t()(),xs(0,0,null,null,1,"app-root",[],null,null,null,lg,eg)),ti(1,114688,null,0,Ql,[tg,Bf],null,null)],(function(t,e){t(e,1,0)}),null)}var cg=Rr("app-root",Ql,ug,{},{},[]);class hg{}class dg{}class fg{}var pg=Yo(Jo,[Ql],(function(t){return function(t){const e={},n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];s.token===Ae&&(r=s.value),1073741824&s.flags&&n.push(s.token),s.index=i,e[$n(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,scope:r}}([Ir(512,en,nn,[[8,[cg]],[3,en],Ot]),Ir(5120,Fi,Ts,[[3,Fi]]),Ir(4608,ka,Aa,[Fi]),Ir(5120,gi,Cs,[Wi]),Ir(4608,Bi,Bi,[]),Ir(5120,Ni,ki,[]),Ir(5120,Sn,ws,[]),Ir(5120,In,Es,[]),Ir(4608,bc,wc,[ea]),Ir(6144,dn,null,[bc]),Ir(4608,hc,fc,[]),Ir(5120,Yu,(function(t,e,n,r,i,s,o,a){return[new uc(t,e,n),new _c(r),new pc(i,s,o,a)]}),[ea,Wi,Oi,ea,ea,hc,Pi,[2,dc]]),Ir(4608,Zu,Zu,[Yu,Wi]),Ir(135680,tc,tc,[ea]),Ir(4608,sc,sc,[Zu,tc,Ni]),Ir(5120,vh,af,[]),Ir(5120,ad,lf,[]),Ir(4608,Pd,of,[ea,vh,ad]),Ir(5120,ln,uf,[sc,Pd,Wi]),Ir(6144,Xu,null,[tc]),Ir(4608,ts,ts,[Wi]),Ir(4608,Wc,Jd,[ln,ea]),Ir(4608,ul,ul,[]),Ir(4608,Wl,Wl,[]),Ir(4608,Jf,Xf,[ea,Oi,Yf]),Ir(4608,tp,tp,[Jf,Zf]),Ir(5120,Gf,(function(t){return[t]}),[tp]),Ir(4608,Kf,Kf,[]),Ir(6144,$f,null,[Kf]),Ir(4608,Qf,Qf,[$f]),Ir(6144,xf,null,[Qf]),Ir(4608,If,ep,[xf,Oe]),Ir(4608,Bf,Bf,[If]),Ir(4608,Vp,Vp,[]),Ir(4608,Fc,Fc,[]),Ir(1073742336,za,za,[]),Ir(1024,Bt,Ec,[]),Ir(1024,Ii,(function(t){return[(e=t,$u("probe",Qu),$u("coreTokens",Object.assign(Object.assign({},Ku),(e||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>Qu)];var e}),[[2,os]]),Ir(512,xi,xi,[[2,Ii]]),Ir(131584,hs,hs,[Wi,Pi,Oe,Bt,en,xi]),Ir(1073742336,Ss,Ss,[hs]),Ir(1073742336,Cc,Cc,[[3,Cc]]),Ir(1073742336,hf,hf,[]),Ir(1073742336,Hl,Hl,[]),Ir(1073742336,$l,$l,[]),Ir(1073742336,Kl,Kl,[]),Ir(1073742336,np,np,[]),Ir(1073742336,rp,rp,[]),Ir(1073742336,qp,qp,[]),Ir(1073742336,Lp,Lp,[]),Ir(1073742336,Au,Au,[]),Ir(1073742336,rm,rm,[]),Ir(1073742336,um,um,[]),Ir(1073742336,nu,nu,[]),Ir(1073742336,kc,kc,[Uu,[2,Nc],[2,ea]]),Ir(1073742336,Gc,Gc,[]),Ir(1073742336,vf,vf,[]),Ir(1073742336,Xl,Xl,[]),Ir(1073742336,hg,hg,[]),Ir(1073742336,dg,dg,[]),Ir(1073742336,bp,bp,[]),Ir(1073742336,fg,fg,[]),Ir(1073742336,Jo,Jo,[]),Ir(256,Mi,"USD",[]),Ir(256,Ae,"root",[]),Ir(256,cf,"BrowserAnimations",[]),Ir(256,Yf,"XSRF-TOKEN",[]),Ir(256,Zf,"X-XSRF-TOKEN",[])])}));(function(){if(Xt)throw new Error("Cannot enable prod mode after platform setup.");Jt=!1})(),Tc().bootstrapModuleFactory(pg).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,o||(c=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,l=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==l)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,p.prototype.create),i}return r.__extends(e,t),e}(Error),p=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?m(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",l=new f(i,a),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=r[h])}return l},t}();function m(t,e){return t.replace(g,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var v=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=y(u(s[0])||""),n=y(u(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(l^u),s=1518500249):(i=a^l^u,s=1859775393):r<60?(i=a&l|u&(a|l),s=2400959708):(i=a^l^u,s=3395469782);var h=(o<<5|o>>>27)+i+c+s+n[r]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),b=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function w(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=p,e.FirebaseError=f,e.Sha1=_,e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=l,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new b(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=E,e.getUA=d,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r];n(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);